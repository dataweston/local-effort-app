{"version":3,"file":"static/js/137.8abab17a.chunk.js","mappings":"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","sources":["sanityClient.js","pages/AboutUsPage.js"],"sourcesContent":["// src/client.js\r\nimport {createClient} from '@sanity/client'\r\n\r\nexport default createClient({\r\n  projectId: 'd6l9d0ea', // Find this in your sanity.json or at manage.sanity.io\r\n  dataset: 'localeffort', // Or the name of your dataset\r\n  useCdn: false, // `false` if you want to ensure fresh data\r\n  apiVersion: '2023-05-03', // Use a consistent API version\r\n})","import React, { useState, useEffect } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport sanityClient from '../sanityClient'; // Make sure this path is correct\r\n\r\nconst AboutUsPage = () => {\r\n    const [aboutData, setAboutData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [activeSkill, setActiveSkill] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Query to get the page content, the two persons, and all special skills\r\n        const query = `{\r\n            \"page\": *[_type == \"page\" && slug.current == \"about-us\"][0],\r\n            \"persons\": *[_type == \"person\"],\r\n            \"skills\": *[_type == \"specialSkill\"]\r\n        }`;\r\n\r\n        sanityClient.fetch(query)\r\n            .then((data) => {\r\n                setAboutData(data);\r\n                // Set the active skill only if skills exist\r\n                if (data?.skills && data.skills.length > 0) {\r\n                    setActiveSkill(data.skills[0]);\r\n                }\r\n                setLoading(false);\r\n            })\r\n            .catch(console.error);\r\n    }, []);\r\n\r\n    if (loading) return <div>Loading...</div>;\r\n    if (!aboutData) return <div>Could not load page data.</div>;\r\n\r\n    // By adding \"= []\", we ensure that if persons or skills don't exist,\r\n    // we get an empty array instead of an error.\r\n    const { page, persons = [], skills = [] } = aboutData;\r\n    const weston = persons.find(p => p.name.includes(\"Weston\"));\r\n    const catherine = persons.find(p => p.name.includes(\"Catherine\"));\r\n\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>{page?.title || 'About Us'} | Local Effort</title>\r\n                <meta name=\"description\" content={page?.introduction || \"Meet the chefs behind Local Effort.\"} />\r\n            </Helmet>\r\n            <div className=\"space-y-16\">\r\n                {/* This section will now show a message if the main page content is missing */}\r\n                {!page && (\r\n                    <div className=\"card text-body bg-yellow-100 border-yellow-400\">\r\n                        <strong>Content Missing:</strong> Please ensure a \"Page\" document with the exact slug \"about-us\" has been created and published in your Sanity Studio.\r\n                    </div>\r\n                )}\r\n                <h2 className=\"text-hero uppercase border-b border-gray-900 pb-4\">{page?.title}</h2>\r\n                <p className=\"text-body text-lg max-w-3xl\">{page?.introduction}</p>\r\n                \r\n                {/* This section will now show a message if the person documents are missing */}\r\n                <div className=\"grid md:grid-cols-2 gap-8\">\r\n                    {persons.length === 0 && (\r\n                         <div className=\"card text-body md:col-span-2 bg-yellow-100 border-yellow-400\">\r\n                            <strong>Content Missing:</strong> Please ensure \"Person\" documents for the team have been created and published in your Sanity Studio.\r\n                        </div>\r\n                    )}\r\n                    {weston && (\r\n                        <div className=\"card\">\r\n                            <h3 className=\"text-heading\">{weston.name}</h3>\r\n                            {/* You would need to configure image URLs from Sanity */}\r\n                            {/* <img src={urlFor(weston.image).url()} alt={weston.name} className=\"my-4 rounded-md\" /> */}\r\n                            <p className=\"text-body text-gray-600 mb-4\">{weston.role}</p>\r\n                            <p className=\"text-body\">{weston.bio}</p>\r\n                        </div>\r\n                    )}\r\n                    {catherine && (\r\n                        <div className=\"card\">\r\n                            <h3 className=\"text-heading\">{catherine.name}</h3>\r\n                            {/* <img src={urlFor(catherine.image).url()} alt={catherine.name} className=\"my-4 rounded-md\" /> */}\r\n                            <p className=\"text-body text-gray-600 mb-4\">{catherine.role}</p>\r\n                            <p className=\"text-body\">{catherine.bio}</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                 <div className=\"card\">\r\n                    <h3 className=\"text-heading mb-4\">Special Skills</h3>\r\n                    <div className=\"grid md:grid-cols-3 gap-8\">\r\n                        <div className=\"md:col-span-1 text-body flex flex-col space-y-2\">\r\n                           {skills.map(skill => (\r\n                               <button key={skill.name} onMouseEnter={() => setActiveSkill(skill)} className={`text-left p-2 border-l-2 rounded-sm ${activeSkill?.name === skill.name ? 'border-[var(--color-accent)] bg-gray-200' : 'border-transparent hover:bg-gray-200'}`}>\r\n                                   {skill.name}\r\n                               </button>\r\n                           ))}\r\n                        </div>\r\n                        {activeSkill && (\r\n                            <div className=\"md:col-span-2 bg-gray-200 p-6 text-body min-h-[150px] rounded-md\">\r\n                                <p>{activeSkill.description}</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AboutUsPage;\r\n"],"names":["createClient","projectId","dataset","useCdn","apiVersion","AboutUsPage","aboutData","setAboutData","useState","loading","setLoading","activeSkill","setActiveSkill","useEffect","sanityClient","fetch","then","data","skills","length","catch","console","error","_jsx","children","page","persons","weston","find","p","name","includes","catherine","_jsxs","_Fragment","Helmet","title","content","introduction","className","role","bio","map","skill","onMouseEnter","concat","description"],"sourceRoot":""}