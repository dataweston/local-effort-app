import{r as n,R as e,W as P}from"./index-B5PZCLOy.js";import{c as _}from"./sanityClient-BrVy1SUw.js";import{C as x}from"./cloudinaryImage-BE8avuXi.js";import{b as N}from"./cloudinaryContent-DL-VHaHa.js";const M=()=>{var b,h,p,y,g,E;const[i,m]=n.useState(null),[v,S]=n.useState(!0),[I,k]=n.useState(null);if(n.useEffect(()=>{const s=`{
      "page": *[_type == "page" && slug.current == "about-us"][0]{ title, introduction },
  "persons": *[_type == "person"]{ name, role, bio, image{asset->{_ref}}, headshot{ asset{ public_id }, alt } },
      "skills": *[_type == "specialSkill"]{ name, description }
    }`;let c=!0;return(async()=>{var f;try{const r=await _.fetch(s);if(!c)return;m(r),(f=r==null?void 0:r.skills)!=null&&f.length&&k(r.skills[0])}catch(r){console.error("Failed to load About page data:",r),m(null)}finally{c&&S(!1)}})(),()=>{c=!1}},[]),v)return e.createElement("div",null,"Loading...");if(!i)return e.createElement("div",null,"Could not load page data.");const{page:l,persons:o=[],skills:C=[]}=i,t=o.find(s=>s.name&&s.name.includes("Weston"))||{},a=o.find(s=>s.name&&s.name.includes("Catherine"))||{},d=((h=(b=t==null?void 0:t.headshot)==null?void 0:b.asset)==null?void 0:h.public_id)||N.weston,u=((y=(p=a==null?void 0:a.headshot)==null?void 0:p.asset)==null?void 0:y.public_id)||N.catherine;return e.createElement(e.Fragment,null,e.createElement(P,null,e.createElement("title",null,(l==null?void 0:l.title)||"About Us"," | Local Effort"),e.createElement("meta",{name:"description",content:(l==null?void 0:l.introduction)||"Meet the chefs behind Local Effort."})),e.createElement("div",{className:"space-y-16"},!l&&e.createElement("div",{className:"card text-body bg-yellow-100 border-yellow-400"},e.createElement("strong",null,"Content Missing:"),' Please ensure a "Page" document with the exact slug "about-us" has been created and published in your Sanity Studio.'),e.createElement("h2",{className:"text-hero uppercase border-b border-gray-900 pb-4"},l==null?void 0:l.title),e.createElement("p",{className:"text-body text-lg max-w-3xl"},l==null?void 0:l.introduction),e.createElement("div",{className:"grid md:grid-cols-2 gap-8"},o.length===0&&e.createElement("div",{className:"card text-body md:col-span-2 bg-yellow-100 border-yellow-400"},e.createElement("strong",null,"Content Missing:"),' Please ensure "Person" documents for the team have been created and published in your Sanity Studio.'),t&&d&&e.createElement("div",{className:"card"},e.createElement("h3",{className:"text-heading"},t.name),e.createElement("div",{className:"my-4"},e.createElement(x,{publicId:d,alt:((g=t==null?void 0:t.headshot)==null?void 0:g.alt)||(t==null?void 0:t.name)||"Team member headshot",width:600,height:400,className:"rounded-md w-full h-auto object-cover",fallbackSrc:"/gallery/IMG_3145.jpg"})),(t==null?void 0:t.role)&&e.createElement("p",{className:"text-body text-gray-600 mb-4"},t.role),(t==null?void 0:t.bio)&&e.createElement("p",{className:"text-body"},t.bio)),a&&u&&e.createElement("div",{className:"card"},e.createElement("h3",{className:"text-heading"},a.name),e.createElement("div",{className:"my-4"},e.createElement(x,{publicId:u,alt:((E=a==null?void 0:a.headshot)==null?void 0:E.alt)||(a==null?void 0:a.name)||"Team member headshot",width:600,height:400,className:"rounded-md w-full h-auto object-cover",fallbackSrc:"/gallery/catherine.jpg"})),(a==null?void 0:a.role)&&e.createElement("p",{className:"text-body text-gray-600 mb-4"},a.role),(a==null?void 0:a.bio)&&e.createElement("p",{className:"text-body"},a.bio)))))};export{M as default};
