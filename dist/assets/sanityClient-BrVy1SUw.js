const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/stegaEncodeSourceMap-SXKVEaQd.js","assets/index-B5PZCLOy.js","assets/index-BGCijlG-.css","assets/browser-DriKrk-f.js"])))=>i.map(i=>d[i]);
var Qn=Object.defineProperty;var Wt=r=>{throw TypeError(r)};var Jn=(r,e,t)=>e in r?Qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var v=(r,e,t)=>Jn(r,typeof e!="symbol"?e+"":e,t),Ht=(r,e,t)=>e.has(r)||Wt("Cannot "+t);var c=(r,e,t)=>(Ht(r,e,"read from private field"),t?t.call(r):e.get(r)),w=(r,e,t)=>e.has(r)?Wt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),b=(r,e,t,n)=>(Ht(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);import{_ as Ir}from"./index-B5PZCLOy.js";const Sr=!(typeof navigator>"u")&&navigator.product==="ReactNative",Ar={timeout:Sr?6e4:12e4},Xn=function(r){const e={...Ar,...typeof r=="string"?{url:r}:r};if(e.timeout=_r(e.timeout),e.query){const{url:t,searchParams:n}=function(s){const i=s.indexOf("?");if(i===-1)return{url:s,searchParams:new URLSearchParams};const o=s.slice(0,i),a=s.slice(i+1);if(!Sr)return{url:o,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const l=new URLSearchParams;for(const u of a.split("&")){const[d,p]=u.split("=");d&&l.append(Gt(d),Gt(p||""))}return{url:o,searchParams:l}}(e.url);for(const[s,i]of Object.entries(e.query)){if(i!==void 0)if(Array.isArray(i))for(const a of i)n.append(s,a);else n.append(s,i);const o=n.toString();o&&(e.url=`${t}?${o}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function Gt(r){return decodeURIComponent(r.replace(/\+/g," "))}function _r(r){if(r===!1||r===0)return!1;if(r.connect||r.socket)return r;const e=Number(r);return isNaN(e)?_r(Ar.timeout):{connect:e,socket:e}}const Zn=/^https?:\/\//i,Kn=function(r){if(!Zn.test(r.url))throw new Error(`"${r.url}" is not a valid URL`)};function $r(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}const es=["request","response","progress","error","abort"],Yt=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function xr(r,e){const t=[],n=Yt.reduce((i,o)=>(i[o]=i[o]||[],i),{processOptions:[Xn],validateOptions:[Kn]});function s(i){const o=es.reduce((f,y)=>(f[y]=function(){const h=Object.create(null);let g=0;return{publish:function(I){for(const E in h)h[E](I)},subscribe:function(I){const E=g++;return h[E]=I,function(){delete h[E]}}}}(),f),{}),a=(f=>function(y,h,...g){const I=y==="onError";let E=h;for(let C=0;C<f[y].length&&(E=(0,f[y][C])(E,...g),!I||E);C++);return E})(n),l=a("processOptions",i);a("validateOptions",l);const u={options:l,channels:o,applyMiddleware:a};let d;const p=o.request.subscribe(f=>{d=e(f,(y,h)=>((g,I,E)=>{let C=g,T=I;if(!C)try{T=a("onResponse",I,E)}catch(P){T=null,C=P}C=C&&a("onError",C,E),C?o.error.publish(C):T&&o.response.publish(T)})(y,h,f))});o.abort.subscribe(()=>{p(),d&&d.abort()});const m=a("onReturn",o,u);return m===o&&o.request.publish(u),m}return s.use=function(i){if(!i)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof i=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(i.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Yt.forEach(o=>{i[o]&&n[o].push(i[o])}),t.push(i),s},s.clone=()=>xr(t,e),r.forEach(s.use),s}var Qt,Jt,ts=$r(function(){if(Jt)return Qt;Jt=1;var r=function(t){return t.replace(/^\s+|\s+$/g,"")},e=function(t){return Object.prototype.toString.call(t)==="[object Array]"};return Qt=function(t){if(!t)return{};for(var n=Object.create(null),s=r(t).split(`
`),i=0;i<s.length;i++){var o=s[i],a=o.indexOf(":"),l=r(o.slice(0,a)).toLowerCase(),u=r(o.slice(a+1));typeof n[l]>"u"?n[l]=u:e(n[l])?n[l].push(u):n[l]=[n[l],u]}return n}}()),Oe,Re,ve,je,B,Pe,qe,Cr;let It=(Cr=class{constructor(){v(this,"onabort");v(this,"onerror");v(this,"onreadystatechange");v(this,"ontimeout");v(this,"readyState",0);v(this,"response");v(this,"responseText","");v(this,"responseType","");v(this,"status");v(this,"statusText");v(this,"withCredentials");w(this,Oe);w(this,Re);w(this,ve);w(this,je,{});w(this,B);w(this,Pe,{});w(this,qe)}open(e,t,n){var s;b(this,Oe,e),b(this,Re,t),b(this,ve,""),this.readyState=1,(s=this.onreadystatechange)==null||s.call(this),b(this,B,void 0)}abort(){c(this,B)&&c(this,B).abort()}getAllResponseHeaders(){return c(this,ve)}setRequestHeader(e,t){c(this,je)[e]=t}setInit(e,t=!0){b(this,Pe,e),b(this,qe,t)}send(e){const t=this.responseType!=="arraybuffer",n={...c(this,Pe),method:c(this,Oe),headers:c(this,je),body:e};typeof AbortController=="function"&&c(this,qe)&&(b(this,B,new AbortController),typeof EventTarget<"u"&&c(this,B).signal instanceof EventTarget&&(n.signal=c(this,B).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(c(this,Re),n).then(s=>{var i;return s.headers.forEach((o,a)=>{b(this,ve,c(this,ve)+`${a}: ${o}\r
`)}),this.status=s.status,this.statusText=s.statusText,this.readyState=3,(i=this.onreadystatechange)==null||i.call(this),t?s.text():s.arrayBuffer()}).then(s=>{var i;typeof s=="string"?this.responseText=s:this.response=s,this.readyState=4,(i=this.onreadystatechange)==null||i.call(this)}).catch(s=>{var i,o;s.name!=="AbortError"?(i=this.onerror)==null||i.call(this,s):(o=this.onabort)==null||o.call(this)})}},Oe=new WeakMap,Re=new WeakMap,ve=new WeakMap,je=new WeakMap,B=new WeakMap,Pe=new WeakMap,qe=new WeakMap,Cr);const St=typeof XMLHttpRequest=="function"?"xhr":"fetch",rs=St==="xhr"?XMLHttpRequest:It,ns=(r,e)=>{const t=r.options,n=r.applyMiddleware("finalizeOptions",t),s={},i=r.applyMiddleware("interceptRequest",void 0,{adapter:St,context:r});if(i){const h=setTimeout(e,0,null,i);return{abort:()=>clearTimeout(h)}}let o=new rs;o instanceof It&&typeof n.fetch=="object"&&o.setInit(n.fetch,n.useAbortSignal??!0);const a=n.headers,l=n.timeout;let u=!1,d=!1,p=!1;if(o.onerror=h=>{y(o instanceof It?h instanceof Error?h:new Error(`Request error while attempting to reach is ${n.url}`,{cause:h}):new Error(`Request error while attempting to reach is ${n.url}${h.lengthComputable?`(${h.loaded} of ${h.total} bytes transferred)`:""}`))},o.ontimeout=h=>{y(new Error(`Request timeout while attempting to reach ${n.url}${h.lengthComputable?`(${h.loaded} of ${h.total} bytes transferred)`:""}`))},o.onabort=()=>{f(!0),u=!0},o.onreadystatechange=function(){l&&(f(),s.socket=setTimeout(()=>m("ESOCKETTIMEDOUT"),l.socket)),!u&&o&&o.readyState===4&&o.status!==0&&function(){if(!(u||d||p)){if(o.status===0)return void y(new Error("Unknown XHR error"));f(),d=!0,e(null,{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:n.url,method:n.method,headers:ts(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}}()},o.open(n.method,n.url,!0),o.withCredentials=!!n.withCredentials,a&&o.setRequestHeader)for(const h in a)a.hasOwnProperty(h)&&o.setRequestHeader(h,a[h]);return n.rawBody&&(o.responseType="arraybuffer"),r.applyMiddleware("onRequest",{options:n,adapter:St,request:o,context:r}),o.send(n.body||null),l&&(s.connect=setTimeout(()=>m("ETIMEDOUT"),l.connect)),{abort:function(){u=!0,o&&o.abort()}};function m(h){p=!0,o.abort();const g=new Error(h==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);g.code=h,r.channels.error.publish(g)}function f(h){(h||u||o&&o.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function y(h){if(d)return;f(!0),d=!0,o=null;const g=h||new Error(`Network error while attempting to reach ${n.url}`);g.isNetworkError=!0,g.request=n,e(g)}},ss=(r=[],e=ns)=>xr(r,e);var is={},Xt,Zt,Kt,er,tr,yt={exports:{}};tr||(tr=1,function(r,e){e.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;n.splice(1,0,s,"color: inherit");let i=0,o=0;n[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(i++,a==="%c"&&(o=i))}),n.splice(o,0,s)},e.save=function(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch{}},e.load=function(){let n;try{n=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=is.DEBUG),n},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),r.exports=(er?Kt:(er=1,Kt=function(n){function s(a){let l,u,d,p=null;function m(...f){if(!m.enabled)return;const y=m,h=Number(new Date),g=h-(l||h);y.diff=g,y.prev=l,y.curr=h,l=h,f[0]=s.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");let I=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,(E,C)=>{if(E==="%%")return"%";I++;const T=s.formatters[C];if(typeof T=="function"){const P=f[I];E=T.call(y,P),f.splice(I,1),I--}return E}),s.formatArgs.call(y,f),(y.log||s.log).apply(y,f)}return m.namespace=a,m.useColors=s.useColors(),m.color=s.selectColor(a),m.extend=i,m.destroy=s.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(u!==s.namespaces&&(u=s.namespaces,d=s.enabled(a)),d),set:f=>{p=f}}),typeof s.init=="function"&&s.init(m),m}function i(a,l){const u=s(this.namespace+(typeof l>"u"?":":l)+a);return u.log=this.log,u}function o(a,l){let u=0,d=0,p=-1,m=0;for(;u<a.length;)if(d<l.length&&(l[d]===a[u]||l[d]==="*"))l[d]==="*"?(p=d,m=u,d++):(u++,d++);else{if(p===-1)return!1;d=p+1,m++,u=m}for(;d<l.length&&l[d]==="*";)d++;return d===l.length}return s.debug=s,s.default=s,s.coerce=function(a){return a instanceof Error?a.stack||a.message:a},s.disable=function(){const a=[...s.names,...s.skips.map(l=>"-"+l)].join(",");return s.enable(""),a},s.enable=function(a){s.save(a),s.namespaces=a,s.names=[],s.skips=[];const l=(typeof a=="string"?a:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const u of l)u[0]==="-"?s.skips.push(u.slice(1)):s.names.push(u)},s.enabled=function(a){for(const l of s.skips)if(o(a,l))return!1;for(const l of s.names)if(o(a,l))return!0;return!1},s.humanize=function(){if(Zt)return Xt;Zt=1;var a=1e3,l=60*a,u=60*l,d=24*u,p=7*d;function m(f,y,h,g){var I=y>=1.5*h;return Math.round(f/h)+" "+g+(I?"s":"")}return Xt=function(f,y){y=y||{};var h,g,I=typeof f;if(I==="string"&&f.length>0)return function(E){if(!((E=String(E)).length>100)){var C=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(E);if(C){var T=parseFloat(C[1]);switch((C[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*T;case"weeks":case"week":case"w":return T*p;case"days":case"day":case"d":return T*d;case"hours":case"hour":case"hrs":case"hr":case"h":return T*u;case"minutes":case"minute":case"mins":case"min":case"m":return T*l;case"seconds":case"second":case"secs":case"sec":case"s":return T*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return T;default:return}}}}(f);if(I==="number"&&isFinite(f))return y.long?(h=f,(g=Math.abs(h))>=d?m(h,g,d,"day"):g>=u?m(h,g,u,"hour"):g>=l?m(h,g,l,"minute"):g>=a?m(h,g,a,"second"):h+" ms"):function(E){var C=Math.abs(E);return C>=d?Math.round(E/d)+"d":C>=u?Math.round(E/u)+"h":C>=l?Math.round(E/l)+"m":C>=a?Math.round(E/a)+"s":E+"ms"}(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))}}(),s.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach(a=>{s[a]=n[a]}),s.names=[],s.skips=[],s.formatters={},s.selectColor=function(a){let l=0;for(let u=0;u<a.length;u++)l=(l<<5)-l+a.charCodeAt(u),l|=0;return s.colors[Math.abs(l)%s.colors.length]},s.enable(s.load()),s}))(e);const{formatters:t}=r.exports;t.j=function(n){try{return JSON.stringify(n)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}}(yt,yt.exports)),yt.exports;const os=typeof Buffer>"u"?()=>!1:r=>Buffer.isBuffer(r);function rr(r){return Object.prototype.toString.call(r)==="[object Object]"}function as(r){if(rr(r)===!1)return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(rr(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)}const us=["boolean","string","number"];function cs(){return{processOptions:r=>{const e=r.body;return!e||typeof e.pipe=="function"||os(e)||us.indexOf(typeof e)===-1&&!Array.isArray(e)&&!as(e)?r:Object.assign({},r,{body:JSON.stringify(r.body),headers:Object.assign({},r.headers,{"Content-Type":"application/json"})})}}}function ls(r){return{onResponse:t=>{const n=t.headers["content-type"]||"",s=r&&r.force||n.indexOf("application/json")!==-1;return t.body&&n&&s?Object.assign({},t,{body:e(t.body)}):t},processOptions:t=>Object.assign({},t,{headers:Object.assign({Accept:"application/json"},t.headers)})};function e(t){try{return JSON.parse(t)}catch(n){throw n.message=`Failed to parsed response body as JSON: ${n.message}`,n}}}let $e={};typeof globalThis<"u"?$e=globalThis:typeof window<"u"?$e=window:typeof global<"u"?$e=global:typeof self<"u"&&($e=self);var fs=$e;function hs(r={}){const e=r.implementation||fs.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(t,n)=>new e(s=>(t.error.subscribe(i=>s.error(i)),t.progress.subscribe(i=>s.next(Object.assign({type:"progress"},i))),t.response.subscribe(i=>{s.next(Object.assign({type:"response"},i)),s.complete()}),t.request.publish(n),()=>t.abort.publish()))}}function ds(){return{onRequest:r=>{if(r.adapter!=="xhr")return;const e=r.request,t=r.context;function n(s){return i=>{const o=i.lengthComputable?i.loaded/i.total*100:-1;t.channels.progress.publish({stage:s,percent:o,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"))}}}var Tr=(r,e,t)=>(t.method==="GET"||t.method==="HEAD")&&(r.isNetworkError||!1);function ps(r){return 100*Math.pow(2,r)+100*Math.random()}const xt=(r={})=>(e=>{const t=e.maxRetries||5,n=e.retryDelay||ps,s=e.shouldRetry;return{onError:(i,o)=>{const a=o.options,l=a.maxRetries||t,u=a.retryDelay||n,d=a.shouldRetry||s,p=a.attemptNumber||0;if((m=a.body)!==null&&typeof m=="object"&&typeof m.pipe=="function"||!d(i,p,a)||p>=l)return i;var m;const f=Object.assign({},o,{options:Object.assign({},a,{attemptNumber:p+1})});return setTimeout(()=>o.channels.request.publish(f),u(p)),null}}})({shouldRetry:Tr,...r});xt.shouldRetry=Tr;var At=function(r,e){return At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},At(r,e)};function Z(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");At(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function ys(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(p){o(p)}}function l(d){try{u(n.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(r,e||[])).next())})}function Or(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ce(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function J(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}function X(r,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}function ye(r){return this instanceof ye?(this.v=r,this):new ye(r)}function ms(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(f){return function(y){return Promise.resolve(y).then(f,p)}}function a(f,y){n[f]&&(s[f]=function(h){return new Promise(function(g,I){i.push([f,h,g,I])>1||l(f,h)})},y&&(s[f]=y(s[f])))}function l(f,y){try{u(n[f](y))}catch(h){m(i[0][3],h)}}function u(f){f.value instanceof ye?Promise.resolve(f.value.v).then(d,p):m(i[0][2],f)}function d(f){l("next",f)}function p(f){l("throw",f)}function m(f,y){f(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function vs(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Ce=="function"?Ce(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=r[i]&&function(o){return new Promise(function(a,l){o=r[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function $(r){return typeof r=="function"}function Tt(r){var e=function(n){Error.call(n),n.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var mt=Tt(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Xe(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}var ze=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,n,s,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Ce(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(h){e={error:h}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var d=this.initialTeardown;if($(d))try{d()}catch(h){i=h instanceof mt?h.errors:[h]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var m=Ce(p),f=m.next();!f.done;f=m.next()){var y=f.value;try{nr(y)}catch(h){i=i??[],h instanceof mt?i=X(X([],J(i)),J(h.errors)):i.push(h)}}}catch(h){n={error:h}}finally{try{f&&!f.done&&(s=m.return)&&s.call(m)}finally{if(n)throw n.error}}}if(i)throw new mt(i)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)nr(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Xe(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&Xe(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}(),Rr=ze.EMPTY;function jr(r){return r instanceof ze||r&&"closed"in r&&$(r.remove)&&$(r.add)&&$(r.unsubscribe)}function nr(r){$(r)?r():r.unsubscribe()}var gs={Promise:void 0},bs={setTimeout:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setTimeout.apply(void 0,X([r,e],J(t)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function Pr(r){bs.setTimeout(function(){throw r})}function sr(){}function Je(r){r()}var Ot=function(r){Z(e,r);function e(t){var n=r.call(this)||this;return n.isStopped=!1,t?(n.destination=t,jr(t)&&t.add(n)):n.destination=Cs,n}return e.create=function(t,n,s){return new Ie(t,n,s)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(ze),ws=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){Qe(n)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){Qe(n)}else Qe(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Qe(t)}},r}(),Ie=function(r){Z(e,r);function e(t,n,s){var i=r.call(this)||this,o;return $(t)||!t?o={next:t??void 0,error:n??void 0,complete:s??void 0}:o=t,i.destination=new ws(o),i}return e}(Ot);function Qe(r){Pr(r)}function Es(r){throw r}var Cs={closed:!0,next:sr,error:Es,complete:sr},Rt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function at(r){return r}function Is(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return qr(r)}function qr(r){return r.length===0?at:r.length===1?r[0]:function(t){return r.reduce(function(n,s){return s(n)},t)}}var O=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var s=this,i=As(e)?e:new Ie(e,t,n);return Je(function(){var o=s,a=o.operator,l=o.source;i.add(a?a.call(i,l):l?s._subscribe(i):s._trySubscribe(i))}),i},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var n=this;return t=ir(t),new t(function(s,i){var o=new Ie({next:function(a){try{e(a)}catch(l){i(l),o.unsubscribe()}},error:i,complete:s});n.subscribe(o)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[Rt]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qr(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=ir(e),new e(function(n,s){var i;t.subscribe(function(o){return i=o},function(o){return s(o)},function(){return n(i)})})},r.create=function(e){return new r(e)},r}();function ir(r){var e;return(e=r??gs.Promise)!==null&&e!==void 0?e:Promise}function Ss(r){return r&&$(r.next)&&$(r.error)&&$(r.complete)}function As(r){return r&&r instanceof Ot||Ss(r)&&jr(r)}function _s(r){return $(r==null?void 0:r.lift)}function N(r){return function(e){if(_s(e))return e.lift(function(t){try{return r(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(r,e,t,n,s){return new $s(r,e,t,n,s)}var $s=function(r){Z(e,r);function e(t,n,s,i,o,a){var l=r.call(this,t)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=n?function(u){try{n(u)}catch(d){t.error(d)}}:r.prototype._next,l._error=i?function(u){try{i(u)}catch(d){t.error(d)}finally{this.unsubscribe()}}:r.prototype._error,l._complete=s?function(){try{s()}catch(u){t.error(u)}finally{this.unsubscribe()}}:r.prototype._complete,l}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(Ot),xs=Tt(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),jt=function(r){Z(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new or(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new xs},e.prototype.next=function(t){var n=this;Je(function(){var s,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=Ce(n.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(t)}}catch(u){s={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}}})},e.prototype.error=function(t){var n=this;Je(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var s=n.observers;s.length;)s.shift().error(t)}})},e.prototype.complete=function(){var t=this;Je(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,s=this,i=s.hasError,o=s.isStopped,a=s.observers;return i||o?Rr:(this.currentObservers=null,a.push(t),new ze(function(){n.currentObservers=null,Xe(a,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,s=n.hasError,i=n.thrownError,o=n.isStopped;s?t.error(i):o&&t.complete()},e.prototype.asObservable=function(){var t=new O;return t.source=this,t},e.create=function(t,n){return new or(t,n)},e}(O),or=function(r){Z(e,r);function e(t,n){var s=r.call(this)||this;return s.destination=t,s.source=n,s}return e.prototype.next=function(t){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.next)===null||s===void 0||s.call(n,t)},e.prototype.error=function(t){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.error)===null||s===void 0||s.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,s;return(s=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&s!==void 0?s:Rr},e}(jt),Pt={now:function(){return(Pt.delegate||Date).now()},delegate:void 0},Ts=function(r){Z(e,r);function e(t,n,s){t===void 0&&(t=1/0),n===void 0&&(n=1/0),s===void 0&&(s=Pt);var i=r.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=s,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return e.prototype.next=function(t){var n=this,s=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,l=n._windowTime;s||(i.push(t),!o&&i.push(a.now()+l)),this._trimBuffer(),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(t),s=this,i=s._infiniteTimeWindow,o=s._buffer,a=o.slice(),l=0;l<a.length&&!t.closed;l+=i?1:2)t.next(a[l]);return this._checkFinalizedStatuses(t),n},e.prototype._trimBuffer=function(){var t=this,n=t._bufferSize,s=t._timestampProvider,i=t._buffer,o=t._infiniteTimeWindow,a=(o?1:2)*n;if(n<1/0&&a<i.length&&i.splice(0,i.length-a),!o){for(var l=s.now(),u=0,d=1;d<i.length&&i[d]<=l;d+=2)u=d;u&&i.splice(0,u+1)}},e}(jt),Os=function(r){Z(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return this},e}(ze),ar={setInterval:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setInterval.apply(void 0,X([r,e],J(t)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},Rs=function(r){Z(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.scheduler=t,s.work=n,s.pending=!1,s}return e.prototype.schedule=function(t,n){var s;if(n===void 0&&(n=0),this.closed)return this;this.state=t;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(t,n,s){return s===void 0&&(s=0),ar.setInterval(t.flush.bind(t,this),s)},e.prototype.recycleAsyncId=function(t,n,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return n;n!=null&&ar.clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(t,n);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var s=!1,i;try{this.work(t)}catch(o){s=!0,i=o||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),i},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,s=t.scheduler,i=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Xe(i,this),n!=null&&(this.id=this.recycleAsyncId(s,n,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(Os),ur=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},r.now=Pt.now,r}(),js=function(r){Z(e,r);function e(t,n){n===void 0&&(n=ur.now);var s=r.call(this,t,n)||this;return s.actions=[],s._active=!1,s}return e.prototype.flush=function(t){var n=this.actions;if(this._active){n.push(t);return}var s;this._active=!0;do if(s=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,s){for(;t=n.shift();)t.unsubscribe();throw s}},e}(ur),Ps=new js(Rs),qs=Ps,Fr=new O(function(r){return r.complete()});function Fs(r){return r&&$(r.schedule)}function qt(r){return r[r.length-1]}function Ds(r){return $(qt(r))?r.pop():void 0}function Ft(r){return Fs(qt(r))?r.pop():void 0}function ks(r,e){return typeof qt(r)=="number"?r.pop():e}var Dr=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function kr(r){return $(r==null?void 0:r.then)}function Mr(r){return $(r[Rt])}function Vr(r){return Symbol.asyncIterator&&$(r==null?void 0:r[Symbol.asyncIterator])}function Lr(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ms(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ur=Ms();function Nr(r){return $(r==null?void 0:r[Ur])}function zr(r){return ms(this,arguments,function(){var t,n,s,i;return Or(this,function(o){switch(o.label){case 0:t=r.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,ye(t.read())];case 3:return n=o.sent(),s=n.value,i=n.done,i?[4,ye(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,ye(s)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Br(r){return $(r==null?void 0:r.getReader)}function z(r){if(r instanceof O)return r;if(r!=null){if(Mr(r))return Vs(r);if(Dr(r))return Ls(r);if(kr(r))return Us(r);if(Vr(r))return Wr(r);if(Nr(r))return Ns(r);if(Br(r))return zs(r)}throw Lr(r)}function Vs(r){return new O(function(e){var t=r[Rt]();if($(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ls(r){return new O(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function Us(r){return new O(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,Pr)})}function Ns(r){return new O(function(e){var t,n;try{for(var s=Ce(r),i=s.next();!i.done;i=s.next()){var o=i.value;if(e.next(o),e.closed)return}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}e.complete()})}function Wr(r){return new O(function(e){Bs(r,e).catch(function(t){return e.error(t)})})}function zs(r){return Wr(zr(r))}function Bs(r,e){var t,n,s,i;return ys(this,void 0,void 0,function(){var o,a;return Or(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),t=vs(r),l.label=1;case 1:return[4,t.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),s={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function fe(r,e,t,n,s){n===void 0&&(n=0),s===void 0&&(s=!1);var i=e.schedule(function(){t(),s?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(i),!s)return i}function Hr(r,e){return e===void 0&&(e=0),N(function(t,n){t.subscribe(se(n,function(s){return fe(n,r,function(){return n.next(s)},e)},function(){return fe(n,r,function(){return n.complete()},e)},function(s){return fe(n,r,function(){return n.error(s)},e)}))})}function Gr(r,e){return e===void 0&&(e=0),N(function(t,n){n.add(r.schedule(function(){return t.subscribe(n)},e))})}function Ws(r,e){return z(r).pipe(Gr(e),Hr(e))}function Hs(r,e){return z(r).pipe(Gr(e),Hr(e))}function Gs(r,e){return new O(function(t){var n=0;return e.schedule(function(){n===r.length?t.complete():(t.next(r[n++]),t.closed||this.schedule())})})}function Ys(r,e){return new O(function(t){var n;return fe(t,e,function(){n=r[Ur](),fe(t,e,function(){var s,i,o;try{s=n.next(),i=s.value,o=s.done}catch(a){t.error(a);return}o?t.complete():t.next(i)},0,!0)}),function(){return $(n==null?void 0:n.return)&&n.return()}})}function Yr(r,e){if(!r)throw new Error("Iterable cannot be null");return new O(function(t){fe(t,e,function(){var n=r[Symbol.asyncIterator]();fe(t,e,function(){n.next().then(function(s){s.done?t.complete():t.next(s.value)})},0,!0)})})}function Qs(r,e){return Yr(zr(r),e)}function Js(r,e){if(r!=null){if(Mr(r))return Ws(r,e);if(Dr(r))return Gs(r,e);if(kr(r))return Hs(r,e);if(Vr(r))return Yr(r,e);if(Nr(r))return Ys(r,e);if(Br(r))return Qs(r,e)}throw Lr(r)}function Be(r,e){return e?Js(r,e):z(r)}function ut(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Ft(r);return Be(r,t)}function Qr(r,e){var t=$(r)?r:function(){return r},n=function(s){return s.error(t())};return new O(n)}function Xs(r){return!!r&&(r instanceof O||$(r.lift)&&$(r.subscribe))}var Jr=Tt(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function S(r,e){return new Promise(function(t,n){var s=!1,i;r.subscribe({next:function(o){i=o,s=!0},error:n,complete:function(){s?t(i):n(new Jr)}})})}function vt(r,e){return new Promise(function(t,n){var s=new Ie({next:function(i){t(i),s.unsubscribe()},error:n,complete:function(){n(new Jr)}});r.subscribe(s)})}function Zs(r){return r instanceof Date&&!isNaN(r)}function R(r,e){return N(function(t,n){var s=0;t.subscribe(se(n,function(i){n.next(r.call(e,i,s++))}))})}var Ks=Array.isArray;function ei(r,e){return Ks(e)?r.apply(void 0,X([],J(e))):r(e)}function ti(r){return R(function(e){return ei(r,e)})}function ri(r,e,t){return t===void 0&&(t=at),function(n){cr(e,function(){for(var s=r.length,i=new Array(s),o=s,a=s,l=function(d){cr(e,function(){var p=Be(r[d],e),m=!1;p.subscribe(se(n,function(f){i[d]=f,m||(m=!0,a--),a||n.next(t(i.slice()))},function(){--o||n.complete()}))},n)},u=0;u<s;u++)l(u)})}}function cr(r,e,t){e()}function ni(r,e,t,n,s,i,o,a){var l=[],u=0,d=0,p=!1,m=function(){p&&!l.length&&!u&&e.complete()},f=function(h){return u<n?y(h):l.push(h)},y=function(h){u++;var g=!1;z(t(h,d++)).subscribe(se(e,function(I){e.next(I)},function(){g=!0},void 0,function(){if(g)try{u--;for(var I=function(){var E=l.shift();o||y(E)};l.length&&u<n;)I();m()}catch(E){e.error(E)}}))};return r.subscribe(se(e,f,function(){p=!0,m()})),function(){}}function We(r,e,t){return t===void 0&&(t=1/0),$(e)?We(function(n,s){return R(function(i,o){return e(n,i,s,o)})(z(r(n,s)))},t):(typeof e=="number"&&(t=e),N(function(n,s){return ni(n,s,r,t)}))}function Xr(r){return r===void 0&&(r=1/0),We(at,r)}function si(){return Xr(1)}function Zr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return si()(Be(r,Ft(r)))}function Kr(r){return new O(function(e){z(r()).subscribe(e)})}function ii(r,e,t){return t===void 0&&(t=qs),new O(function(n){var s=Zs(r)?+r-t.now():r;s<0&&(s=0);var i=0;return t.schedule(function(){n.closed||(n.next(i++),n.complete())},s)})}function oi(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Ft(r),n=ks(r,1/0),s=r;return s.length?s.length===1?z(s[0]):Xr(n)(Be(s,t)):Fr}var ai=Array.isArray;function ui(r){return r.length===1&&ai(r[0])?r[0]:r}function _e(r,e){return N(function(t,n){var s=0;t.subscribe(se(n,function(i){return r.call(e,i,s++)&&n.next(i)}))})}function Dt(r){return N(function(e,t){var n=null,s=!1,i;n=e.subscribe(se(t,void 0,void 0,function(o){i=z(r(o,Dt(r)(e))),n?(n.unsubscribe(),n=null,i.subscribe(t)):s=!0})),s&&(n.unsubscribe(),n=null,i.subscribe(t))})}function en(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Ds(r);return t?Is(en.apply(void 0,X([],J(r))),ti(t)):N(function(n,s){ri(X([n],J(ui(r))))(s)})}function ci(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return en.apply(void 0,X([],J(r)))}function tn(r){return N(function(e,t){try{e.subscribe(t)}finally{t.add(r)}})}function rn(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new jt}:e,n=r.resetOnError,s=n===void 0?!0:n,i=r.resetOnComplete,o=i===void 0?!0:i,a=r.resetOnRefCountZero,l=a===void 0?!0:a;return function(u){var d,p,m,f=0,y=!1,h=!1,g=function(){p==null||p.unsubscribe(),p=void 0},I=function(){g(),d=m=void 0,y=h=!1},E=function(){var C=d;I(),C==null||C.unsubscribe()};return N(function(C,T){f++,!h&&!y&&g();var P=m=m??t();T.add(function(){f--,f===0&&!h&&!y&&(p=gt(E,l))}),P.subscribe(T),!d&&f>0&&(d=new Ie({next:function(V){return P.next(V)},error:function(V){h=!0,g(),p=gt(I,s,V),P.error(V)},complete:function(){y=!0,g(),p=gt(I,o),P.complete()}}),z(C).subscribe(d))})(u)}}function gt(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(e===!0){r();return}if(e!==!1){var s=new Ie({next:function(){s.unsubscribe(),r()}});return z(e.apply(void 0,X([],J(t)))).subscribe(s)}}function li(r,e,t){var n,s=!1;return n=r,rn({connector:function(){return new Ts(n,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function fi(r,e,t){var n=$(r)||e||t?{next:r,error:e,complete:t}:r;return n?N(function(s,i){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var a=!0;s.subscribe(se(i,function(l){var u;(u=n.next)===null||u===void 0||u.call(n,l),i.next(l)},function(){var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),i.complete()},function(l){var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,l),i.error(l)},function(){var l,u;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):at}function nn(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}var sn={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},kt={0:8203,1:8204,2:8205,3:65279},hi=new Array(4).fill(String.fromCodePoint(kt[0])).join("");function di(r){let e=JSON.stringify(r);return`${hi}${Array.from(e).map(t=>{let n=t.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${t} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(s=>String.fromCodePoint(kt[s])).join("")}).join("")}`}function pi(r){return!Number.isNaN(Number(r))||/[a-z]/i.test(r)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(r)?!1:!!Date.parse(r)}function yi(r){try{new URL(r,r.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function ia(r,e,t="auto"){return t===!0||t==="auto"&&(pi(r)||yi(r))?r:`${r}${di(e)}`}Object.fromEntries(Object.entries(kt).map(r=>r.reverse()));Object.fromEntries(Object.entries(sn).map(r=>r.reverse()));var mi=`${Object.values(sn).map(r=>`\\u{${r.toString(16)}}`).join("")}`,lr=new RegExp(`[${mi}]{4,}`,"gu");function vi(r){var e;return{cleaned:r.replace(lr,""),encoded:((e=r.match(lr))==null?void 0:e[0])||""}}function gi(r){return r&&JSON.parse(vi(JSON.stringify(r)).cleaned)}function bi(r){return gi(r)}const wi="drafts",Ei="versions",Se=".",Ze=`${wi}${Se}`,on=`${Ei}${Se}`;function ct(r){return r.startsWith(Ze)}function lt(r){return r.startsWith(on)}function an(r){if(lt(r)){const e=ft(r);return Ze+e}return ct(r)?r:Ze+r}function He(r,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${on}${e}${Se}${ft(r)}`}function un(r){if(!lt(r))return;const[e,t,...n]=r.split(Se);return t}function ft(r){return lt(r)?r.split(Se).slice(2).join(Se):ct(r)?r.slice(Ze.length):r}let Ci=r=>crypto.getRandomValues(new Uint8Array(r)),Ii=(r,e,t)=>{let n=(2<<Math.log(r.length-1)/Math.LN2)-1,s=-~(1.6*n*e/r.length);return(i=e)=>{let o="";for(;;){let a=t(s),l=s|0;for(;l--;)if(o+=r[a[l]&n]||"",o.length===i)return o}}},Si=(r,e=21)=>Ii(r,e,Ci);const fr=/\r\n|[\n\r\u2028\u2029]/;function Ai(r,e,t){const n=r.split(fr),s={start:hr(e.start,n),end:e.end?hr(e.end,n):void 0},{start:i,end:o,markerLines:a}=_i(s,n),l=`${o}`.length;return r.split(fr,o).slice(i,o).map((u,d)=>{const p=i+1+d,m=` ${` ${p}`.slice(-l)} |`,f=a[p],y=!a[p+1];if(!f)return` ${m}${u.length>0?` ${u}`:""}`;let h="";if(Array.isArray(f)){const g=u.slice(0,Math.max(f[0]-1,0)).replace(/[^\t]/g," "),I=f[1]||1;h=[`
 `,m.replace(/\d/g," ")," ",g,"^".repeat(I)].join(""),y&&t&&(h+=" "+t)}return[">",m,u.length>0?` ${u}`:"",h].join("")}).join(`
`)}function _i(r,e){const t={...r.start},n={...t,...r.end},s=2,i=3,o=t.line??-1,a=t.column??0,l=n.line,u=n.column;let d=Math.max(o-(s+1),0),p=Math.min(e.length,l+i);o===-1&&(d=0),l===-1&&(p=e.length);const m=l-o,f={};if(m)for(let y=0;y<=m;y++){const h=y+o;if(!a)f[h]=!0;else if(y===0){const g=e[h-1].length;f[h]=[a,g-a+1]}else if(y===m)f[h]=[0,u];else{const g=e[h-y].length;f[h]=[0,g]}}else a===u?a?f[o]=[a,0]:f[o]=!0:f[o]=[a,u-a];return{start:d,end:p,markerLines:f}}function hr(r,e){var n;let t=0;for(let s=0;s<e.length;s++){const i=e[s].length+1;if(t+i>r)return{line:s+1,column:r-t};t+=i}return{line:e.length,column:((n=e[e.length-1])==null?void 0:n.length)??0}}const bt=5;class $i extends Error{constructor(t,n){const s=cn(t,n);super(s.message);v(this,"response");v(this,"statusCode",400);v(this,"responseBody");v(this,"details");Object.assign(this,s)}}class xi extends Error{constructor(t){const n=cn(t);super(n.message);v(this,"response");v(this,"statusCode",500);v(this,"responseBody");v(this,"details");Object.assign(this,n)}}function cn(r,e){var i,o;const t=r.body,n={response:r,statusCode:r.statusCode,responseBody:Ri(t,r),message:"",details:void 0};if(!nn(t))return n.message=wt(r,t),n;const s=t.error;if(typeof s=="string"&&typeof t.message=="string")return n.message=`${s} - ${t.message}`,n;if(typeof s!="object"||s===null)return typeof s=="string"?n.message=s:typeof t.message=="string"?n.message=t.message:n.message=wt(r,t),n;if(Ti(s)||Oi(s)){const a=s.items||[],l=a.slice(0,bt).map(d=>{var p;return(p=d.error)==null?void 0:p.description}).filter(Boolean);let u=l.length?`:
- ${l.join(`
- `)}`:"";return a.length>bt&&(u+=`
...and ${a.length-bt} more`),n.message=`${s.description}${u}`,n.details=t.error,n}if(ln(s)){const a=(o=(i=e==null?void 0:e.options)==null?void 0:i.query)==null?void 0:o.tag;return n.message=fn(s,a),n.details=t.error,n}return"description"in s&&typeof s.description=="string"?(n.message=s.description,n.details=s,n):(n.message=wt(r,t),n)}function Ti(r){return"type"in r&&r.type==="mutationError"&&"description"in r&&typeof r.description=="string"}function Oi(r){return"type"in r&&r.type==="actionError"&&"description"in r&&typeof r.description=="string"}function ln(r){return nn(r)&&r.type==="queryParseError"&&typeof r.query=="string"&&typeof r.start=="number"&&typeof r.end=="number"}function fn(r,e){const{query:t,start:n,end:s,description:i}=r;if(!t||typeof n>"u")return`GROQ query parse error: ${i}`;const o=e?`

Tag: ${e}`:"";return`GROQ query parse error:
${Ai(t,{start:n,end:s},i)}${o}`}function wt(r,e){const t=typeof e=="string"?` (${ji(e,100)})`:"",n=r.statusMessage?` ${r.statusMessage}`:"";return`${r.method}-request to ${r.url} resulted in HTTP ${r.statusCode}${n}${t}`}function Ri(r,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(r,null,2):r}function ji(r,e){return r.length>e?`${r.slice(0,e)}…`:r}class Pi extends Error{constructor({projectId:t}){super("CorsOriginError");v(this,"projectId");v(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=t;const n=new URL(`https://sanity.io/manage/project/${t}/api`);if(typeof location<"u"){const{origin:s}=location;n.searchParams.set("cors","add"),n.searchParams.set("origin",s),this.addOriginUrl=n,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${n}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${n}`}}const qi={onResponse:(r,e)=>{if(r.statusCode>=500)throw new xi(r);if(r.statusCode>=400)throw new $i(r,e);return r}};function Fi(r={}){const e={},t=n=>r.ignoreWarnings===void 0?!1:(Array.isArray(r.ignoreWarnings)?r.ignoreWarnings:[r.ignoreWarnings]).some(s=>typeof s=="string"?n.includes(s):s instanceof RegExp?s.test(n):!1);return{onResponse:n=>{const s=n.headers["x-sanity-warning"],i=Array.isArray(s)?s:[s];for(const o of i)!o||e[o]||t(o)||(e[o]=!0,console.warn(o));return n}}}function dr(r,e={}){return ss([xt({shouldRetry:Di}),...r,Fi(e),cs(),ls(),ds(),qi,hs({implementation:O})])}function Di(r,e,t){if(t.maxRetries===0)return!1;const n=t.method==="GET"||t.method==="HEAD",s=(t.uri||t.url).startsWith("/data/query"),i=r.response&&(r.response.statusCode===429||r.response.statusCode===502||r.response.statusCode===503);return(n||s)&&i?!0:xt.shouldRetry(r,e,t)}const ki="https://www.sanity.io/help/";function Mt(r){return ki+r}const pr=["image","file"],yr=["before","after","replace"],hn=r=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(r))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Mi=r=>{if(!/^[-a-z0-9]+$/i.test(r))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Vi=r=>{if(pr.indexOf(r)===-1)throw new Error(`Invalid asset type: ${r}. Must be one of ${pr.join(", ")}`)},xe=(r,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${r}() takes an object of properties`)},Ke=(r,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${r}(): "${e}" is not a valid document ID`)},Ae=(r,e)=>{if(!e._id)throw new Error(`${r}() requires that the document contains an ID ("_id" property)`);Ke(r,e._id)},Li=(r,e)=>{if(typeof e!="string")throw new Error(`\`${r}()\`: \`${e}\` is not a valid document type`)},dn=(r,e)=>{if(!e._type)throw new Error(`\`${r}()\` requires that the document contains a type (\`_type\` property)`);Li(r,e._type)},Ui=(r,e)=>{if(e._id&&e._id!==r)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${r}\`)`)},Ni=(r,e,t)=>{const n="insert(at, selector, items)";if(yr.indexOf(r)===-1){const s=yr.map(i=>`"${i}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${s}`)}if(typeof e!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(t))throw new Error(`${n} takes an "items"-argument which must be an array`)},de=r=>{if(!r.dataset)throw new Error("`dataset` must be provided to perform queries");return r.dataset||""},pn=r=>{if(typeof r!="string"||!/^[a-z0-9._-]{1,75}$/i.test(r))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return r},yn=r=>{if(!r["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:t}=r["~experimental_resource"];switch(e){case"dataset":{if(t.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},oe=(r,e)=>{if(e["~experimental_resource"])throw new Error(`\`${r}\` does not support resource-based operations`)};function zi(r){let e=!1,t;return(...n)=>(e||(t=r(...n),e=!0),t)}const ie=r=>zi((...e)=>console.warn(r.join(" "),...e)),Bi=ie(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),Wi=ie(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Hi=ie(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Gi=ie(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),Yi=ie(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Mt("js-client-browser-token")} for more information and how to hide this warning.`]),Qi=ie(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),Ji=ie(["Using the Sanity client without specifying an API version is deprecated.",`See ${Mt("js-client-api-version")}`]),Xi=ie(["You have called `createVersion()` with a defined `document`. The recommended approach is to provide a `baseId` and `releaseId` instead."]),Zi="apicdn.sanity.io",Te={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Ki=["localhost","127.0.0.1","0.0.0.0"],eo=r=>Ki.indexOf(r)!==-1;function to(r){if(r==="1"||r==="X")return;const e=new Date(r);if(!(/^\d{4}-\d{2}-\d{2}$/.test(r)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function mn(r){if(Array.isArray(r)&&r.length>1&&r.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const vn=(r,e)=>{const t={...e,...r,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||Te.stega,...typeof r.stega=="boolean"?{enabled:r.stega}:r.stega||{}}};t.apiVersion||Ji();const n={...Te,...t},s=n.useProjectHostname&&!n["~experimental_resource"];if(typeof Promise>"u"){const m=Mt("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${m}`)}if(s&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(n["~experimental_resource"]&&yn(n),typeof n.perspective<"u"&&mn(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);const i=typeof window<"u"&&window.location&&window.location.hostname,o=i&&eo(window.location.hostname),a=!!n.token;n.withCredentials&&a&&(Qi(),n.withCredentials=!1),i&&o&&a&&n.ignoreBrowserTokenWarning!==!0?Yi():typeof n.useCdn>"u"&&Wi(),s&&Mi(n.projectId),n.dataset&&hn(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?pn(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===Te.apiHost,n.useCdn===!0&&n.withCredentials&&Bi(),n.useCdn=n.useCdn!==!1&&!n.withCredentials,to(n.apiVersion);const l=n.apiHost.split("://",2),u=l[0],d=l[1],p=n.isDefaultApi?Zi:d;return s?(n.url=`${u}://${n.projectId}.${d}/v${n.apiVersion}`,n.cdnUrl=`${u}://${n.projectId}.${p}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n};class gn extends Error{constructor(){super(...arguments);v(this,"name","ConnectionFailedError")}}class ro extends Error{constructor(t,n,s={}){super(t,s);v(this,"name","DisconnectError");v(this,"reason");this.reason=n}}class no extends Error{constructor(t,n){super(t);v(this,"name","ChannelError");v(this,"data");this.data=n}}class so extends Error{constructor(t,n,s={}){super(t,s);v(this,"name","MessageError");v(this,"data");this.data=n}}class mr extends Error{constructor(){super(...arguments);v(this,"name","MessageParseError")}}const io=["channelError","disconnect"];function bn(r,e){return Kr(()=>{const t=r();return Xs(t)?t:ut(t)}).pipe(We(t=>oo(t,e)))}function oo(r,e){return new O(t=>{const n=e.includes("open"),s=e.includes("reconnect");function i(u){if("data"in u){const[d,p]=vr(u);t.error(d?new mr("Unable to parse EventSource error message",{cause:p}):new so((p==null?void 0:p.data).message,p));return}r.readyState===r.CLOSED?t.error(new gn("EventSource connection failed")):s&&t.next({type:"reconnect"})}function o(){t.next({type:"open"})}function a(u){var m;const[d,p]=vr(u);if(d){t.error(new mr("Unable to parse EventSource message",{cause:d}));return}if(u.type==="channelError"){const f=new URL(r.url).searchParams.get("tag");t.error(new no(ao(p==null?void 0:p.data,f),p.data));return}if(u.type==="disconnect"){t.error(new ro(`Server disconnected client: ${((m=p.data)==null?void 0:m.reason)||"unknown error"}`));return}t.next({type:u.type,id:u.lastEventId,...p.data?{data:p.data}:{}})}r.addEventListener("error",i),n&&r.addEventListener("open",o);const l=[...new Set([...io,...e])].filter(u=>u!=="error"&&u!=="open"&&u!=="reconnect");return l.forEach(u=>r.addEventListener(u,a)),()=>{r.removeEventListener("error",i),n&&r.removeEventListener("open",o),l.forEach(u=>r.removeEventListener(u,a)),r.close()}})}function vr(r){try{const e=typeof r.data=="string"&&JSON.parse(r.data);return[null,{type:r.type,id:r.lastEventId,...uo(e)?{}:{data:e}}]}catch(e){return[e,null]}}function ao(r,e){const t=r.error;return t?ln(t)?fn(t,e):t.description?t.description:typeof t=="string"?t:JSON.stringify(t,null,2):r.message||"Unknown listener error"}function uo(r){for(const e in r)return!1;return!0}function wn(r){if(typeof r=="string")return{id:r};if(Array.isArray(r))return{query:"*[_id in $ids]",params:{ids:r}};if(typeof r=="object"&&r!==null&&"query"in r&&typeof r.query=="string")return"params"in r&&typeof r.params=="object"&&r.params!==null?{query:r.query,params:r.params}:{query:r.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class En{constructor(e,t={}){v(this,"selection");v(this,"operations");this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return xe("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,n){return Ni(e,t,n),this._assign("insert",{[e]:t,items:n})}append(e,t){return this.insert("after",`${e}[-1]`,t)}prepend(e,t){return this.insert("before",`${e}[0]`,t)}splice(e,t,n,s){const i=typeof n>"u"||n===-1,o=t<0?t-1:t,a=i?-1:Math.max(0,t+n),l=o<0&&a>=0?"":a,u=`${e}[${o}:${l}]`;return this.insert("replace",u,s||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...wn(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t,n=!0){return xe(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}}var ae;const Ut=class Ut extends En{constructor(t,n,s){super(t,n);w(this,ae);b(this,ae,s)}clone(){return new Ut(this.selection,{...this.operations},c(this,ae))}commit(t){if(!c(this,ae))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",s=Object.assign({returnFirst:n,returnDocuments:!0},t);return c(this,ae).mutate({patch:this.serialize()},s)}};ae=new WeakMap;let he=Ut;var ue;const Nt=class Nt extends En{constructor(t,n,s){super(t,n);w(this,ue);b(this,ue,s)}clone(){return new Nt(this.selection,{...this.operations},c(this,ue))}commit(t){if(!c(this,ue))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",s=Object.assign({returnFirst:n,returnDocuments:!0},t);return c(this,ue).mutate({patch:this.serialize()},s)}};ue=new WeakMap;let ne=Nt;const Cn={returnDocuments:!1};class In{constructor(e=[],t){v(this,"operations");v(this,"trxId");this.operations=e,this.trxId=t}create(e){return xe("create",e),this._add({create:e})}createIfNotExists(e){const t="createIfNotExists";return xe(t,e),Ae(t,e),this._add({[t]:e})}createOrReplace(e){const t="createOrReplace";return xe(t,e),Ae(t,e),this._add({[t]:e})}delete(e){return Ke("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var W;const zt=class zt extends In{constructor(t,n,s){super(t,s);w(this,W);b(this,W,n)}clone(){return new zt([...this.operations],c(this,W),this.trxId)}commit(t){if(!c(this,W))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return c(this,W).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Cn,t||{}))}patch(t,n){const s=typeof n=="function",i=typeof t!="string"&&t instanceof ne,o=typeof t=="object"&&("query"in t||"id"in t);if(i)return this._add({patch:t.serialize()});if(s){const a=n(new ne(t,{},c(this,W)));if(!(a instanceof ne))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}if(o){const a=new ne(t,n||{},c(this,W));return this._add({patch:a.serialize()})}return this._add({patch:{id:t,...n}})}};W=new WeakMap;let et=zt;var K;const Bt=class Bt extends In{constructor(t,n,s){super(t,s);w(this,K);b(this,K,n)}clone(){return new Bt([...this.operations],c(this,K),this.trxId)}commit(t){if(!c(this,K))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return c(this,K).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Cn,t||{}))}patch(t,n){const s=typeof n=="function";if(typeof t!="string"&&t instanceof he)return this._add({patch:t.serialize()});if(s){const i=n(new he(t,{},c(this,K)));if(!(i instanceof he))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};K=new WeakMap;let tt=Bt;const co="X-Sanity-Project-ID";function lo(r,e={}){const t={};r.headers&&Object.assign(t,r.headers);const n=e.token||r.token;n&&(t.Authorization=`Bearer ${n}`),!e.useGlobalApi&&!r.useProjectHostname&&r.projectId&&(t[co]=r.projectId);const s=!!(typeof e.withCredentials>"u"?r.withCredentials:e.withCredentials),i=typeof e.timeout>"u"?r.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},t,e.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:e.proxy||r.proxy,json:!0,withCredentials:s,fetch:typeof e.fetch=="object"&&typeof r.fetch=="object"?{...r.fetch,...e.fetch}:e.fetch||r.fetch})}const Sn=({query:r,params:e={},options:t={}})=>{const n=new URLSearchParams,{tag:s,includeMutations:i,returnQuery:o,...a}=t;s&&n.append("tag",s),n.append("query",r);for(const[l,u]of Object.entries(e))u!==void 0&&n.append(`$${l}`,JSON.stringify(u));for(const[l,u]of Object.entries(a))u&&n.append(l,`${u}`);return o===!1&&n.append("returnQuery","false"),i===!1&&n.append("includeMutations","false"),`?${n}`},fo=(r,e)=>r===!1?void 0:typeof r>"u"?e:r,ho=(r={})=>({dryRun:r.dryRun,returnIds:!0,returnDocuments:fo(r.returnDocuments,!0),visibility:r.visibility||"sync",autoGenerateArrayKeys:r.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:r.skipCrossDatasetReferenceValidation}),Vt=r=>r.type==="response",po=r=>r.body,yo=(r,e)=>r.reduce((t,n)=>(t[e(n)]=n,t),Object.create(null)),mo=11264;function An(r,e,t,n,s={},i={}){const o="stega"in i?{...t||{},...typeof i.stega=="boolean"?{enabled:i.stega}:i.stega||{}}:t,a=o.enabled?bi(s):s,l=i.filterResponse===!1?y=>y:y=>y.result,{cache:u,next:d,...p}={useAbortSignal:typeof i.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":i.resultSourceMap,...i,returnQuery:i.filterResponse===!1&&i.returnQuery!==!1},m=typeof u<"u"||typeof d<"u"?{...p,fetch:{cache:u,next:d}}:p,f=pe(r,e,"query",{query:n,params:a},m);return o.enabled?f.pipe(ci(Be(Ir(()=>import("./stegaEncodeSourceMap-SXKVEaQd.js"),__vite__mapDeps([0,1,2])).then(function(y){return y.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:y})=>y))),R(([y,h])=>{const g=h(y.result,y.resultSourceMap,o);return l({...y,result:g})})):f.pipe(R(l))}function ht(r,e,t,n={}){const s=(()=>{if(!n.releaseId)return t;const o=un(t);if(!o){if(ct(t))throw new Error(`The document ID (\`${t}\`) is a draft, but \`options.releaseId\` is set as \`${n.releaseId}\``);return He(t,n.releaseId)}if(o!==n.releaseId)throw new Error(`The document ID (\`${t}\`) is already a version of \`${o}\` release, but this does not match the provided \`options.releaseId\` (\`${n.releaseId}\`)`);return t})(),i={uri:L(r,"doc",s),json:!0,tag:n.tag,signal:n.signal};return Ye(r,e,i).pipe(_e(Vt),R(o=>o.body.documents&&o.body.documents[0]))}function _n(r,e,t,n={}){const s={uri:L(r,"doc",t.join(",")),json:!0,tag:n.tag,signal:n.signal};return Ye(r,e,s).pipe(_e(Vt),R(i=>{const o=yo(i.body.documents||[],a=>a._id);return t.map(a=>o[a]||null)}))}function $n(r,e,t,n={}){return pe(r,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:t}},n)}function xn(r,e,t,n){return Ae("createIfNotExists",t),dt(r,e,t,"createIfNotExists",n)}function Tn(r,e,t,n){return Ae("createOrReplace",t),dt(r,e,t,"createOrReplace",n)}function On(r,e,t,n,s){return Ae("createVersion",t),dn("createVersion",t),Xi(),x(r,e,{actionType:"sanity.action.document.version.create",publishedId:n,document:t},s)}function Rn(r,e,t,n,s,i,o){if(!n)throw new Error("`createVersion()` requires `baseId` when no `document` is provided");if(!t)throw new Error("`createVersion()` requires `publishedId` when `baseId` is provided");Ke("createVersion",n),Ke("createVersion",t);const a={actionType:"sanity.action.document.version.create",publishedId:t,baseId:n,versionId:s?He(t,s):an(t),ifBaseRevisionId:i};return x(r,e,a,o)}function jn(r,e,t,n){return pe(r,e,"mutate",{mutations:[{delete:wn(t)}]},n)}function Pn(r,e,t,n=!1,s){return x(r,e,{actionType:"sanity.action.document.version.discard",versionId:t,purge:n},s)}function qn(r,e,t,n){return Ae("replaceVersion",t),dn("replaceVersion",t),x(r,e,{actionType:"sanity.action.document.version.replace",document:t},n)}function Fn(r,e,t,n,s){return x(r,e,{actionType:"sanity.action.document.version.unpublish",versionId:t,publishedId:n},s)}function Dn(r,e,t,n){let s;t instanceof ne||t instanceof he?s={patch:t.serialize()}:t instanceof et||t instanceof tt?s=t.serialize():s=t;const i=Array.isArray(s)?s:[s],o=n&&n.transactionId||void 0;return pe(r,e,"mutate",{mutations:i,transactionId:o},n)}function x(r,e,t,n){const s=Array.isArray(t)?t:[t],i=n&&n.transactionId||void 0,o=n&&n.skipCrossDatasetReferenceValidation||void 0,a=n&&n.dryRun||void 0;return pe(r,e,"actions",{actions:s,transactionId:i,skipCrossDatasetReferenceValidation:o,dryRun:a},n)}function pe(r,e,t,n,s={}){const i=t==="mutate",o=t==="actions",a=t==="query",l=i||o?"":Sn(n),u=!i&&!o&&l.length<mo,d=u?l:"",p=s.returnFirst,{timeout:m,token:f,tag:y,headers:h,returnQuery:g,lastLiveEventId:I,cacheMode:E}=s,C=L(r,t,d),T={method:u?"GET":"POST",uri:C,json:!0,body:u?void 0:n,query:i&&ho(s),timeout:m,headers:h,token:f,tag:y,returnQuery:g,perspective:s.perspective,resultSourceMap:s.resultSourceMap,lastLiveEventId:Array.isArray(I)?I[0]:I,cacheMode:E,canUseCdn:a,signal:s.signal,fetch:s.fetch,useAbortSignal:s.useAbortSignal,useCdn:s.useCdn};return Ye(r,e,T).pipe(_e(Vt),R(po),R(P=>{if(!i)return P;const V=P.results||[];if(s.returnDocuments)return p?V[0]&&V[0].document:V.map(pt=>pt.document);const Gn=p?"documentId":"documentIds",Yn=p?V[0]&&V[0].id:V.map(pt=>pt.id);return{transactionId:P.transactionId,results:V,[Gn]:Yn}}))}function dt(r,e,t,n,s={}){const i={[n]:t},o=Object.assign({returnFirst:!0,returnDocuments:!0},s);return pe(r,e,"mutate",{mutations:[i]},o)}const Ge=r=>r.config().dataset!==void 0&&r.config().projectId!==void 0||r.config()["~experimental_resource"]!==void 0,kn=(r,e)=>Ge(r)&&e.startsWith(L(r,"query")),vo=(r,e)=>Ge(r)&&e.startsWith(L(r,"mutate")),go=(r,e)=>Ge(r)&&e.startsWith(L(r,"doc","")),bo=(r,e)=>Ge(r)&&e.startsWith(L(r,"listen")),wo=(r,e)=>Ge(r)&&e.startsWith(L(r,"history","")),Eo=(r,e)=>e.startsWith("/data/")||kn(r,e)||vo(r,e)||go(r,e)||bo(r,e)||wo(r,e);function Ye(r,e,t){const n=t.url||t.uri,s=r.config(),i=typeof t.canUseCdn>"u"?["GET","HEAD"].indexOf(t.method||"GET")>=0&&Eo(r,n):t.canUseCdn;let o=(t.useCdn??s.useCdn)&&i;const a=t.tag&&s.requestTagPrefix?[s.requestTagPrefix,t.tag].join("."):t.tag||s.requestTagPrefix;if(a&&t.tag!==null&&(t.query={tag:pn(a),...t.query}),["GET","HEAD","POST"].indexOf(t.method||"GET")>=0&&kn(r,n)){const d=t.resultSourceMap??s.resultSourceMap;d!==void 0&&d!==!1&&(t.query={resultSourceMap:d,...t.query});const p=t.perspective||s.perspective;typeof p<"u"&&(p==="previewDrafts"&&Gi(),mn(p),t.query={perspective:Array.isArray(p)?p.join(","):p,...t.query},(Array.isArray(p)&&p.length>0||p==="previewDrafts"||p==="drafts")&&o&&(o=!1,Hi())),t.lastLiveEventId&&(t.query={...t.query,lastLiveEventId:t.lastLiveEventId}),t.returnQuery===!1&&(t.query={returnQuery:"false",...t.query}),o&&t.cacheMode=="noStale"&&(t.query={cacheMode:"noStale",...t.query})}const l=lo(s,Object.assign({},t,{url:Lt(r,n,o)})),u=new O(d=>e(l,s.requester).subscribe(d));return t.signal?u.pipe(Co(t.signal)):u}function j(r,e,t){return Ye(r,e,t).pipe(_e(n=>n.type==="response"),R(n=>n.body))}function L(r,e,t){const n=r.config();if(n["~experimental_resource"]){yn(n);const o=Ao(n),a=t!==void 0?`${e}/${t}`:e;return`${o}/${a}`.replace(/\/($|\?)/,"$1")}const s=de(n),i=`/${e}/${s}`;return`/data${t!==void 0?`${i}/${t}`:i}`.replace(/\/($|\?)/,"$1")}function Lt(r,e,t=!1){const{url:n,cdnUrl:s}=r.config();return`${t?s:n}/${e.replace(/^\//,"")}`}function Co(r){return e=>new O(t=>{const n=()=>t.error(So(r));if(r&&r.aborted){n();return}const s=e.subscribe(t);return r.addEventListener("abort",n),()=>{r.removeEventListener("abort",n),s.unsubscribe()}})}const Io=!!globalThis.DOMException;function So(r){if(Io)return new DOMException((r==null?void 0:r.reason)??"The operation was aborted.","AbortError");const e=new Error((r==null?void 0:r.reason)??"The operation was aborted.");return e.name="AbortError",e}const Ao=r=>{if(!r["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:t}=r["~experimental_resource"];switch(e){case"dataset":{const n=t.split(".");if(n.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${n[0]}/datasets/${n[1]}`}case"canvas":return`/canvases/${t}`;case"media-library":return`/media-libraries/${t}`;case"dashboard":return`/dashboards/${t}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function Mn(r,e,t){const n=de(r.config());return j(r,e,{method:"POST",uri:`/agent/action/generate/${n}`,body:t})}function _o(r,e,t){const n=de(r.config());return j(r,e,{method:"POST",uri:`/agent/action/patch/${n}`,body:t})}function $o(r,e,t){const n=de(r.config());return j(r,e,{method:"POST",uri:`/agent/action/prompt/${n}`,body:t})}function Vn(r,e,t){const n=de(r.config());return j(r,e,{method:"POST",uri:`/agent/action/transform/${n}`,body:t})}function Ln(r,e,t){const n=de(r.config());return j(r,e,{method:"POST",uri:`/agent/action/translate/${n}`,body:t})}var ce,le;class xo{constructor(e,t){w(this,ce);w(this,le);b(this,ce,e),b(this,le,t)}generate(e){return Mn(c(this,ce),c(this,le),e)}transform(e){return Vn(c(this,ce),c(this,le),e)}translate(e){return Ln(c(this,ce),c(this,le),e)}}ce=new WeakMap,le=new WeakMap;var H,G;class To{constructor(e,t){w(this,H);w(this,G);b(this,H,e),b(this,G,t)}generate(e){return S(Mn(c(this,H),c(this,G),e))}transform(e){return S(Vn(c(this,H),c(this,G),e))}translate(e){return S(Ln(c(this,H),c(this,G),e))}prompt(e){return S($o(c(this,H),c(this,G),e))}patch(e){return S(_o(c(this,H),c(this,G),e))}}H=new WeakMap,G=new WeakMap;var Fe,De;class Oo{constructor(e,t){w(this,Fe);w(this,De);b(this,Fe,e),b(this,De,t)}upload(e,t,n){return Un(c(this,Fe),c(this,De),e,t,n)}}Fe=new WeakMap,De=new WeakMap;var ke,Me;class Ro{constructor(e,t){w(this,ke);w(this,Me);b(this,ke,e),b(this,Me,t)}upload(e,t,n){const s=Un(c(this,ke),c(this,Me),e,t,n);return S(s.pipe(_e(i=>i.type==="response"),R(i=>i.body.document)))}}ke=new WeakMap,Me=new WeakMap;function Un(r,e,t,n,s={}){Vi(t);let i=s.extract||void 0;i&&!i.length&&(i=["none"]);const o=r.config(),a=Po(s,n),{tag:l,label:u,title:d,description:p,creditLine:m,filename:f,source:y}=a,h={label:u,title:d,description:p,filename:f,meta:i,creditLine:m};return y&&(h.sourceId=y.id,h.sourceName=y.name,h.sourceUrl=y.url),Ye(r,e,{tag:l,method:"POST",timeout:a.timeout||0,uri:jo(o,t),headers:a.contentType?{"Content-Type":a.contentType}:{},query:h,body:n})}function jo(r,e){const t=e==="image"?"images":"files";if(r["~experimental_resource"]){const{type:s,id:i}=r["~experimental_resource"];switch(s){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${i}/assets/${t}`;case"media-library":return`/media-libraries/${i}/upload`;case"dashboard":return`/dashboards/${i}/assets/${t}`;default:throw new Error(`Unsupported resource type: ${s.toString()}`)}}const n=de(r);return`assets/${t}/${n}`}function Po(r,e){return typeof File>"u"||!(e instanceof File)?r:Object.assign({filename:r.preserveFilename===!1?void 0:e.name,contentType:e.type},r)}var qo=(r,e)=>Object.keys(e).concat(Object.keys(r)).reduce((t,n)=>(t[n]=typeof r[n]>"u"?e[n]:r[n],t),{});const Fo=(r,e)=>e.reduce((t,n)=>(typeof r[n]>"u"||(t[n]=r[n]),t),{}),Nn=Kr(()=>Ir(()=>import("./browser-DriKrk-f.js").then(r=>r.b),__vite__mapDeps([3,1,2]))).pipe(R(({default:r})=>r),li(1));function zn(){return function(r){return r.pipe(Dt((e,t)=>e instanceof gn?Zr(ut({type:"reconnect"}),ii(1e3).pipe(We(()=>t))):Qr(()=>e)))}}const Do=14800,ko=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],Mo={includeResult:!0};function Bn(r,e,t={}){const{url:n,token:s,withCredentials:i,requestTagPrefix:o,headers:a}=this.config(),l=t.tag&&o?[o,t.tag].join("."):t.tag,u={...qo(t,Mo),tag:l},d=Fo(u,ko),p=Sn({query:r,params:e,options:{tag:l,...d}}),m=`${n}${L(this,"listen",p)}`;if(m.length>Do)return Qr(()=>new Error("Query too large for listener"));const f=u.events?u.events:["mutation"],y={};return i&&(y.withCredentials=!0),(s||a)&&(y.headers={},s&&(y.headers.Authorization=`Bearer ${s}`),a&&Object.assign(y.headers,a)),bn(()=>(typeof EventSource>"u"||y.headers?Nn:ut(EventSource)).pipe(R(h=>new h(m,y))),f).pipe(zn(),_e(h=>f.includes(h.type)),R(h=>({type:h.type,..."data"in h?h.data:{}})))}function Vo(r,e){return Lo(typeof r=="function"?{predicate:r,...e}:r)}function Lo(r){return e=>{let t,n=!1;const{predicate:s,...i}=r,o=e.pipe(fi(l=>{r.predicate(l)&&(n=!0,t=l)}),tn(()=>{n=!1,t=void 0}),rn(i)),a=new O(l=>{n&&l.next(t),l.complete()});return oi(o,a)}}const gr="2021-03-25";var ee;class Wn{constructor(e){w(this,ee);b(this,ee,e)}events({includeDrafts:e=!1,tag:t}={}){oe("live",c(this,ee).config());const{projectId:n,apiVersion:s,token:i,withCredentials:o,requestTagPrefix:a,headers:l}=c(this,ee).config(),u=s.replace(/^v/,"");if(u!=="X"&&u<gr)throw new Error(`The live events API requires API version ${gr} or later. The current API version is ${u}. Please update your API version to use this feature.`);if(e&&!i&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const d=L(c(this,ee),"live/events"),p=new URL(c(this,ee).getUrl(d,!1)),m=t&&a?[a,t].join("."):t;m&&p.searchParams.set("tag",m),e&&p.searchParams.set("includeDrafts","true");const f={};e&&o&&(f.withCredentials=!0),(e&&i||l)&&(f.headers={},e&&i&&(f.headers.Authorization=`Bearer ${i}`),l&&Object.assign(f.headers,l));const y=`${p.href}::${JSON.stringify(f)}`,h=Et.get(y);if(h)return h;const g=bn(()=>(typeof EventSource>"u"||f.headers?Nn:ut(EventSource)).pipe(R(C=>new C(p.href,f))),["message","restart","welcome","reconnect","goaway"]).pipe(zn(),R(C=>{if(C.type==="message"){const{data:T,...P}=C;return{...P,tags:T.tags}}return C})),I=Uo(p,{method:"OPTIONS",mode:"cors",credentials:f.withCredentials?"include":"omit",headers:f.headers}).pipe(We(()=>Fr),Dt(()=>{throw new Pi({projectId:n})})),E=Zr(I,g).pipe(tn(()=>Et.delete(y)),Vo({predicate:C=>C.type==="welcome"}));return Et.set(y,E),E}}ee=new WeakMap;function Uo(r,e){return new O(t=>{const n=new AbortController,s=n.signal;return fetch(r,{...e,signal:n.signal}).then(i=>{t.next(i),t.complete()},i=>{s.aborted||t.error(i)}),()=>n.abort()})}const Et=new Map;var U,te;class No{constructor(e,t){w(this,U);w(this,te);b(this,U,e),b(this,te,t)}create(e,t){return me(c(this,U),c(this,te),"PUT",e,t)}edit(e,t){return me(c(this,U),c(this,te),"PATCH",e,t)}delete(e){return me(c(this,U),c(this,te),"DELETE",e)}list(){oe("dataset",c(this,U).config());const e=c(this,U).config(),t=e.projectId;let n="/datasets";return e.useProjectHostname===!1&&(n=`/projects/${t}/datasets`),j(c(this,U),c(this,te),{uri:n,tag:null})}}U=new WeakMap,te=new WeakMap;var M,re;class zo{constructor(e,t){w(this,M);w(this,re);b(this,M,e),b(this,re,t)}create(e,t){return oe("dataset",c(this,M).config()),S(me(c(this,M),c(this,re),"PUT",e,t))}edit(e,t){return oe("dataset",c(this,M).config()),S(me(c(this,M),c(this,re),"PATCH",e,t))}delete(e){return oe("dataset",c(this,M).config()),S(me(c(this,M),c(this,re),"DELETE",e))}list(){oe("dataset",c(this,M).config());const e=c(this,M).config(),t=e.projectId;let n="/datasets";return e.useProjectHostname===!1&&(n=`/projects/${t}/datasets`),S(j(c(this,M),c(this,re),{uri:n,tag:null}))}}M=new WeakMap,re=new WeakMap;function me(r,e,t,n,s){return oe("dataset",r.config()),hn(n),j(r,e,{method:t,uri:`/datasets/${n}`,body:s,tag:null})}var ge,be;class Bo{constructor(e,t){w(this,ge);w(this,be);b(this,ge,e),b(this,be,t)}list(e){const t={},n="/projects";return(e==null?void 0:e.includeMembers)===!1&&(t.includeMembers="false"),e!=null&&e.organizationId&&(t.organizationId=e.organizationId),j(c(this,ge),c(this,be),{uri:n,query:t})}getById(e){return j(c(this,ge),c(this,be),{uri:`/projects/${e}`})}}ge=new WeakMap,be=new WeakMap;var we,Ee;class Wo{constructor(e,t){w(this,we);w(this,Ee);b(this,we,e),b(this,Ee,t)}list(e){const t={},n="/projects";return(e==null?void 0:e.includeMembers)===!1&&(t.includeMembers="false"),e!=null&&e.organizationId&&(t.organizationId=e.organizationId),S(j(c(this,we),c(this,Ee),{uri:n,query:t}))}getById(e){return S(j(c(this,we),c(this,Ee),{uri:`/projects/${e}`}))}}we=new WeakMap,Ee=new WeakMap;const br=Si("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),rt=(r,e)=>e?He(r,e):an(r);function nt(r,{releaseId:e,publishedId:t,document:n}){if(t&&n._id){const s=rt(t,e);return Ui(s,n),s}if(n._id){const s=ct(n._id),i=lt(n._id);if(!s&&!i)throw new Error(`\`${r}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(s)throw new Error(`\`${r}()\` was called with a document ID (\`${n._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);const o=un(n._id);if(o!==e)throw new Error(`\`${r}()\` was called with a document ID (\`${n._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${o}\`).`)}return n._id}if(t)return rt(t,e);throw new Error(`\`${r}()\` requires either a publishedId or a document with an \`_id\``)}const Ho=(r,e)=>{if(typeof r=="object"&&r!==null&&("releaseId"in r||"metadata"in r)){const{releaseId:t=br(),metadata:n={}}=r;return[t,n,e]}return[br(),{},r]},Hn=(r,e)=>{const[t,n,s]=Ho(r,e),i={...n,releaseType:n.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:t,metadata:i},options:s}};var q,F;class Go{constructor(e,t){w(this,q);w(this,F);b(this,q,e),b(this,F,t)}get({releaseId:e},t){return ht(c(this,q),c(this,F),`_.releases.${e}`,t)}create(e,t){const{action:n,options:s}=Hn(e,t),{releaseId:i,metadata:o}=n;return x(c(this,q),c(this,F),n,s).pipe(R(a=>({...a,releaseId:i,metadata:o})))}edit({releaseId:e,patch:t},n){const s={actionType:"sanity.action.release.edit",releaseId:e,patch:t};return x(c(this,q),c(this,F),s,n)}publish({releaseId:e},t){const n={actionType:"sanity.action.release.publish",releaseId:e};return x(c(this,q),c(this,F),n,t)}archive({releaseId:e},t){const n={actionType:"sanity.action.release.archive",releaseId:e};return x(c(this,q),c(this,F),n,t)}unarchive({releaseId:e},t){const n={actionType:"sanity.action.release.unarchive",releaseId:e};return x(c(this,q),c(this,F),n,t)}schedule({releaseId:e,publishAt:t},n){const s={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t};return x(c(this,q),c(this,F),s,n)}unschedule({releaseId:e},t){const n={actionType:"sanity.action.release.unschedule",releaseId:e};return x(c(this,q),c(this,F),n,t)}delete({releaseId:e},t){const n={actionType:"sanity.action.release.delete",releaseId:e};return x(c(this,q),c(this,F),n,t)}fetchDocuments({releaseId:e},t){return $n(c(this,q),c(this,F),e,t)}}q=new WeakMap,F=new WeakMap;var D,k;class Yo{constructor(e,t){w(this,D);w(this,k);b(this,D,e),b(this,k,t)}get({releaseId:e},t){return S(ht(c(this,D),c(this,k),`_.releases.${e}`,t))}async create(e,t){const{action:n,options:s}=Hn(e,t),{releaseId:i,metadata:o}=n;return{...await S(x(c(this,D),c(this,k),n,s)),releaseId:i,metadata:o}}edit({releaseId:e,patch:t},n){const s={actionType:"sanity.action.release.edit",releaseId:e,patch:t};return S(x(c(this,D),c(this,k),s,n))}publish({releaseId:e},t){const n={actionType:"sanity.action.release.publish",releaseId:e};return S(x(c(this,D),c(this,k),n,t))}archive({releaseId:e},t){const n={actionType:"sanity.action.release.archive",releaseId:e};return S(x(c(this,D),c(this,k),n,t))}unarchive({releaseId:e},t){const n={actionType:"sanity.action.release.unarchive",releaseId:e};return S(x(c(this,D),c(this,k),n,t))}schedule({releaseId:e,publishAt:t},n){const s={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t};return S(x(c(this,D),c(this,k),s,n))}unschedule({releaseId:e},t){const n={actionType:"sanity.action.release.unschedule",releaseId:e};return S(x(c(this,D),c(this,k),n,t))}delete({releaseId:e},t){const n={actionType:"sanity.action.release.delete",releaseId:e};return S(x(c(this,D),c(this,k),n,t))}fetchDocuments({releaseId:e},t){return S($n(c(this,D),c(this,k),e,t))}}D=new WeakMap,k=new WeakMap;var Ve,Le;class Qo{constructor(e,t){w(this,Ve);w(this,Le);b(this,Ve,e),b(this,Le,t)}getById(e){return j(c(this,Ve),c(this,Le),{uri:`/users/${e}`})}}Ve=new WeakMap,Le=new WeakMap;var Ue,Ne;class Jo{constructor(e,t){w(this,Ue);w(this,Ne);b(this,Ue,e),b(this,Ne,t)}getById(e){return S(j(c(this,Ue),c(this,Ne),{uri:`/users/${e}`}))}}Ue=new WeakMap,Ne=new WeakMap;var Y,_;const it=class it{constructor(e,t=Te){v(this,"assets");v(this,"datasets");v(this,"live");v(this,"projects");v(this,"users");v(this,"agent");v(this,"releases");w(this,Y);w(this,_);v(this,"listen",Bn);this.config(t),b(this,_,e),this.assets=new Oo(this,c(this,_)),this.datasets=new No(this,c(this,_)),this.live=new Wn(this),this.projects=new Bo(this,c(this,_)),this.users=new Qo(this,c(this,_)),this.agent={action:new xo(this,c(this,_))},this.releases=new Go(this,c(this,_))}clone(){return new it(c(this,_),this.config())}config(e){if(e===void 0)return{...c(this,Y)};if(c(this,Y)&&c(this,Y).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return b(this,Y,vn(e,c(this,Y)||{})),this}withConfig(e){const t=this.config();return new it(c(this,_),{...t,...e,stega:{...t.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,t,n){return An(this,c(this,_),c(this,Y).stega,e,t,n)}getDocument(e,t){return ht(this,c(this,_),e,t)}getDocuments(e,t){return _n(this,c(this,_),e,t)}create(e,t){return dt(this,c(this,_),e,"create",t)}createIfNotExists(e,t){return xn(this,c(this,_),e,t)}createOrReplace(e,t){return Tn(this,c(this,_),e,t)}createVersion({document:e,publishedId:t,releaseId:n,baseId:s,ifBaseRevisionId:i},o){if(!e)return Rn(this,c(this,_),t,s,n,i,o);const a=nt("createVersion",{document:e,publishedId:t,releaseId:n}),l={...e,_id:a},u=t||ft(e._id);return On(this,c(this,_),l,u,o)}delete(e,t){return jn(this,c(this,_),e,t)}discardVersion({releaseId:e,publishedId:t},n,s){const i=rt(t,e);return Pn(this,c(this,_),i,n,s)}replaceVersion({document:e,publishedId:t,releaseId:n},s){const i=nt("replaceVersion",{document:e,publishedId:t,releaseId:n}),o={...e,_id:i};return qn(this,c(this,_),o,s)}unpublishVersion({releaseId:e,publishedId:t},n){const s=He(t,e);return Fn(this,c(this,_),s,t,n)}mutate(e,t){return Dn(this,c(this,_),e,t)}patch(e,t){return new he(e,t,this)}transaction(e){return new tt(e,this)}action(e,t){return x(this,c(this,_),e,t)}request(e){return j(this,c(this,_),e)}getUrl(e,t){return Lt(this,e,t)}getDataUrl(e,t){return L(this,e,t)}};Y=new WeakMap,_=new WeakMap;let _t=it;var Q,A;const ot=class ot{constructor(e,t=Te){v(this,"assets");v(this,"datasets");v(this,"live");v(this,"projects");v(this,"users");v(this,"agent");v(this,"releases");v(this,"observable");w(this,Q);w(this,A);v(this,"listen",Bn);this.config(t),b(this,A,e),this.assets=new Ro(this,c(this,A)),this.datasets=new zo(this,c(this,A)),this.live=new Wn(this),this.projects=new Wo(this,c(this,A)),this.users=new Jo(this,c(this,A)),this.agent={action:new To(this,c(this,A))},this.releases=new Yo(this,c(this,A)),this.observable=new _t(e,t)}clone(){return new ot(c(this,A),this.config())}config(e){if(e===void 0)return{...c(this,Q)};if(c(this,Q)&&c(this,Q).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),b(this,Q,vn(e,c(this,Q)||{})),this}withConfig(e){const t=this.config();return new ot(c(this,A),{...t,...e,stega:{...t.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,t,n){return S(An(this,c(this,A),c(this,Q).stega,e,t,n))}getDocument(e,t){return S(ht(this,c(this,A),e,t))}getDocuments(e,t){return S(_n(this,c(this,A),e,t))}create(e,t){return S(dt(this,c(this,A),e,"create",t))}createIfNotExists(e,t){return S(xn(this,c(this,A),e,t))}createOrReplace(e,t){return S(Tn(this,c(this,A),e,t))}createVersion({document:e,publishedId:t,releaseId:n,baseId:s,ifBaseRevisionId:i},o){if(!e)return vt(Rn(this,c(this,A),t,s,n,i,o));const a=nt("createVersion",{document:e,publishedId:t,releaseId:n}),l={...e,_id:a},u=t||ft(e._id);return vt(On(this,c(this,A),l,u,o))}delete(e,t){return S(jn(this,c(this,A),e,t))}discardVersion({releaseId:e,publishedId:t},n,s){const i=rt(t,e);return S(Pn(this,c(this,A),i,n,s))}replaceVersion({document:e,publishedId:t,releaseId:n},s){const i=nt("replaceVersion",{document:e,publishedId:t,releaseId:n}),o={...e,_id:i};return vt(qn(this,c(this,A),o,s))}unpublishVersion({releaseId:e,publishedId:t},n){const s=He(t,e);return S(Fn(this,c(this,A),s,t,n))}mutate(e,t){return S(Dn(this,c(this,A),e,t))}patch(e,t){return new ne(e,t,this)}transaction(e){return new et(e,this)}action(e,t){return S(x(this,c(this,A),e,t))}request(e){return S(j(this,c(this,A),e))}dataRequest(e,t,n){return S(pe(this,c(this,A),e,t,n))}getUrl(e,t){return Lt(this,e,t)}getDataUrl(e,t){return L(this,e,t)}};Q=new WeakMap,A=new WeakMap;let $t=ot;function Xo(r,e){return{requester:dr(r),createClient:t=>{const n=dr(r,{ignoreWarnings:t.ignoreWarnings});return new e((s,i)=>(i||n)({maxRedirects:0,maxRetries:t.maxRetries,retryDelay:t.retryDelay,...s}),t)}}}var Zo=[];const Ko=Xo(Zo,$t),ea=Ko.createClient,ta={VITE_APP_SANITY_DATASET:"localeffort",VITE_APP_SANITY_PROJECT_ID:"d6l9d0ea"},st=(typeof import.meta<"u"?ta:{})||{},wr=st.VITE_APP_SANITY_PROJECT_ID||st.VITE_SANITY_PROJECT_ID,Er=st.VITE_APP_SANITY_DATASET||st.VITE_SANITY_DATASET;let Ct=null;try{wr&&Er?Ct=ea({projectId:wr,dataset:Er,useCdn:!0,apiVersion:"2023-05-03"}):Ct={fetch:async()=>{throw new Error("Sanity client unavailable")}}}catch(r){console.warn("Failed to initialize Sanity client:",r&&(r.message||r)),Ct={fetch:async()=>{throw new Error("Sanity client unavailable")}}}export{ia as C,Ct as c,nn as i};
