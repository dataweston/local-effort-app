import{R as e,W as u,L as c,v as p,x as f,y as E,z as m,B as g}from"./index-COMDDOCW.js";import{u as x}from"./useAuthUser-D2Uupv_1.js";import{I as b,A as y}from"./lucide-react-bYMA6Wyy.js";import"./plus-Dj15vj6p.js";import"./send-BJLVVxL-.js";import"./calendar-BW5MBrxp.js";import"./x-Bb3Be8ft.js";import"./users-Brx5Fsbn.js";import"./minus-Ccr2YRnr.js";import"./trash-2-CQ_Xfh_a.js";const I=()=>{const{user:a,loading:r}=x(),[i,n]=e.useState(null),[t,o]=e.useState(!1);return e.useEffect(()=>{let l=!1;return(async()=>{if(!a)return n(null);o(!0);try{const d=await p(a.uid);l||n(d||null)}finally{l||o(!1)}})(),()=>{l=!0}},[a]),e.createElement(e.Fragment,null,e.createElement(u,null,e.createElement("title",null,"Partner Portal | Local Effort"),e.createElement("meta",{name:"description",content:"Tools and resources for Local Effort partners."})),e.createElement("div",{className:"space-y-6"},e.createElement("h2",{className:"text-5xl md:text-7xl font-bold uppercase"},"Partner Portal"),e.createElement("p",{className:"text-body max-w-2xl"},"Welcome. Sign in to see your tools, or jump to the portal welcome."),!r&&!a&&e.createElement("div",{className:"p-6 border rounded-md max-w-xl bg-neutral-50"},e.createElement("h3",{className:"text-xl font-semibold mb-2"},"Sign in required"),e.createElement("p",{className:"mb-4 text-gray-600"},"Use your Google account to continue."),e.createElement("div",{className:"flex gap-3"},e.createElement(c,{to:"/auth",className:"inline-block px-4 py-2 rounded bg-black text-white"},"Sign in"),e.createElement(c,{to:"/partner-portal/welcome",className:"inline-block px-4 py-2 rounded border"},"Portal welcome"))),a&&e.createElement(N,{profile:i,user:a,loading:t})))};function N({profile:a,user:r}){const n=f(a)||E(r==null?void 0:r.email)?m:m.filter(t=>g(a,t.key));return e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},n.map(t=>{const o=b[t.icon]||y,l=t.type==="external"&&t.href,s=e.createElement("div",{className:"group block p-5 border rounded-xl hover:shadow transition bg-white"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-lg bg-neutral-100 group-hover:bg-neutral-200"},e.createElement(o,{className:"w-5 h-5 text-neutral-800"})),e.createElement("div",null,e.createElement("div",{className:"font-semibold"},t.name),e.createElement("div",{className:"text-sm text-neutral-600"},t.description))));return l?e.createElement("a",{key:t.key,href:t.href,target:"_blank",rel:"noopener noreferrer"},s):e.createElement(c,{key:t.key,to:t.route},s)}))}export{I as default};
