import{i as d,r as c,d as f,R as e,W as g,L as p}from"./index-DsxBSm8k.js";function x(){const{slug:r}=d(),[t,n]=c.useState(null),[i,o]=c.useState(!0);c.useEffect(()=>{let l=!0;return(async()=>{try{const u=await f.fetch(`*[_type == "product" && slug.current == $slug][0]{
          _id, title, shortDescription, longDescription, images[]{asset->{url}}, price, salePrice
        }`,{slug:r}).catch(()=>null);if(!l)return;n(u)}finally{l&&o(!1)}})(),()=>{l=!1}},[r]);const s=c.useMemo(()=>((t==null?void 0:t.images)||[]).map(l=>{var a;return(a=l==null?void 0:l.asset)==null?void 0:a.url}).filter(Boolean),[t]),m=t&&(t.salePrice??t.price)||0;return e.createElement("div",{className:"mx-auto max-w-5xl px-4 md:px-6 lg:px-8 py-8"},e.createElement(g,null,e.createElement("title",null,t?`${t.title} | Local Effort`:"Product | Local Effort"),t&&e.createElement("meta",{name:"description",content:t.shortDescription||""})),e.createElement("div",{className:"mb-4 text-sm text-neutral-600"},e.createElement(p,{to:"/sale",className:"underline"},"Back to Sale")),i?e.createElement("div",null,"Loadingâ€¦"):t?e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",null,e.createElement("div",{className:"aspect-[4/3] bg-neutral-100 rounded overflow-hidden"},s[0]?e.createElement("img",{src:s[0],alt:t.title,className:"w-full h-full object-cover"}):e.createElement("div",{className:"w-full h-full grid place-items-center text-neutral-400"},"No image")),s.length>1&&e.createElement("div",{className:"mt-2 grid grid-cols-4 gap-2"},s.slice(1,5).map((l,a)=>e.createElement("img",{key:a,src:l,alt:"",className:"h-20 w-full object-cover rounded"})))),e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold"},t.title),t.shortDescription&&e.createElement("p",{className:"mt-2 text-neutral-700"},t.shortDescription),e.createElement("div",{className:"mt-3 text-xl font-semibold"},"$",(m/100).toFixed(2)))):e.createElement("div",null,"Not found"))}export{x as default};
