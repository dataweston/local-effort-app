import{R as I,r as at}from"./index-Dtqo3_P9.js";var U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nt={exports:{}};(function(e,t){var r=200,n="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",u="[object Array]",l="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Function]",w="[object GeneratorFunction]",F="[object Map]",k="[object Number]",C="[object Object]",M="[object Promise]",V="[object RegExp]",b="[object Set]",Q="[object String]",q="[object Symbol]",nt="[object WeakMap]",W="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",D="[object Float64Array]",it="[object Int8Array]",de="[object Int16Array]",fe="[object Int32Array]",he="[object Uint8Array]",pe="[object Uint8ClampedArray]",ge="[object Uint16Array]",me="[object Uint32Array]",nn=/[\\^$.*+?()[\]{}|]/g,sn=/\w*$/,on=/^\[object .+?Constructor\]$/,an=/^(?:0|[1-9]\d*)$/,m={};m[o]=m[u]=m[W]=m[y]=m[l]=m[h]=m[x]=m[D]=m[it]=m[de]=m[fe]=m[F]=m[k]=m[C]=m[V]=m[b]=m[Q]=m[q]=m[he]=m[pe]=m[ge]=m[me]=!0,m[d]=m[p]=m[nt]=!1;var un=typeof U=="object"&&U&&U.Object===Object&&U,cn=typeof self=="object"&&self&&self.Object===Object&&self,L=un||cn||Function("return this")(),ye=t&&!t.nodeType&&t,_e=ye&&!0&&e&&!e.nodeType&&e,ln=_e&&_e.exports===ye;function dn(i,a){return i.set(a[0],a[1]),i}function fn(i,a){return i.add(a),i}function hn(i,a){for(var c=-1,f=i?i.length:0;++c<f&&a(i[c],c,i)!==!1;);return i}function pn(i,a){for(var c=-1,f=a.length,v=i.length;++c<f;)i[v+c]=a[c];return i}function ve(i,a,c,f){for(var v=-1,A=i?i.length:0;++v<A;)c=a(c,i[v],v,i);return c}function gn(i,a){for(var c=-1,f=Array(i);++c<i;)f[c]=a(c);return f}function mn(i,a){return i==null?void 0:i[a]}function we(i){var a=!1;if(i!=null&&typeof i.toString!="function")try{a=!!(i+"")}catch{}return a}function be(i){var a=-1,c=Array(i.size);return i.forEach(function(f,v){c[++a]=[v,f]}),c}function Mt(i,a){return function(c){return i(a(c))}}function Ae(i){var a=-1,c=Array(i.size);return i.forEach(function(f){c[++a]=f}),c}var yn=Array.prototype,_n=Function.prototype,dt=Object.prototype,xt=L["__core-js_shared__"],Te=function(){var i=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Oe=_n.toString,G=dt.hasOwnProperty,ft=dt.toString,vn=RegExp("^"+Oe.call(G).replace(nn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Se=ln?L.Buffer:void 0,Ee=L.Symbol,$e=L.Uint8Array,wn=Mt(Object.getPrototypeOf,Object),bn=Object.create,An=dt.propertyIsEnumerable,Tn=yn.splice,Ce=Object.getOwnPropertySymbols,On=Se?Se.isBuffer:void 0,Sn=Mt(Object.keys,Object),Rt=Z(L,"DataView"),st=Z(L,"Map"),Ft=Z(L,"Promise"),Vt=Z(L,"Set"),Lt=Z(L,"WeakMap"),ot=Z(Object,"create"),En=z(Rt),$n=z(st),Cn=z(Ft),Mn=z(Vt),xn=z(Lt),Me=Ee?Ee.prototype:void 0,xe=Me?Me.valueOf:void 0;function N(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function Rn(){this.__data__=ot?ot(null):{}}function Fn(i){return this.has(i)&&delete this.__data__[i]}function Vn(i){var a=this.__data__;if(ot){var c=a[i];return c===n?void 0:c}return G.call(a,i)?a[i]:void 0}function Ln(i){var a=this.__data__;return ot?a[i]!==void 0:G.call(a,i)}function jn(i,a){var c=this.__data__;return c[i]=ot&&a===void 0?n:a,this}N.prototype.clear=Rn,N.prototype.delete=Fn,N.prototype.get=Vn,N.prototype.has=Ln,N.prototype.set=jn;function j(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function Pn(){this.__data__=[]}function In(i){var a=this.__data__,c=ht(a,i);if(c<0)return!1;var f=a.length-1;return c==f?a.pop():Tn.call(a,c,1),!0}function kn(i){var a=this.__data__,c=ht(a,i);return c<0?void 0:a[c][1]}function Qn(i){return ht(this.__data__,i)>-1}function Dn(i,a){var c=this.__data__,f=ht(c,i);return f<0?c.push([i,a]):c[f][1]=a,this}j.prototype.clear=Pn,j.prototype.delete=In,j.prototype.get=kn,j.prototype.has=Qn,j.prototype.set=Dn;function K(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function Gn(){this.__data__={hash:new N,map:new(st||j),string:new N}}function Un(i){return pt(this,i).delete(i)}function qn(i){return pt(this,i).get(i)}function Nn(i){return pt(this,i).has(i)}function Bn(i,a){return pt(this,i).set(i,a),this}K.prototype.clear=Gn,K.prototype.delete=Un,K.prototype.get=qn,K.prototype.has=Nn,K.prototype.set=Bn;function X(i){this.__data__=new j(i)}function zn(){this.__data__=new j}function Jn(i){return this.__data__.delete(i)}function Hn(i){return this.__data__.get(i)}function Yn(i){return this.__data__.has(i)}function Wn(i,a){var c=this.__data__;if(c instanceof j){var f=c.__data__;if(!st||f.length<r-1)return f.push([i,a]),this;c=this.__data__=new K(f)}return c.set(i,a),this}X.prototype.clear=zn,X.prototype.delete=Jn,X.prototype.get=Hn,X.prototype.has=Yn,X.prototype.set=Wn;function Kn(i,a){var c=It(i)||bi(i)?gn(i.length,String):[],f=c.length,v=!!f;for(var A in i)G.call(i,A)&&!(v&&(A=="length"||yi(A,f)))&&c.push(A);return c}function Re(i,a,c){var f=i[a];(!(G.call(i,a)&&je(f,c))||c===void 0&&!(a in i))&&(i[a]=c)}function ht(i,a){for(var c=i.length;c--;)if(je(i[c][0],a))return c;return-1}function Xn(i,a){return i&&Fe(a,kt(a),i)}function jt(i,a,c,f,v,A,P){var T;if(f&&(T=A?f(i,v,A,P):f(i)),T!==void 0)return T;if(!gt(i))return i;var ke=It(i);if(ke){if(T=pi(i),!a)return di(i,T)}else{var tt=B(i),Qe=tt==p||tt==w;if(Ti(i))return ii(i,a);if(tt==C||tt==o||Qe&&!A){if(we(i))return A?i:{};if(T=gi(Qe?{}:i),!a)return fi(i,Xn(T,i))}else{if(!m[tt])return A?i:{};T=mi(i,tt,jt,a)}}P||(P=new X);var De=P.get(i);if(De)return De;if(P.set(i,T),!ke)var Ge=c?hi(i):kt(i);return hn(Ge||i,function(Qt,mt){Ge&&(mt=Qt,Qt=i[mt]),Re(T,mt,jt(Qt,a,c,f,mt,i,P))}),T}function Zn(i){return gt(i)?bn(i):{}}function ti(i,a,c){var f=a(i);return It(i)?f:pn(f,c(i))}function ei(i){return ft.call(i)}function ri(i){if(!gt(i)||vi(i))return!1;var a=Ie(i)||we(i)?vn:on;return a.test(z(i))}function ni(i){if(!Le(i))return Sn(i);var a=[];for(var c in Object(i))G.call(i,c)&&c!="constructor"&&a.push(c);return a}function ii(i,a){if(a)return i.slice();var c=new i.constructor(i.length);return i.copy(c),c}function Pt(i){var a=new i.constructor(i.byteLength);return new $e(a).set(new $e(i)),a}function si(i,a){var c=a?Pt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function oi(i,a,c){var f=a?c(be(i),!0):be(i);return ve(f,dn,new i.constructor)}function ai(i){var a=new i.constructor(i.source,sn.exec(i));return a.lastIndex=i.lastIndex,a}function ui(i,a,c){var f=a?c(Ae(i),!0):Ae(i);return ve(f,fn,new i.constructor)}function ci(i){return xe?Object(xe.call(i)):{}}function li(i,a){var c=a?Pt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function di(i,a){var c=-1,f=i.length;for(a||(a=Array(f));++c<f;)a[c]=i[c];return a}function Fe(i,a,c,f){c||(c={});for(var v=-1,A=a.length;++v<A;){var P=a[v],T=void 0;Re(c,P,T===void 0?i[P]:T)}return c}function fi(i,a){return Fe(i,Ve(i),a)}function hi(i){return ti(i,kt,Ve)}function pt(i,a){var c=i.__data__;return _i(a)?c[typeof a=="string"?"string":"hash"]:c.map}function Z(i,a){var c=mn(i,a);return ri(c)?c:void 0}var Ve=Ce?Mt(Ce,Object):Ei,B=ei;(Rt&&B(new Rt(new ArrayBuffer(1)))!=y||st&&B(new st)!=F||Ft&&B(Ft.resolve())!=M||Vt&&B(new Vt)!=b||Lt&&B(new Lt)!=nt)&&(B=function(i){var a=ft.call(i),c=a==C?i.constructor:void 0,f=c?z(c):void 0;if(f)switch(f){case En:return y;case $n:return F;case Cn:return M;case Mn:return b;case xn:return nt}return a});function pi(i){var a=i.length,c=i.constructor(a);return a&&typeof i[0]=="string"&&G.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function gi(i){return typeof i.constructor=="function"&&!Le(i)?Zn(wn(i)):{}}function mi(i,a,c,f){var v=i.constructor;switch(a){case W:return Pt(i);case l:case h:return new v(+i);case y:return si(i,f);case x:case D:case it:case de:case fe:case he:case pe:case ge:case me:return li(i,f);case F:return oi(i,f,c);case k:case Q:return new v(i);case V:return ai(i);case b:return ui(i,f,c);case q:return ci(i)}}function yi(i,a){return a=a??s,!!a&&(typeof i=="number"||an.test(i))&&i>-1&&i%1==0&&i<a}function _i(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function vi(i){return!!Te&&Te in i}function Le(i){var a=i&&i.constructor,c=typeof a=="function"&&a.prototype||dt;return i===c}function z(i){if(i!=null){try{return Oe.call(i)}catch{}try{return i+""}catch{}}return""}function wi(i){return jt(i,!0,!0)}function je(i,a){return i===a||i!==i&&a!==a}function bi(i){return Ai(i)&&G.call(i,"callee")&&(!An.call(i,"callee")||ft.call(i)==o)}var It=Array.isArray;function Pe(i){return i!=null&&Oi(i.length)&&!Ie(i)}function Ai(i){return Si(i)&&Pe(i)}var Ti=On||$i;function Ie(i){var a=gt(i)?ft.call(i):"";return a==p||a==w}function Oi(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=s}function gt(i){var a=typeof i;return!!i&&(a=="object"||a=="function")}function Si(i){return!!i&&typeof i=="object"}function kt(i){return Pe(i)?Kn(i):ni(i)}function Ei(){return[]}function $i(){return!1}e.exports=wi})(Nt,Nt.exports);var J=Nt.exports,ut=function(){return ut=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ut.apply(this,arguments)};function Ci(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function l(p){try{d(n.next(p))}catch(w){u(w)}}function h(p){try{d(n.throw(p))}catch(w){u(w)}}function d(p){p.done?o(p.value):s(p.value).then(l,h)}d((n=n.apply(e,[])).next())})}function Mi(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=l(0),u.throw=l(1),u.return=l(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(p){return h([d,p])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(p){d=[6,p],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function yt(e,t,r,n,s){return Ci(this,void 0,void 0,function(){var o,u;return Mi(this,function(l){switch(l.label){case 0:if(r===void 0)return[2];u=0,l.label=1;case 1:return u<r.length?[4,r[u](e,t,n,s,r)]:[3,4];case 2:if(o=l.sent(),o==="canceled")return[3,4];l.label=3;case 3:return u++,[3,1];case 4:return o!=="canceled"?[2,o]:[2]}})})}var Bt=function(e,t){return t===void 0&&(t={}),e?{trackedAnalytics:ut({sdkCode:e.sdkCode,sdkSemver:e.sdkSemver,techVersion:e.techVersion},t)}:null},xi=function(){function e(t,r,n,s){var o=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var u=J(r);yt(t,u,n,this.htmlPluginState,s).then(function(l){if(o.isMounted){o.htmlPluginState.pluginEventSubscription.forEach(function(d){d()});var h=Bt(s,l);o.imgElement.setAttribute("src",u.toURL(h))}})}return e.prototype.update=function(t,r,n){var s=this,o=J(t);yt(this.imgElement,o,r,this.htmlPluginState).then(function(u){if(s.isMounted){var l=Bt(n,u);s.imgElement.setAttribute("src",o.toURL(l))}})},e.prototype.unmount=function(){this.isMounted=!1},e}();let _=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}},Ri=class extends Error{constructor(t="Unsupported"){super(t)}};function Yt(e){return new Ri(e)}function Fi(){return this._qualifierModel||{error:Yt(`unsupported qualifier ${this.constructor.name}`)}}let Vi=class{constructor(){this._qualifierModel={}}toJson(){return Fi.apply(this)}},g=class extends Vi{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof _?this.qualifierValue=r:(this.qualifierValue=new _,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},S=class extends g{constructor(t,r){let n;r?n=new _([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function Li(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function ji(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:Yt(`unsupported action ${this.constructor.name}`)}}let Pi=class{constructor(){this._actionModel={}}toJson(){return ji.apply(this)}},$=class extends Pi{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),Li(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new S(n)):this.qualifiers.set(r,new g(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new S(t)):t instanceof S&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};class Wt extends ${constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class bt extends Wt{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new g("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new g("h",t)),this}static fromJson(t){const r=new bt;return t.width&&r.width(t.width),t.height&&r.height(t.height),t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function Ii(){return new bt}function cr(){return new Wt("faces")}function ki(){return new Wt("ocr_text")}class Qi extends ${constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new g("e",`blur_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new g("e",`blur_region${t}`)),this.addQualifier(new g("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new g("e",`blur_faces${t}`))):this.addQualifier(new g("e",`blur${t}`))}static fromJson(t){const{strength:r,region:n}=t,s=new this(r);return r&&s.strength(r),n&&n.regionType==="faces"&&s.region(cr()),n&&n.regionType==="ocr_text"&&s.region(ki()),n&&n.regionType==="custom"&&s.region(bt.fromJson(n)),s}}function H(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const lr={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},Di={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},dr={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},fr={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},Gi={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},hr={444:"CHROMA_444",420:"CHROMA_420"},Ui={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},qi=H(hr);H(Ui);const Ni=H(lr),Bi=H(Di),pr=H(dr);H(fr);H(Gi);class gr extends ${constructor(t,r){super(),this._actionModel={},this._actionModel.actionType=pr[t]||t;const n=this.createEffectQualifier(t,r);this.addQualifier(n)}createEffectQualifier(t,r){let n;return r?n=new _([t,`${r}`]).setDelimiter(":"):n=new _(t),new g("e",n)}static fromJson(t){const{actionType:r,level:n,strength:s}=t,o=dr[r]||r;return new this(o,n||s)}}class zi extends gr{constructor(t,r){super(t,r),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=pr[t]||t,r&&this.setLevel(r)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const r=this.createEffectQualifier(this.effectType,t);return this.addQualifier(r),this}}function At(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class Ji extends ${constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new _(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new _(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new _(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new _(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new _(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new g("e",t))}static fromJson(t){const{actionType:r,paths:n,cornersLevel:s,despeckleLevel:o,detailLevel:u,numOfColors:l}=t,h=new this;return n&&h.paths(n),s&&h.cornersLevel(s),o&&h.despeckleLevel(o),u&&h.detailsLevel(u),l&&h.numOfColors(l),h}}class Hi extends zi{level(t){return this._actionModel.level=t,this.setLevel(t)}}class Yi extends ${constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new g("e",new _("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new g("e",new _(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new g("e",new _(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:r,type:n,stripesStrength:s}=t,o=new this;return n==="xray"&&o.xray(),n==="stripes"&&s&&o.stripesStrength(s),o}}class Wi extends Hi{color(t){return this._actionModel.color=t,this.addQualifier(new g("co",new _(At(t))))}static fromJson(t){const{actionType:r,level:n,color:s}=t,o=new this(r,n);return s&&o.color(s),o}}class Ki extends ${constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new g("e",`pixelate_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new g("e",`pixelate_region${t}`)),this.addQualifier(new g("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new g("e",`pixelate_faces${t}`))):this.addQualifier(new g("e",`pixelate${t}`))}static fromJson(t){const{region:r,squareSize:n}=t,s=new this(n);return n&&s.squareSize(n),r&&r.regionType==="faces"&&s.region(cr()),r&&r.regionType==="custom"&&s.region(Ii()),s}}const Xi=e=>ns(encodeURIComponent,es,rs)(e),Zi=/[!'()*~_.-]/g,ts={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},es=e=>e.replace(Zi,t=>{var r;return(r=ts[t])!==null&&r!==void 0?r:t}),rs=e=>e.replace(/%20/g," "),ns=(...e)=>t=>e.reduce((r,n)=>n(r),t);function is(e){return new Qi(e)}function ss(){return new gr("grayscale")}function Ue(e){return new Wi("colorize",e)}function os(){return new Ji}function as(){return new Yi}function us(e){return new Ki(e)}let cs=class extends ${constructor(t){super(),this._actionModel={},this.addQualifier(new g("b",new _(At(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}},qe=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:Yt(`unsupported action ${this.constructor.name}`)}}};function ls(e){const t=e;return"error"in t&&!!t.error}function ds(){return new S("ignore_aspect_ratio")}function fs(){return new S("lossy")}function hs(){return new S("preserve_transparency")}function ps(e){return new S("progressive",e)}function gs(){return new S("region_relative")}function ms(){return new S("relative")}let Kt=class extends _{constructor(t){super(t),this.val=t}getValue(){return this.val}},mr=class extends ${constructor(t,r,n){super(),this._actionModel={};let s;r instanceof Kt?s=r.getValue():s=r,this._actionModel.actionType=Bi[t],this._actionModel[n]=s,this.addQualifier(new g(t,r))}},ys=class extends S{constructor(t){super("progressive",t)}},zt=class extends mr{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(fs()),this}progressive(t){return t instanceof ys?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(ps(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(hs()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}},Tt=class yr{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new qe(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof yr?this.actions=this.actions.concat(t.actions):this.actions.push(new qe(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new zt("q",t)),this}format(t){return this.addAction(new zt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new cs(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new $;let n=t;return typeof t=="string"&&(n=new S(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(ls(n))return n;t.push(n)}return{actions:t}}};function Ne(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}let _s=class extends _{},_r=class extends ${constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=Ni[t]||t,this.addQualifier(new g("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new g("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new g("w",t))}aspectRatio(t){if(t instanceof _s)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new g("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=Ne(t),this.addQualifier(new g("ar",Ne(t)));if(t instanceof S)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(ms())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(gs())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=lr[r]||r,p=new this(d,l,h);return u&&p.aspectRatio(u==="ignore_aspect_ratio"?ds():u),s&&p.relative(),o&&p.regionRelative(),p}},Ot=class extends g{constructor(t){super("g",new _(t))}},vr=class extends Ot{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}},wr=class extends Ot{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}},br=class extends Ot{constructor(t){super(t)}};function vs(e){return new br(e)}function Ar(...e){const t=[...e];return new wr(t)}function Tr(){return new vr}let et=class extends _{constructor(t){super(),this.name=t}toString(){return this.name}};function ws(){return new et("ocr_text")}function bs(e){return e&&`${e}`.split(":")[0]==="auto"}function As(e){const t=Xt(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function Xt(e){return`${e}`.replace("g_","")}function Ts(e){return{compass:Xt(e),gravityType:"direction"}}function Os(e){return Xt(e)==="ocr_text"}function Ss(){return{gravityType:"ocr"}}function Es(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function $s(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function Or(e){let t;const r=e==="auto"?new vr:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map($s)}}function Cs(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=Tr().autoFocus(...o);s.fallbackGravity=Or(u)}return s}function Ms(e){const r=e.split(":").map(n=>new et(n));return new wr(r)}function xs(e){return As(e)?Ts(e):Os(e)?Ss():bs(e)||Es(e)?Or(e):Cs(typeof e=="string"?Ms(e):e)}let Rs=class Sr extends _{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof et?t:new et(t);return new Sr(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}},Er=class extends _{constructor(t){super(),this.val=t}toString(){return this.val}};function Fs(e){return e.gravityType==="direction"}function Vs(e){return e.gravityType==="ocr"}function Ls(e){return e.gravityType==="auto"}function js(e){const{object:t,weight:r,avoid:n}=e,s=new Rs(new et(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function $r(e){const r=(e.autoFocus||[]).map(js);return Tr().autoFocus(...r)}function Ps(e){const t=(e.focusOnObjects||[]).map(n=>new et(n)),r=Ar(...t);if(e.fallbackGravity){const n=$r(e.fallbackGravity);r.fallbackGravity(n)}return r}function Is(e){return Fs(e)?new br(new Er(e.compass)):Vs(e)?Ar(ws()):Ls(e)?$r(e):Ps(e)}let Zt=class extends _r{gravity(t){this._actionModel.gravity=xs(t);const r=typeof t=="string"?new g("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(Is(t.gravity)),r}};class lt extends g{constructor(t){super("b"),t&&this.addValue(t)}}const Cr=100,ks=0;class Qs extends lt{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${Cr}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}}var Mr=Qs;class te extends lt{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>At(r)),this}}class xr extends te{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Rr extends te{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class Fr extends Rr{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Vr extends Rr{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Lr extends te{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class jr extends lt{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${Xi(this._prompt)}`:""}`}}function Pr(e){return`${e}`.replace("b_","")}function Ds(){return{backgroundType:"auto"}}function Gs(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function ee(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function Us(e){return Object.assign(Object.assign({},ee(e)),{backgroundType:"border"})}function Ir(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=ee(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function qs(e){return Object.assign(Object.assign({},Ir(e)),{backgroundType:"borderGradient"})}function Ns(e){return{backgroundType:"color",color:Pr(e)}}function Bs(e){return Object.assign(Object.assign({},ee(e)),{backgroundType:"predominant"})}function zs(e){return Object.assign(Object.assign({},Ir(e)),{backgroundType:"predominantGradient"})}function Js(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function Hs(e){return Pr(e)==="auto"?Ds():e instanceof Mr?Gs(e):e instanceof xr?Us(e):e instanceof Fr?qs(e):e instanceof Lr?Bs(e):e instanceof Vr?zs(e):e instanceof jr?Js(e):Ns(e)}function Ys(){return new Kt("svg")}function re(){return new Kt("auto")}function kr(){return new xr}function Qr(){return new lt("auto")}function Dr(){return new Fr}function Gr(){return new Vr}function Ur(){return new Lr}function qr(e){return new lt(At(e))}function Ws(){return new Mr}function Nr(){return new jr}const Br={auto:Qr,border:kr,borderGradient:Dr,predominantGradient:Gr,predominant:Ur,color:qr,blurred:Ws,generativeFill:Nr};function Ks(e){const{brightness:t,intensity:r}=e,n=Br.blurred();return n.brightness(t??ks),n.intensity(r??Cr),n}function Be(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function ze(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function Xs(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function Zs(e){const{backgroundType:t}=e;switch(t){case"auto":return Qr();case"blurred":return Ks(e);case"border":return ze(kr(),e);case"borderGradient":return Be(Dr(),e);case"predominant":return ze(Ur(),e);case"predominantGradient":return Be(Gr(),e);case"generativeFill":return Xs(Nr(),e);default:return qr(e.color)}}class to extends Zt{background(t){return this._actionModel.background=Hs(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(Zs(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}}class eo extends _r{liquidRescaling(){return this.addQualifier(new Ot("liquid"))}}class ro extends Zt{x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new g("z",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),t.zoom&&r.zoom(t.zoom),r}}let no=class extends Zt{x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}};function io(e,t){return new eo("scale",e,t)}function so(e,t){return new ro("crop",e,t)}function oo(e,t){return new no("fill",e,t)}function ao(e,t){return new to("pad",e,t)}class uo extends mr{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=hr[t];const r=new _([this._actionModel.level,t]);return r.setDelimiter(":"),this.addQualifier(new g("q",r))}quantization(t){this._actionModel.quantization=t;const r=new _([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new g("q",r))}static fromJson(t){const{level:r,chromaSubSampling:n,quantization:s}=t,o=fr[r]||r,u=new this(o);if(n){const l=qi[n.toUpperCase()];l&&u.chromaSubSampling(+l)}return s&&u.quantization(s),u}}function St(e){return new zt("f",e)}function Et(e){return new uo(e)}function co(){return new Er("north_east")}Ue(70).color("black"),Ue(40).color("white"),ss(),as();new Tt().effect(os()).delivery(Et("auto")).delivery(St(Ys()));new Tt().effect(us()).delivery(Et("auto")).delivery(St(re()));new Tt().effect(is(2e3)).delivery(Et("auto")).delivery(St(re()));new Tt().resize(ao("iw_div_2").aspectRatio(1).background(Br.auto())).resize(so(1,1).gravity(vs(co()))).resize(oo().height("ih").width("iw")).delivery(Et("auto")).delivery(St(re()));var Je={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},He="?_a=",lo=function(){function e(t,r,n,s,o,u,l){var h=this;this.mimeType="video",this.mimeSubTypes=Je,this.videoElement=t,this.originalVideo=r,this.videoOptions=l,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var d=J(r);yt(t,r,s,this.htmlPluginState).then(function(){h.htmlPluginState.pluginEventSubscription.forEach(function(p){p()}),h.setVideoAttributes(o,u),h.handleSourceToVideo(d,n)})}return e.prototype.handleSourceToVideo=function(t,r){var n=this;if(r)this.generateUserSources(t,r);else{var s=["webm","mp4","ogv"];s.forEach(function(o){n.appendSourceTag(J(t),o)})}},e.prototype.generateUserSources=function(t,r){var n=this;r.map(function(s){var o=s.type,u=s.codecs,l=s.transcode;return n.appendSourceTag(J(t).transcode(l),o,n.buildMimeType(o,u))})},e.prototype.appendSourceTag=function(t,r,n){var s,o=document.createElement("source"),u=(s=this.videoOptions)===null||s===void 0?void 0:s.useFetchFormat;u&&t.format(r);var l=t.toURL(),h=l.split(He),d=h[1]?"".concat(He).concat(h[1]):"",p=u?"":".".concat(r);o.src="".concat(h[0]).concat(p).concat(d),o.type=n||"video/".concat(Je[r]||r),this.videoElement.appendChild(o)},e.prototype.buildMimeType=function(t,r){var n="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return r&&(n+="; codecs="+(Array.isArray(r)?r.join(", "):r)),n},e.prototype.setVideoAttributes=function(t,r){var n;if(t===void 0&&(t={}),r==="auto"){var s=J(this.originalVideo);t.poster=s.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else r&&(t.poster=(n=r.toURL)===null||n===void 0?void 0:n.call(r));for(var o=0,u=Object.entries(t);o<u.length;o++){var l=u[o],h=l[0],d=l[1];d&&this.videoElement.setAttribute(h,h==="poster"?d:"")}},e.prototype.update=function(t,r,n,s,o){var u=this;if(t!==this.originalVideo){for(var l=this.videoElement.getElementsByTagName("SOURCE");l[0];)l[0].parentNode.removeChild(l[0]);yt(this.videoElement,t,n,this.htmlPluginState).then(function(){u.setVideoAttributes(s,o),u.handleSourceToVideo(t,r),u.videoElement.load()})}},e}(),fo="Expected a function",Ye=NaN,ho="[object Symbol]",po=/^\s+|\s+$/g,go=/^[-+]0x[0-9a-f]+$/i,mo=/^0b[01]+$/i,yo=/^0o[0-7]+$/i,_o=parseInt,vo=typeof U=="object"&&U&&U.Object===Object&&U,wo=typeof self=="object"&&self&&self.Object===Object&&self,bo=vo||wo||Function("return this")(),Ao=Object.prototype,To=Ao.toString,Oo=Math.max,So=Math.min,Dt=function(){return bo.Date.now()};function Eo(e,t,r){var n,s,o,u,l,h,d=0,p=!1,w=!1,F=!0;if(typeof e!="function")throw new TypeError(fo);t=We(t)||0,Jt(r)&&(p=!!r.leading,w="maxWait"in r,o=w?Oo(We(r.maxWait)||0,t):o,F="trailing"in r?!!r.trailing:F);function k(y){var x=n,D=s;return n=s=void 0,d=y,u=e.apply(D,x),u}function C(y){return d=y,l=setTimeout(b,t),p?k(y):u}function M(y){var x=y-h,D=y-d,it=t-x;return w?So(it,o-D):it}function V(y){var x=y-h,D=y-d;return h===void 0||x>=t||x<0||w&&D>=o}function b(){var y=Dt();if(V(y))return Q(y);l=setTimeout(b,M(y))}function Q(y){return l=void 0,F&&n?k(y):(n=s=void 0,u)}function q(){l!==void 0&&clearTimeout(l),d=0,n=h=s=l=void 0}function nt(){return l===void 0?u:Q(Dt())}function W(){var y=Dt(),x=V(y);if(n=arguments,s=this,h=y,x){if(l===void 0)return C(h);if(w)return l=setTimeout(b,t),k(h)}return l===void 0&&(l=setTimeout(b,t)),u}return W.cancel=q,W.flush=nt,W}function Jt(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function $o(e){return!!e&&typeof e=="object"}function Co(e){return typeof e=="symbol"||$o(e)&&To.call(e)==ho}function We(e){if(typeof e=="number")return e;if(Co(e))return Ye;if(Jt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Jt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(po,"");var r=mo.test(e);return r||yo.test(e)?_o(e.slice(2),r?2:8):go.test(e)?Ye:+e}var Mo=Eo;function xo(e){return typeof e=="number"}function ne(){return typeof window<"u"}function Ro(e){return e instanceof HTMLImageElement}var Fo={accessibility:!1,lazyload:!1,placeholder:!1,responsive:!1},Vo=function(e){return e.replace("bound ","").replace("Plugin","")},Lo=function(e,t){e===void 0&&(e=[]);var r=e.reduce(function(n,s){var o,u=s.name;return ut(ut({},n),(o={},o[Vo(u)]=!0,o))},Fo);return r[t]};function Ke(e){var t=e===void 0?{}:e,r=t.steps;return jo.bind(null,r)}function jo(e,t,r,n,s,o){if(!ne())return!0;if(Ro(t))return new Promise(function(u){n.cleanupCallbacks.push(function(){window.removeEventListener("resize",d),u("canceled")});var l=Bt(s,{responsive:!0});r.addAction(new $().setActionTag("responsive"));var h=!Lo(o,"placeholder");h?Xe(e,t,r,l):zr(e,t,r);var d;n.pluginEventSubscription.push(function(){window.addEventListener("resize",d=Mo(function(){Xe(e,t,r,l)},100))}),u({responsive:!0})})}function Xe(e,t,r,n){zr(e,t,r),t.src=r.toURL(n)}function zr(e,t,r){var n=t.parentElement.clientWidth;if(xo(e)){var s=e;n=Math.ceil(n/s)*s}else Array.isArray(e)&&(n=e.reduce(function(o,u){return Math.abs(u-n)<Math.abs(o-n)?u:o}));r.transformation.actions.forEach(function(o,u){o instanceof $&&o.getActionTag()==="responsive"&&(r.transformation.actions[u]=io(n).setActionTag("responsive"))})}function Po(e){var t={},r=t.rootMargin,n=r===void 0?"0px":r,s=t.threshold,o=s===void 0?.1:s;return Io.bind(null,n,o)}function Io(e,t,r,n,s,o){return e===void 0&&(e="0px"),t===void 0&&(t=.1),ne()?new Promise(function(u){var l=function(){return u({lazyload:!0})},h=Qo(r,l,e,t);s.cleanupCallbacks.push(function(){h(),u("canceled")})}):!1}function ko(){return window&&"IntersectionObserver"in window}function Qo(e,t,r,n){try{if(!ko())return t(),function(){};var s=new IntersectionObserver(function(o){o.forEach(function(u){u.isIntersecting&&(s.unobserve(u.target),t())})},{rootMargin:r,threshold:n});return s.observe(e),function(){e&&s.observe(e)}}catch{t()}}function Do(e,t,r){var n=J(t);if(e)for(var s=0;s<e.length;s++){var o=e[s](null,n);if(!o)break}return n.toURL(r?{trackedAnalytics:r}:null)}function _t(e){e.cleanupCallbacks.forEach(function(t){t()})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ht=function(e,t){return Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Ht(e,t)};function Jr(e,t){Ht(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ct=function(){return ct=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ct.apply(this,arguments)};function Hr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var Gt={sdkSemver:"1.14.3",techVersion:I.version,sdkCode:"J"},Go=function(e){Jr(t,e);function t(r){var n=e.call(this,r)||this;return n.imageRef=I.createRef(),n}return t.prototype.componentDidMount=function(){this.htmlLayerInstance=new xi(this.imageRef.current,this.props.cldImg,this.props.plugins,Gt)},t.prototype.componentDidUpdate=function(){_t(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,Gt)},t.prototype.componentWillUnmount=function(){_t(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},t.prototype.render=function(){var r=this.props;r.cldImg,r.plugins;var n=Hr(r,["cldImg","plugins"]);if(ne())return I.createElement("img",ct({suppressHydrationWarning:!0},n,{ref:this.imageRef}));var s=Do(this.props.plugins,this.props.cldImg,Gt);return I.createElement("img",ct({},n,{src:s}))},t}(I.Component),Uo=["controls","loop","muted","poster","preload","autoplay","playsinline"];(function(e){Jr(t,e);function t(r){var n=e.call(this,r)||this;return n.videoRef=at.createRef(),n.attachRef=n.attachRef.bind(n),n}return t.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new lo(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},t.prototype.componentDidUpdate=function(){_t(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},t.prototype.componentWillUnmount=function(){_t(this.htmlVideoLayerInstance.htmlPluginState)},t.prototype.getVideoAttributes=function(){var r=this,n={};return Uo.forEach(function(s){s in r.props&&(n[s]=r.props[s])}),n},t.prototype.attachRef=function(r){this.videoRef.current=r;var n=this.props.innerRef;n&&(n instanceof Function?n(r):n.current=r)},t.prototype.render=function(){var r=this.props;r.cldVid,r.cldPoster,r.plugins,r.sources,r.innerRef,r.useFetchFormat;var n=Hr(r,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return I.createElement("video",ct({},n,{ref:this.attachRef}))},t})(at.Component);function qo(e){return!(typeof e!="object"||e instanceof Array)}class No{filterOutNonSupportedKeys(t,r){const n=Object.create({});return qo(t)?(Object.keys(t).forEach(s=>{r.indexOf(s)>=0?n[s]=t[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),n):Object.create({})}}const Ze=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class ie extends No{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,Ze);Object.assign(this,{secure:!0},r)}extend(t){const r=this.filterOutNonSupportedKeys(t,Ze);return new ie(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}class R{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}}class Bo extends Error{constructor(t="Unsupported"){super(t)}}function se(e){return new Bo(e)}function zo(){return this._qualifierModel||{error:se(`unsupported qualifier ${this.constructor.name}`)}}class Jo{constructor(){this._qualifierModel={}}toJson(){return zo.apply(this)}}class O extends Jo{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof R?this.qualifierValue=r:(this.qualifierValue=new R,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class E extends O{constructor(t,r){let n;r?n=new R([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function Ho(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function Yo(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:se(`unsupported action ${this.constructor.name}`)}}class Wo{constructor(){this._actionModel={}}toJson(){return Yo.apply(this)}}class $t extends Wo{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),Ho(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new E(n)):this.qualifiers.set(r,new O(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new E(t)):t instanceof E&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}}function Ko(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class Xo extends $t{constructor(t){super(),this._actionModel={},this.addQualifier(new O("b",new R(Ko(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}}class tr{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:se(`unsupported action ${this.constructor.name}`)}}}function Zo(e){const t=e;return"error"in t&&!!t.error}function ta(){return new E("ignore_aspect_ratio")}function ea(){return new E("lossy")}function ra(){return new E("preserve_transparency")}function na(e){return new E("progressive",e)}function ia(){return new E("region_relative")}function sa(){return new E("relative")}class Yr extends R{constructor(t){super(t),this.val=t}getValue(){return this.val}}function Y(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const Wr={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},oa={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},aa={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},ua={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},ca={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},la={444:"CHROMA_444",420:"CHROMA_420"},da={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};Y(la);Y(da);const fa=Y(Wr),ha=Y(oa);Y(aa);Y(ua);Y(ca);class pa extends $t{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof Yr?s=r.getValue():s=r,this._actionModel.actionType=ha[t],this._actionModel[n]=s,this.addQualifier(new O(t,r))}}class ga extends E{constructor(t){super("progressive",t)}}class vt extends pa{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(ea()),this}progressive(t){return t instanceof ga?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(na(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(ra()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}}class Ct{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new tr(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof Ct?this.actions=this.actions.concat(t.actions):this.actions.push(new tr(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new vt("q",t)),this}format(t){return this.addAction(new vt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new Xo(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new $t;let n=t;return typeof t=="string"&&(n=new E(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(Zo(n))return n;t.push(n)}return{actions:t}}}class ma extends Ct{}class ya extends Ct{}function er(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}class _a extends R{}class va extends $t{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=fa[t]||t,this.addQualifier(new O("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new O("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new O("w",t))}aspectRatio(t){if(t instanceof _a)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new O("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=er(t),this.addQualifier(new O("ar",er(t)));if(t instanceof E)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(sa())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(ia())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=Wr[r]||r,p=new this(d,l,h);return u&&p.aspectRatio(u==="ignore_aspect_ratio"?ta():u),s&&p.relative(),o&&p.regionRelative(),p}}class oe extends O{constructor(t){super("g",new R(t))}}class Kr extends oe{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class Xr extends oe{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class wa extends oe{constructor(t){super(t)}}function Zr(...e){const t=[...e];return new Xr(t)}function ae(){return new Kr}class rt extends R{constructor(t){super(),this.name=t}toString(){return this.name}}function ba(){return new rt("ocr_text")}function Aa(e){return e&&`${e}`.split(":")[0]==="auto"}function Ta(e){const t=ue(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function ue(e){return`${e}`.replace("g_","")}function Oa(e){return{compass:ue(e),gravityType:"direction"}}function Sa(e){return ue(e)==="ocr_text"}function Ea(){return{gravityType:"ocr"}}function $a(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Ca(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function tn(e){let t;const r=e==="auto"?new Kr:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(Ca)}}function Ma(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=ae().autoFocus(...o);s.fallbackGravity=tn(u)}return s}function xa(e){const r=e.split(":").map(n=>new rt(n));return new Xr(r)}function Ra(e){return Ta(e)?Oa(e):Sa(e)?Ea():Aa(e)||$a(e)?tn(e):Ma(typeof e=="string"?xa(e):e)}class ce extends R{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof rt?t:new rt(t);return new ce(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class Fa extends R{constructor(t){super(),this.val=t}toString(){return this.val}}function Va(e){return e.gravityType==="direction"}function La(e){return e.gravityType==="ocr"}function ja(e){return e.gravityType==="auto"}function Pa(e){const{object:t,weight:r,avoid:n}=e,s=new ce(new rt(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function en(e){const r=(e.autoFocus||[]).map(Pa);return ae().autoFocus(...r)}function Ia(e){const t=(e.focusOnObjects||[]).map(n=>new rt(n)),r=Zr(...t);if(e.fallbackGravity){const n=en(e.fallbackGravity);r.fallbackGravity(n)}return r}function ka(e){return Va(e)?new wa(new Fa(e.compass)):La(e)?Zr(ba()):ja(e)?en(e):Ia(e)}class Qa extends va{gravity(t){this._actionModel.gravity=Ra(t);const r=typeof t=="string"?new O("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(ka(t.gravity)),r}}function Da(){return"auto"}function rr(){return new Yr("auto")}class Ga extends Qa{x(t){return this._actionModel.x=t,this.addQualifier(new O("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new O("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function nr(e,t){return new Ga("fill",e,t)}function Ua(e){return e.match(/^https?:\//)}function qa(e){return e.indexOf("/")<0}function Na(e){return e.match(/^v[0-9]+/)}function Ba(e,t){const r=t.secure,n=t.privateCdn,s=t.cname,o=t.secureDistribution;return!r&&!s?`http://res.cloudinary.com/${e}`:r&&!o&&n?`https://${e}-res.cloudinary.com`:r&&!o?`https://res.cloudinary.com/${e}`:r&&o&&n?`https://${o}`:r&&o?`https://${o}/${e}`:!r&&s?`http://${s}/${e}`:"ERROR"}function za(e){return e||"image"}function Ja(e){return e||"upload"}function Ha(e,t,r){const n=r!==!1;return t?`v${t}`:Na(e)||Ua(e)||qa(e)?"":n?"v1":""}function le(e,t,r){let n=t>>0,s=String(r);return e.length>n?String(e):(n=n-e.length,n>s.length&&(s+=Ya(s,n/s.length)),s.slice(0,n)+String(e))}function Ya(e,t){let r=t,n="";for(;r>0;)n+=e,r--;return n}const Wa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wt={};let ir=0;Wa.split("").forEach(e=>{let t=ir.toString(2);t=le(t,6,"0"),wt[t]=e,ir++});function Ka(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().join(".")}function Xa(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").map(t=>{const r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return le(t,2,"0")}).join(".")}function sr(e){let t="";const n=e.split(".").length*6,s=Ka(e),o=Xa(s);let l=parseInt(o.split(".").join("")).toString(2);if(l=le(l,n,"0"),l.length%6!==0)throw"Version must be smaller than 43.21.26)";return l.match(/.{1,6}/g).forEach(h=>{t+=wt[h]}),t}function Za(e){const t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0",osType:e.osType,osVersion:e.osVersion};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),e.feature&&(t.feature=e.feature),t}const tu="1.22.0";function eu(e){const[t,r]=e.split("."),n=parseInt(t).toString(2),s=parseInt(r).toString(2),o=n.padStart(6,"0"),u=s.padStart(6,"0");return wt[o]+wt[u]}function ru(){const e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function nu(e){const t={techVersion:ru(),sdkCode:"T",sdkSemver:tu.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function or(e){const t=nu(e),r=Za(t);try{const n=iu(r.techVersion),s=sr(r.sdkSemver),o=sr(n),u=eu(r.osVersion),l=r.feature,h=r.sdkCode,{product:d,osType:p}=r;return`D${d}${h}${s}${o}${p}${u}${l}`}catch{return"E"}}function iu(e){const t=e.split(".");return`${t[0]}.${t[1]}`}const ar={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class su{constructor(t,r={},n){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(n)}setURLConfig(t){return this.urlConfig=new ie(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){const t=za(this.assetType),r=Ja(this.deliveryType),n=!!this.suffix,s=`${t}/${r}`,o=ar[`${t}/${r}`],u=this.urlConfig.useRootPath,l=this.urlConfig.shorten;if(u){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(l&&s==="image/upload")return"iu";if(n){if(o)return o;throw new Error(`URL Suffix only supported for ${Object.keys(ar).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();const n=Ba(this.cloudName,this.urlConfig),s=t?t.toString():"",o=Ha(this.publicID,this.version,this.urlConfig.forceVersion),u=this.publicID;if(typeof t=="string")return[n,this.getResourceType(),this.getSignature(),s,o,u.replace(/,/g,"%2C"),this.suffix].filter(h=>h).join("/");{const l=[encodeURI(n),this.getResourceType(),this.getSignature(),encodeURI(s),o,encodeURI(u).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(p=>p).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),h=this.urlConfig.analytics!==!1&&!u.includes("?");let d="";if(typeof this.urlConfig.queryParams=="object")try{const p=new URLSearchParams(this.urlConfig.queryParams);h&&p.set("_a",or(r)),d=p.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else d=this.urlConfig.queryParams||"",h&&(d+=`${d.length>0?"&":""}_a=${or(r)}`);return d?`${l}?${d}`:l}}}class rn extends su{constructor(t,r,n,s){super(t,r,n),this.transformation=s}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new vt("q",t)),this}format(t){return this.addAction(new vt("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t==null?void 0:t.trackedAnalytics)}}let ou=class extends rn{constructor(t,r,n){super(t,r,n,new ma)}};class au extends rn{constructor(t,r,n){super(t,r,n,new ya),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}class uu{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new ou(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new au(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}const Ut={};var qt={};const cu=(Ut==null?void 0:Ut.VITE_CLOUDINARY_CLOUD_NAME)||typeof process<"u"&&(qt==null?void 0:qt.CLOUDINARY_CLOUD_NAME)||"dokyhfvyd",ur=new uu({cloud:{cloudName:cu}}),ju=({publicId:e,alt:t,width:r,height:n,className:s,disableLazy:o=!1})=>{const[u,l]=at.useState(!1),h=at.useRef(null);if(!e){const C={width:r?`${r}px`:"100%",height:n?`${n}px`:"100%",backgroundColor:"#f0f0f0",display:"inline-block"};return I.createElement("span",{style:C,className:s})}const d=ur.image(e),p=80,w=Math.max(20,Math.round((n||80)*(p/(r||80)))),k=ur.image(e).resize(nr(p,w)).quality(20).format(rr()).toURL();return d.quality(Da()).format(rr()),r&&n&&d.resize(nr(r,n).gravity(ae())),at.useEffect(()=>{let C=!0,M=null,V=null,b=null;const Q=setTimeout(()=>{C&&l(!0)},2500),q=()=>{if(M=h.current&&h.current.querySelector("img"),!M){V=setTimeout(q,200);return}b=()=>{C&&(clearTimeout(Q),l(!0))},M.addEventListener("load",b),M.complete&&b()};return q(),()=>{C=!1,clearTimeout(Q),V&&clearTimeout(V),M&&b&&M.removeEventListener("load",b)}},[e]),I.createElement("div",{ref:h,className:`${s} relative overflow-hidden`,style:{backgroundImage:`url(${k})`,backgroundSize:"cover",backgroundPosition:"center"}},I.createElement(Go,{cldImg:d,alt:t,className:`transition-opacity duration-500 ${u?"opacity-100":"opacity-0"}`,plugins:o?[Ke({steps:[800,1e3,1400]})]:[Ke({steps:[800,1e3,1400]}),Po()]}))};export{ju as C};
