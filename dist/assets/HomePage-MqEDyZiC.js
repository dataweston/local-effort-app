import{R as e,m as c,s as N,L as k,r as u,A as I,u as S,W as P,f as v,a as C}from"./index-B5PZCLOy.js";import{C as h}from"./cloudinaryImage-BE8avuXi.js";import{c as L}from"./sanityClient-BrVy1SUw.js";import{c as j,h as p,a as b,p as M}from"./cloudinaryContent-DL-VHaHa.js";const E=({to:a="#",title:l,description:i,children:r})=>e.createElement(c.div,{...N,className:"group rounded-xl bg-neutral-50 p-8 shadow-sm ring-1 ring-neutral-200 transition-shadow hover:shadow-md",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2}},e.createElement(k,{to:a,className:"block h-full"},e.createElement("h4",{className:"text-2xl font-bold uppercase tracking-tight"},l),e.createElement("p",{className:"font-mono text-neutral-600 min-h-[5.5rem] mt-2"},i),e.createElement("span",{className:"font-mono text-sm inline-block underline underline-offset-4 group-hover:translate-x-0.5 transition-transform"},"Learn More →")),r&&e.createElement("div",{className:"mt-4"},r));function _({items:a=[],intervalMs:l=5e3,className:i=""}){const[r,s]=u.useState(0),f=u.useRef(null),m=()=>s(o=>(o+1)%Math.max(a.length,1)),x=()=>s(o=>(o-1+Math.max(a.length,1))%Math.max(a.length,1));if(u.useEffect(()=>a.length<=1?()=>{}:(f.current=setInterval(m,l),()=>clearInterval(f.current)),[a.length,l]),!a.length)return null;const n=a[r];return e.createElement("div",{className:`relative ${i}`},e.createElement(I,{mode:"wait"},e.createElement(c.div,{key:n.key,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6},className:"w-full h-full"},n.node)),a.length>1&&e.createElement("div",{className:"absolute inset-x-0 bottom-3 flex justify-center gap-2"},a.map((o,t)=>e.createElement("button",{key:t,"aria-label":`Go to slide ${t+1}`,className:`w-2.5 h-2.5 rounded-full ${t===r?"bg-white":"bg-white/50"} border border-black/10`,onClick:()=>s(t)}))),a.length>1&&e.createElement(e.Fragment,null,e.createElement("button",{"aria-label":"Previous slide",onClick:x,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/70 hover:bg-white text-black rounded-full w-8 h-8 flex items-center justify-center shadow"},"‹"),e.createElement("button",{"aria-label":"Next slide",onClick:m,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/70 hover:bg-white text-black rounded-full w-8 h-8 flex items-center justify-center shadow"},"›")))}function $({items:a=[]}){return a.length?e.createElement("section",{className:"mx-auto max-w-6xl px-4 md:px-6 lg:px-8"},e.createElement("h3",{className:"text-heading uppercase mb-6 border-b border-neutral-300 pb-3"},"Testimonials"),e.createElement("div",{className:"grid md:grid-cols-3 gap-6"},a.map((l,i)=>e.createElement(c.blockquote,{key:i,initial:{opacity:0,y:8},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.5,delay:i*.05},className:"p-6 rounded-xl bg-white shadow"},e.createElement("p",{className:"text-body italic"},"“",l.quote,"”"),e.createElement("footer",{className:"mt-4 text-sm text-neutral-600"},"— ",l.author,l.context?e.createElement("span",{className:"block text-neutral-400 mt-1"},l.context):null))))):null}const z=[{quote:"The in-home dinner was flawless. Every bite was a delight and the team was professional and kind.",author:"Megan K.",context:"Birthday dinner for 10"},{quote:"Our company happy hour was the best yet—fresh, local, and super tasty.",author:"Chris D.",context:"Corporate event catering"},{quote:"Meal prep has been a lifesaver. Healthy, simple, and actually delicious.",author:"Priya S.",context:"Weekly meal prep client"}],R=()=>{const a=S(),[l,i]=u.useState([]),[r,s]=u.useState([]);u.useEffect(()=>{let n=!0;return L.fetch('*[_type == "partner" && published == true] | order(order asc){ name, "publicId": logo.publicId, "image": logo.asset, url }').then(t=>{n&&t&&t.length&&i(t)}).catch(t=>{console.warn("Failed to fetch partners from Sanity, falling back to static list:",t.message)}),()=>{n=!1}},[]),u.useEffect(()=>{let n=!1;async function o(){try{const t=await fetch("/api/search-images?collection=home&type=hero&per_page=10");if(!t.ok)throw new Error(`Hero fetch failed: ${t.status}`);const d=await t.json();if(n)return;const g=d.images||[];g.length?s(g.map((w,y)=>({key:w.public_id||`${y}`,node:e.createElement(h,{publicId:w.public_id,alt:`Local Effort — hero ${y+1}`,width:600,height:600,className:"w-full h-full object-cover",fallbackSrc:b})}))):s([{key:p,node:e.createElement(h,{publicId:p,alt:"Local Effort — hero",width:600,height:600,className:"w-full h-full object-cover",fallbackSrc:b})}])}catch(t){console.warn("Falling back to single hero image:",t.message),s([{key:p,node:e.createElement(h,{publicId:p,alt:"Local Effort — hero",width:600,height:600,className:"w-full h-full object-cover",fallbackSrc:b})}])}}return o(),()=>{n=!0}},[]);const f=()=>{const n=(l||[]).filter(t=>t&&t.publicId),o=n.length?n:M;return e.createElement("div",{className:"max-w-6xl mx-auto grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6 items-center px-4"},o.map((t,d)=>e.createElement("a",{key:(t.publicId||t.image&&t.image._ref||d)+d,href:t.url||"#",onClick:g=>{t.url||g.preventDefault(),window&&window.gtag?window.gtag("event","partner_click",{partner:t.name||t.publicId}):console.log("partner_click",t.name||t.publicId)},className:"flex items-center justify-center p-4 bg-white rounded-lg shadow-sm","aria-label":t.name||`Partner ${d+1}`,rel:"noopener noreferrer",target:t.url?"_blank":void 0},e.createElement(h,{publicId:t.publicId,alt:t.name||`Partner ${d+1}`,width:300,height:80,className:"max-h-16 object-contain grayscale hover:grayscale-0 transition-all",fallbackSrc:t.fallbackSrc||"/gallery/logo.png",resizeMode:"fit"}))))},m={publicId:p,alt:"Local Effort — hero"},x={"@context":"https://schema.org","@type":"ImageObject",contentUrl:`https://res.cloudinary.com/${j.cloudName}/image/upload/f_auto,q_auto/${m.publicId}`,name:m.alt,description:"A sample of the professional in-home dining experience by Local Effort.",creator:{"@type":"Organization",name:"Local Effort"}};return e.createElement(e.Fragment,null,e.createElement(P,null,e.createElement("title",null,"Local Effort | Personal Chef & Event Catering in Roseville, MN"),e.createElement("meta",{name:"description",content:"Local Effort offers personal chef services, event catering, and weekly meal prep in Roseville, MN."}),e.createElement("script",{type:"application/ld+json"},JSON.stringify(x))),e.createElement("div",{className:"space-y-24"},!1,e.createElement("section",{className:"mx-auto max-w-6xl px-4 md:px-6 lg:px-8 grid md:grid-cols-2 gap-8 items-center min-h-[60vh]"},e.createElement("div",null,e.createElement(c.h2,{variants:v,initial:"initial",animate:"animate",className:"text-hero uppercase tracking-[-0.02em] leading-[1.05]"},"Minnesotan Food"),e.createElement(c.h3,{variants:v,initial:"initial",animate:"animate",transition:{delay:.05},className:"text-hero uppercase text-neutral-400 tracking-[-0.02em] leading-[1.05] mt-1"},"For Your Functions."),e.createElement(c.p,{variants:C,initial:"initial",animate:"animate",className:"mt-6 md:mt-8 text-body max-w-md"},"Professional in-home dining. 30 years collective fine food experience. Sourcing the best local ingredients without compromise."),e.createElement(c.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>a("/services"),className:"btn btn-primary mt-8 text-lg"},"Explore Services")),e.createElement(c.div,{className:"w-full min-h-[400px] h-full rounded-xl overflow-hidden",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6}},r&&r.length?e.createElement(_,{items:r,intervalMs:6e3,className:"w-full h-full"}):e.createElement(h,{publicId:m.publicId,alt:m.alt,width:600,height:600,className:"w-full h-full object-cover",fallbackSrc:b}))),e.createElement("section",{className:"py-12"},e.createElement("h3",{className:"text-heading uppercase text-center mb-4"},"Our Partners"),e.createElement("p",{className:"text-center text-sm text-gray-600 max-w-2xl mx-auto mb-6"},"Proud partners who help make this project possible. Support local — shop and collaborate with them."),e.createElement(f,null)),e.createElement("section",{className:"mx-auto max-w-6xl px-4 md:px-6 lg:px-8"},e.createElement("h3",{className:"text-heading uppercase mb-6 border-b border-neutral-300 pb-3"},"Core Offerings"),e.createElement("div",{className:"grid md:grid-cols-3 gap-6"},e.createElement(E,{to:"/meal-prep",title:"Weekly Meal Prep",description:"Foundation & custom plans. Basic, good nutrition from local Midwest sources."}),e.createElement(E,{to:"/events",title:"Dinners & Events",description:"Event catering and in-home chef experiences, for parties of 2 to 50."}),e.createElement(E,{to:"/pizza-party",title:"Pizza Parties",description:"Mobile high-temperature pizza oven, sourdough crusts, and all local ingredients."}))),e.createElement($,{items:z})))};export{R as default};
