import{R as e,r as a,c as u,W as h,L as f}from"./index-CUxUiH5k.js";import{P as w}from"./PhotoGrid-B7hzLWEN.js";import"./firebaseConfig-Bigt3ZOc.js";import"./cloudinaryImage-BeHq9I20.js";const g=()=>{const c={fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif',fontSize:"10px"},l={mixBlendMode:"multiply"},t={fontSize:"10px",fontWeight:"bold",fill:"#000",textAnchor:"middle"},o={...t,fontSize:"8px",fill:"#FFFFFF"};return e.createElement("svg",{viewBox:"0 0 300 200",xmlns:"http://www.w3.org/2000/svg",style:c},e.createElement("circle",{cx:"115",cy:"120",r:"50",fill:"#fde047",style:l}),e.createElement("circle",{cx:"185",cy:"120",r:"50",fill:"#67e8f9",style:l}),e.createElement("circle",{cx:"150",cy:"70",r:"50",fill:"#fca5a5",style:l}),e.createElement("text",{x:"100",y:"130",style:t},"Cost Efficiency"),e.createElement("text",{x:"200",y:"130",style:t},"Local Ingredients"),e.createElement("text",{x:"150",y:"55",style:t},"Perfect Nutrition"),e.createElement("text",{x:"150",y:"105",style:o},"Foundation"),e.createElement("text",{x:"150",y:"115",style:o},"Meal Plan"))},C=()=>{const[l,t]=a.useState([]),[o,i]=a.useState(!1),[N,p]=a.useState(null),[v,S]=a.useState(null),[y]=a.useState(""),[m,E]=a.useState(null),[r,x]=a.useState(null);return a.useEffect(()=>((async()=>{{E(null);return}})(),()=>{}),[null]),a.useEffect(()=>{let n=!0;return(async()=>{try{if(i(!0),p(null),!u||!u.fetch)throw new Error("Content service unavailable");const s=await u.fetch(`*[_type == "mealPrepMenu" && published == true] | order(date desc)[0...50]{
            _id, date, clientName, menu, notes
          }`);n&&t(s||[])}catch(s){n&&p(s.message||String(s))}finally{n&&i(!1)}})(),()=>{n=!1}},[null]),a.useMemo(()=>{const n=m?l.filter(d=>(d.clientName||"").toLowerCase()===m.toLowerCase()):l,s=y.trim().toLowerCase();return s?n.filter(d=>(d.clientName||"").toLowerCase().includes(s)):n},[l,y,m]),e.createElement(e.Fragment,null,e.createElement(h,null,e.createElement("title",null,"Weekly Meal Prep | Local Effort"),e.createElement("meta",{name:"description",content:"Our Foundation Meal Plan provides 21 nutritious meals per week from local Midwest sources."})),e.createElement("div",{className:"space-y-16 mx-auto max-w-6xl px-4 md:px-6 lg:px-8"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-4xl md:text-6xl font-bold uppercase tracking-[-0.02em] leading-[1.02]"},"Weekly Meal Prep"),e.createElement("div",{className:"flex items-center gap-3"})),e.createElement("p",{className:"text-body max-w-2xl"},"Basic, good nutrition from local Midwest sources. We offer a Foundation Plan and are happy to create custom plans for any diet."),e.createElement("div",{className:"flex gap-2 items-center text-sm text-gray-700 mt-2"},e.createElement("a",{href:"#menus",className:"underline"},"View current menus"),m?e.createElement("span",null,"for ",e.createElement("strong",null,m)):e.createElement("span",{className:"italic"},"no client assigned yet")),!1,e.createElement(w,{tags:"mealplan",perPage:24,masonry:!0}),e.createElement("div",{className:"grid md:grid-cols-2 gap-6"},e.createElement("div",{className:"border border-gray-900 rounded-md overflow-hidden"},e.createElement("button",{type:"button",className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100",onClick:()=>x(r==="foundation"?null:"foundation")},e.createElement("span",{className:"text-xl font-bold"},"Foundation Meal Plan"),e.createElement("span",{className:"text-sm text-gray-600"},r==="foundation"?"Hide ▲":"View More ▼")),e.createElement("div",{className:`transition-[max-height,opacity] duration-300 ease-in-out ${r==="foundation"?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"} overflow-hidden`},e.createElement("div",{className:"p-6"},e.createElement(g,null),e.createElement("p",{className:"font-mono mt-6 max-w-2xl"},"Inspired by the 'Protocol' by Bryan Johnson, this plan provides up to 21 meals/week at ~1800 calories/day.")))),e.createElement("div",{className:"border border-gray-900 rounded-md overflow-hidden"},e.createElement("button",{type:"button",className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100",onClick:()=>x(r==="custom"?null:"custom")},e.createElement("span",{className:"text-xl font-bold"},"Custom Plan"),e.createElement("span",{className:"text-sm text-gray-600"},r==="custom"?"Hide ▲":"View More ▼")),e.createElement("div",{className:`transition-[max-height,opacity] duration-300 ease-in-out ${r==="custom"?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"} overflow-hidden`},e.createElement("div",{className:"p-6"},e.createElement(g,null),e.createElement("p",{className:"font-mono mt-6 max-w-2xl"},"We tailor plans to your needs (gluten-free, vegetarian, high-protein, etc.). Tell us your goals and preferences and we’ll propose a weekly plan and schedule."))))),e.createElement("section",{className:"mt-10"},e.createElement(b,null))))};function b(){const[c,l]=a.useState([]);return a.useEffect(()=>{let t=!0;return(async()=>{try{const i=await u.fetch('*[_type == "blogPost"] | order(publishedAt desc)[0...3]{ title, "slug": slug.current, excerpt, publishedAt }');t&&l(i||[])}catch{}})(),()=>{t=!1}},[]),c.length?e.createElement("div",{className:"border rounded-lg p-5 bg-white shadow-sm"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h3",{className:"text-xl font-bold"},"Weekly Meal Prep Journal"),e.createElement(f,{to:"/weekly",className:"text-sm underline"},"View more")),e.createElement("div",{className:"mt-4 grid gap-4 sm:grid-cols-2"},c.map(t=>e.createElement("article",{key:t.slug,className:"rounded-md ring-1 ring-neutral-200 p-4"},e.createElement("h4",{className:"text-lg font-semibold"},e.createElement(f,{to:`/weekly/${t.slug}`,className:"hover:underline"},t.title)),e.createElement("div",{className:"text-sm text-gray-500 mt-1"},t.publishedAt?new Date(t.publishedAt).toLocaleDateString():""),t.excerpt&&e.createElement("p",{className:"text-gray-700 mt-2"},t.excerpt),e.createElement("div",{className:"mt-3"},e.createElement(f,{to:`/weekly/${t.slug}`,className:"btn btn-ghost px-3 py-1 text-sm"},"Read")))))):null}export{C as MealPrepPage,C as default};
