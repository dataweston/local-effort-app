const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BlockContent-CPNFQV73.js","assets/index-BNYhxoav.js","assets/index-CH5Qx2Fe.css","assets/FoodItemModal-BRYZeDXT.js","assets/FeedbackForm-B0jgVZkd.js"])))=>i.map(i=>d[i]);
import{R as e,m as u,a as y,r as a,W as b,A as f,_ as s}from"./index-BNYhxoav.js";import{s as i}from"./sanityClient-yUTz_zYv.js";const _=({item:n,onClick:t})=>e.createElement(u.div,{variants:y,onClick:t,className:"border border-neutral-200 rounded-lg p-6 cursor-pointer hover:shadow-lg hover:border-neutral-400 transition-all duration-300 bg-white",whileHover:{scale:1.03},whileTap:{scale:.98}},e.createElement("h4",{className:"text-xl font-bold text-neutral-800"},n.name),e.createElement("p",{className:"text-neutral-600 mt-2 line-clamp-2"},n.description));class d extends e.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,l){console.error("ErrorBoundary caught",t,l)}render(){var t;return this.state.error?e.createElement("div",{className:"p-6 bg-yellow-50 text-center"},e.createElement("h3",{className:"font-bold"},"Something failed to load."),e.createElement("p",{className:"text-sm text-gray-700 mt-2"},(t=this.state.error)==null?void 0:t.message),e.createElement("button",{type:"button",onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded"},"Reload")):this.props.children}}const v=a.lazy(()=>s(()=>import("./BlockContent-CPNFQV73.js").then(n=>n.B),__vite__mapDeps([0,1,2]))),N=a.lazy(()=>s(()=>import("./FoodItemModal-BRYZeDXT.js"),__vite__mapDeps([3,1,2]))),C=a.lazy(()=>s(()=>import("./FeedbackForm-B0jgVZkd.js"),__vite__mapDeps([4,1,2]))),I=a.lazy(()=>s(()=>import("./index-BNYhxoav.js").then(n=>n.b),__vite__mapDeps([1,2]))),L=()=>{const[n,t]=a.useState([]),[l,p]=a.useState(null),[o,c]=a.useState(null),[E,g]=a.useState(!0);a.useEffect(()=>{i.fetch(`{
      "menuItems": *[_type == "menuItems"],
      "pageContent": *[_type == "happyMondayPage"][0]
    }`).then(m=>{t(m.menuItems||[]),p(m.pageContent),g(!1)}).catch(console.error)},[]);const x=r=>{c(r)},h=()=>{c(null)};return e.createElement(e.Fragment,null,e.createElement(b,null,e.createElement("title",null,"Happy Monday | Local Effort"),e.createElement("meta",{name:"description",content:"Explore our special Happy Monday menu, made with the finest local ingredients."})),e.createElement("div",{className:"space-y-24 mb-24"},e.createElement("section",{className:"mx-auto max-w-6xl px-4 md:px-6 lg:px-8"},l&&e.createElement("div",{className:"text-center mb-12"},e.createElement("h2",{className:"text-heading uppercase mb-4"},l.title),e.createElement("div",{className:"prose lg:prose-lg mx-auto max-w-3xl"},e.createElement(v,{blocks:l.body,client:i}))),e.createElement(a.Suspense,{fallback:e.createElement("div",{className:"flex justify-center items-center h-64"},"Loading…")},E?e.createElement("div",{className:"flex justify-center items-center h-64"},e.createElement(I,null)):e.createElement(u.div,{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",initial:"initial",animate:"animate",variants:{animate:{transition:{staggerChildren:.1}}}},n.map(r=>e.createElement(_,{key:r._id,item:r,onClick:()=>x(r)}))))),e.createElement("section",{className:"mx-auto max-w-6xl px-4 md:px-6 lg:px-8"},e.createElement("h2",{className:"text-heading uppercase mb-6 border-b border-neutral-300 pb-3"},"Feedback"),e.createElement("p",{className:"text-body mb-8 max-w-2xl"},"Have a suggestion, a request, or feedback on our quality? We'd love to hear it. Your input helps us grow and improve."),e.createElement(d,null,e.createElement(a.Suspense,{fallback:e.createElement("div",{className:"text-center p-8"},"Loading form…")},e.createElement(C,null))))),e.createElement(f,null,o&&e.createElement(d,null,e.createElement(a.Suspense,{fallback:e.createElement("div",{className:"fixed inset-0 flex items-center justify-center"},"Loading…")},e.createElement(N,{item:o,onClose:h})))))};export{L as default};
