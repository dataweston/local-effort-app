import{R as P,r as rt}from"./index-B5PZCLOy.js";var U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut={exports:{}};(function(e,t){var r=200,n="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",u="[object Array]",l="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Function]",b="[object GeneratorFunction]",S="[object Map]",C="[object Number]",Q="[object Object]",W="[object Promise]",K="[object RegExp]",j="[object Set]",E="[object String]",A="[object Symbol]",k="[object WeakMap]",M="[object ArrayBuffer]",m="[object DataView]",T="[object Float32Array]",L="[object Float64Array]",st="[object Int8Array]",he="[object Int16Array]",pe="[object Int32Array]",ge="[object Uint8Array]",me="[object Uint8ClampedArray]",_e="[object Uint16Array]",ye="[object Uint32Array]",En=/[\\^$.*+?()[\]{}|]/g,Mn=/\w*$/,xn=/^\[object .+?Constructor\]$/,Fn=/^(?:0|[1-9]\d*)$/,_={};_[o]=_[u]=_[M]=_[m]=_[l]=_[h]=_[T]=_[L]=_[st]=_[he]=_[pe]=_[S]=_[C]=_[Q]=_[K]=_[j]=_[E]=_[A]=_[ge]=_[me]=_[_e]=_[ye]=!0,_[d]=_[p]=_[k]=!1;var Rn=typeof U=="object"&&U&&U.Object===Object&&U,jn=typeof self=="object"&&self&&self.Object===Object&&self,I=Rn||jn||Function("return this")(),ve=t&&!t.nodeType&&t,we=ve&&!0&&e&&!e.nodeType&&e,Ln=we&&we.exports===ve;function Pn(i,a){return i.set(a[0],a[1]),i}function Vn(i,a){return i.add(a),i}function kn(i,a){for(var c=-1,f=i?i.length:0;++c<f&&a(i[c],c,i)!==!1;);return i}function In(i,a){for(var c=-1,f=a.length,v=i.length;++c<f;)i[v+c]=a[c];return i}function be(i,a,c,f){for(var v=-1,$=i?i.length:0;++v<$;)c=a(c,i[v],v,i);return c}function Bn(i,a){for(var c=-1,f=Array(i);++c<i;)f[c]=a(c);return f}function Gn(i,a){return i==null?void 0:i[a]}function Ae(i){var a=!1;if(i!=null&&typeof i.toString!="function")try{a=!!(i+"")}catch{}return a}function Te(i){var a=-1,c=Array(i.size);return i.forEach(function(f,v){c[++a]=[v,f]}),c}function xt(i,a){return function(c){return i(a(c))}}function $e(i){var a=-1,c=Array(i.size);return i.forEach(function(f){c[++a]=f}),c}var Qn=Array.prototype,Dn=Function.prototype,ft=Object.prototype,Ft=I["__core-js_shared__"],Oe=function(){var i=/[^.]+$/.exec(Ft&&Ft.keys&&Ft.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Se=Dn.toString,D=ft.hasOwnProperty,ht=ft.toString,Un=RegExp("^"+Se.call(D).replace(En,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ce=Ln?I.Buffer:void 0,Ee=I.Symbol,Me=I.Uint8Array,qn=xt(Object.getPrototypeOf,Object),Nn=Object.create,zn=ft.propertyIsEnumerable,Jn=Qn.splice,xe=Object.getOwnPropertySymbols,Hn=Ce?Ce.isBuffer:void 0,Yn=xt(Object.keys,Object),Rt=tt(I,"DataView"),ot=tt(I,"Map"),jt=tt(I,"Promise"),Lt=tt(I,"Set"),Pt=tt(I,"WeakMap"),at=tt(Object,"create"),Wn=z(Rt),Kn=z(ot),Xn=z(jt),Zn=z(Lt),ti=z(Pt),Fe=Ee?Ee.prototype:void 0,Re=Fe?Fe.valueOf:void 0;function q(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function ei(){this.__data__=at?at(null):{}}function ri(i){return this.has(i)&&delete this.__data__[i]}function ni(i){var a=this.__data__;if(at){var c=a[i];return c===n?void 0:c}return D.call(a,i)?a[i]:void 0}function ii(i){var a=this.__data__;return at?a[i]!==void 0:D.call(a,i)}function si(i,a){var c=this.__data__;return c[i]=at&&a===void 0?n:a,this}q.prototype.clear=ei,q.prototype.delete=ri,q.prototype.get=ni,q.prototype.has=ii,q.prototype.set=si;function B(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function oi(){this.__data__=[]}function ai(i){var a=this.__data__,c=pt(a,i);if(c<0)return!1;var f=a.length-1;return c==f?a.pop():Jn.call(a,c,1),!0}function ui(i){var a=this.__data__,c=pt(a,i);return c<0?void 0:a[c][1]}function ci(i){return pt(this.__data__,i)>-1}function li(i,a){var c=this.__data__,f=pt(c,i);return f<0?c.push([i,a]):c[f][1]=a,this}B.prototype.clear=oi,B.prototype.delete=ai,B.prototype.get=ui,B.prototype.has=ci,B.prototype.set=li;function X(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function di(){this.__data__={hash:new q,map:new(ot||B),string:new q}}function fi(i){return gt(this,i).delete(i)}function hi(i){return gt(this,i).get(i)}function pi(i){return gt(this,i).has(i)}function gi(i,a){return gt(this,i).set(i,a),this}X.prototype.clear=di,X.prototype.delete=fi,X.prototype.get=hi,X.prototype.has=pi,X.prototype.set=gi;function Z(i){this.__data__=new B(i)}function mi(){this.__data__=new B}function _i(i){return this.__data__.delete(i)}function yi(i){return this.__data__.get(i)}function vi(i){return this.__data__.has(i)}function wi(i,a){var c=this.__data__;if(c instanceof B){var f=c.__data__;if(!ot||f.length<r-1)return f.push([i,a]),this;c=this.__data__=new X(f)}return c.set(i,a),this}Z.prototype.clear=mi,Z.prototype.delete=_i,Z.prototype.get=yi,Z.prototype.has=vi,Z.prototype.set=wi;function bi(i,a){var c=It(i)||Ni(i)?Bn(i.length,String):[],f=c.length,v=!!f;for(var $ in i)D.call(i,$)&&!(v&&($=="length"||Qi($,f)))&&c.push($);return c}function je(i,a,c){var f=i[a];(!(D.call(i,a)&&ke(f,c))||c===void 0&&!(a in i))&&(i[a]=c)}function pt(i,a){for(var c=i.length;c--;)if(ke(i[c][0],a))return c;return-1}function Ai(i,a){return i&&Le(a,Bt(a),i)}function Vt(i,a,c,f,v,$,G){var O;if(f&&(O=$?f(i,v,$,G):f(i)),O!==void 0)return O;if(!mt(i))return i;var Ge=It(i);if(Ge){if(O=Ii(i),!a)return Pi(i,O)}else{var et=N(i),Qe=et==p||et==b;if(Ji(i))return Ei(i,a);if(et==Q||et==o||Qe&&!$){if(Ae(i))return $?i:{};if(O=Bi(Qe?{}:i),!a)return Vi(i,Ai(O,i))}else{if(!_[et])return $?i:{};O=Gi(i,et,Vt,a)}}G||(G=new Z);var De=G.get(i);if(De)return De;if(G.set(i,O),!Ge)var Ue=c?ki(i):Bt(i);return kn(Ue||i,function(Gt,_t){Ue&&(_t=Gt,Gt=i[_t]),je(O,_t,Vt(Gt,a,c,f,_t,i,G))}),O}function Ti(i){return mt(i)?Nn(i):{}}function $i(i,a,c){var f=a(i);return It(i)?f:In(f,c(i))}function Oi(i){return ht.call(i)}function Si(i){if(!mt(i)||Ui(i))return!1;var a=Be(i)||Ae(i)?Un:xn;return a.test(z(i))}function Ci(i){if(!Ve(i))return Yn(i);var a=[];for(var c in Object(i))D.call(i,c)&&c!="constructor"&&a.push(c);return a}function Ei(i,a){if(a)return i.slice();var c=new i.constructor(i.length);return i.copy(c),c}function kt(i){var a=new i.constructor(i.byteLength);return new Me(a).set(new Me(i)),a}function Mi(i,a){var c=a?kt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function xi(i,a,c){var f=a?c(Te(i),!0):Te(i);return be(f,Pn,new i.constructor)}function Fi(i){var a=new i.constructor(i.source,Mn.exec(i));return a.lastIndex=i.lastIndex,a}function Ri(i,a,c){var f=a?c($e(i),!0):$e(i);return be(f,Vn,new i.constructor)}function ji(i){return Re?Object(Re.call(i)):{}}function Li(i,a){var c=a?kt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function Pi(i,a){var c=-1,f=i.length;for(a||(a=Array(f));++c<f;)a[c]=i[c];return a}function Le(i,a,c,f){c||(c={});for(var v=-1,$=a.length;++v<$;){var G=a[v],O=void 0;je(c,G,O===void 0?i[G]:O)}return c}function Vi(i,a){return Le(i,Pe(i),a)}function ki(i){return $i(i,Bt,Pe)}function gt(i,a){var c=i.__data__;return Di(a)?c[typeof a=="string"?"string":"hash"]:c.map}function tt(i,a){var c=Gn(i,a);return Si(c)?c:void 0}var Pe=xe?xt(xe,Object):Wi,N=Oi;(Rt&&N(new Rt(new ArrayBuffer(1)))!=m||ot&&N(new ot)!=S||jt&&N(jt.resolve())!=W||Lt&&N(new Lt)!=j||Pt&&N(new Pt)!=k)&&(N=function(i){var a=ht.call(i),c=a==Q?i.constructor:void 0,f=c?z(c):void 0;if(f)switch(f){case Wn:return m;case Kn:return S;case Xn:return W;case Zn:return j;case ti:return k}return a});function Ii(i){var a=i.length,c=i.constructor(a);return a&&typeof i[0]=="string"&&D.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function Bi(i){return typeof i.constructor=="function"&&!Ve(i)?Ti(qn(i)):{}}function Gi(i,a,c,f){var v=i.constructor;switch(a){case M:return kt(i);case l:case h:return new v(+i);case m:return Mi(i,f);case T:case L:case st:case he:case pe:case ge:case me:case _e:case ye:return Li(i,f);case S:return xi(i,f,c);case C:case E:return new v(i);case K:return Fi(i);case j:return Ri(i,f,c);case A:return ji(i)}}function Qi(i,a){return a=a??s,!!a&&(typeof i=="number"||Fn.test(i))&&i>-1&&i%1==0&&i<a}function Di(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function Ui(i){return!!Oe&&Oe in i}function Ve(i){var a=i&&i.constructor,c=typeof a=="function"&&a.prototype||ft;return i===c}function z(i){if(i!=null){try{return Se.call(i)}catch{}try{return i+""}catch{}}return""}function qi(i){return Vt(i,!0,!0)}function ke(i,a){return i===a||i!==i&&a!==a}function Ni(i){return zi(i)&&D.call(i,"callee")&&(!zn.call(i,"callee")||ht.call(i)==o)}var It=Array.isArray;function Ie(i){return i!=null&&Hi(i.length)&&!Be(i)}function zi(i){return Yi(i)&&Ie(i)}var Ji=Hn||Ki;function Be(i){var a=mt(i)?ht.call(i):"";return a==p||a==b}function Hi(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=s}function mt(i){var a=typeof i;return!!i&&(a=="object"||a=="function")}function Yi(i){return!!i&&typeof i=="object"}function Bt(i){return Ie(i)?bi(i):Ci(i)}function Wi(){return[]}function Ki(){return!1}e.exports=qi})(Ut,Ut.exports);var J=Ut.exports,ut=function(){return ut=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ut.apply(this,arguments)};function Xi(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function l(p){try{d(n.next(p))}catch(b){u(b)}}function h(p){try{d(n.throw(p))}catch(b){u(b)}}function d(p){p.done?o(p.value):s(p.value).then(l,h)}d((n=n.apply(e,[])).next())})}function Zi(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=l(0),u.throw=l(1),u.return=l(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(p){return h([d,p])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(p){d=[6,p],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function yt(e,t,r,n,s){return Xi(this,void 0,void 0,function(){var o,u;return Zi(this,function(l){switch(l.label){case 0:if(r===void 0)return[2];u=0,l.label=1;case 1:return u<r.length?[4,r[u](e,t,n,s,r)]:[3,4];case 2:if(o=l.sent(),o==="canceled")return[3,4];l.label=3;case 3:return u++,[3,1];case 4:return o!=="canceled"?[2,o]:[2]}})})}var qt=function(e,t){return t===void 0&&(t={}),e?{trackedAnalytics:ut({sdkCode:e.sdkCode,sdkSemver:e.sdkSemver,techVersion:e.techVersion},t)}:null},ts=function(){function e(t,r,n,s){var o=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var u=J(r);yt(t,u,n,this.htmlPluginState,s).then(function(l){if(o.isMounted){o.htmlPluginState.pluginEventSubscription.forEach(function(d){d()});var h=qt(s,l);o.imgElement.setAttribute("src",u.toURL(h))}})}return e.prototype.update=function(t,r,n){var s=this,o=J(t);yt(this.imgElement,o,r,this.htmlPluginState).then(function(u){if(s.isMounted){var l=qt(n,u);s.imgElement.setAttribute("src",o.toURL(l))}})},e.prototype.unmount=function(){this.isMounted=!1},e}();let y=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}},es=class extends Error{constructor(t="Unsupported"){super(t)}};function Ht(e){return new es(e)}function rs(){return this._qualifierModel||{error:Ht(`unsupported qualifier ${this.constructor.name}`)}}let ns=class{constructor(){this._qualifierModel={}}toJson(){return rs.apply(this)}},g=class extends ns{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof y?this.qualifierValue=r:(this.qualifierValue=new y,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},x=class extends g{constructor(t,r){let n;r?n=new y([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function is(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function ss(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:Ht(`unsupported action ${this.constructor.name}`)}}let os=class{constructor(){this._actionModel={}}toJson(){return ss.apply(this)}},R=class extends os{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),is(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new x(n)):this.qualifiers.set(r,new g(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new x(t)):t instanceof x&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};class Yt extends R{constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class At extends Yt{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new g("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new g("h",t)),this}static fromJson(t){const r=new At;return t.width&&r.width(t.width),t.height&&r.height(t.height),t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function as(){return new At}function hr(){return new Yt("faces")}function us(){return new Yt("ocr_text")}class cs extends R{constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new g("e",`blur_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new g("e",`blur_region${t}`)),this.addQualifier(new g("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new g("e",`blur_faces${t}`))):this.addQualifier(new g("e",`blur${t}`))}static fromJson(t){const{strength:r,region:n}=t,s=new this(r);return r&&s.strength(r),n&&n.regionType==="faces"&&s.region(hr()),n&&n.regionType==="ocr_text"&&s.region(us()),n&&n.regionType==="custom"&&s.region(At.fromJson(n)),s}}function H(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const pr={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},ls={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},gr={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},mr={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},ds={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},_r={444:"CHROMA_444",420:"CHROMA_420"},fs={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},hs=H(_r);H(fs);const ps=H(pr),gs=H(ls),yr=H(gr);H(mr);H(ds);class vr extends R{constructor(t,r){super(),this._actionModel={},this._actionModel.actionType=yr[t]||t;const n=this.createEffectQualifier(t,r);this.addQualifier(n)}createEffectQualifier(t,r){let n;return r?n=new y([t,`${r}`]).setDelimiter(":"):n=new y(t),new g("e",n)}static fromJson(t){const{actionType:r,level:n,strength:s}=t,o=gr[r]||r;return new this(o,n||s)}}class ms extends vr{constructor(t,r){super(t,r),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=yr[t]||t,r&&this.setLevel(r)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const r=this.createEffectQualifier(this.effectType,t);return this.addQualifier(r),this}}function Tt(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class _s extends R{constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new y(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new y(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new y(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new y(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new y(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new g("e",t))}static fromJson(t){const{actionType:r,paths:n,cornersLevel:s,despeckleLevel:o,detailLevel:u,numOfColors:l}=t,h=new this;return n&&h.paths(n),s&&h.cornersLevel(s),o&&h.despeckleLevel(o),u&&h.detailsLevel(u),l&&h.numOfColors(l),h}}class ys extends ms{level(t){return this._actionModel.level=t,this.setLevel(t)}}class vs extends R{constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new g("e",new y("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new g("e",new y(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new g("e",new y(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:r,type:n,stripesStrength:s}=t,o=new this;return n==="xray"&&o.xray(),n==="stripes"&&s&&o.stripesStrength(s),o}}class ws extends ys{color(t){return this._actionModel.color=t,this.addQualifier(new g("co",new y(Tt(t))))}static fromJson(t){const{actionType:r,level:n,color:s}=t,o=new this(r,n);return s&&o.color(s),o}}class bs extends R{constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new g("e",`pixelate_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new g("e",`pixelate_region${t}`)),this.addQualifier(new g("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new g("e",`pixelate_faces${t}`))):this.addQualifier(new g("e",`pixelate${t}`))}static fromJson(t){const{region:r,squareSize:n}=t,s=new this(n);return n&&s.squareSize(n),r&&r.regionType==="faces"&&s.region(hr()),r&&r.regionType==="custom"&&s.region(as()),s}}const As=e=>Cs(encodeURIComponent,Os,Ss)(e),Ts=/[!'()*~_.-]/g,$s={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},Os=e=>e.replace(Ts,t=>{var r;return(r=$s[t])!==null&&r!==void 0?r:t}),Ss=e=>e.replace(/%20/g," "),Cs=(...e)=>t=>e.reduce((r,n)=>n(r),t);function Es(e){return new cs(e)}function Ms(){return new vr("grayscale")}function qe(e){return new ws("colorize",e)}function xs(){return new _s}function Fs(){return new vs}function Rs(e){return new bs(e)}let js=class extends R{constructor(t){super(),this._actionModel={},this.addQualifier(new g("b",new y(Tt(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}},Ne=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:Ht(`unsupported action ${this.constructor.name}`)}}};function Ls(e){const t=e;return"error"in t&&!!t.error}function Ps(){return new x("ignore_aspect_ratio")}function Vs(){return new x("lossy")}function ks(){return new x("preserve_transparency")}function Is(e){return new x("progressive",e)}function Bs(){return new x("region_relative")}function Gs(){return new x("relative")}let Wt=class extends y{constructor(t){super(t),this.val=t}getValue(){return this.val}},wr=class extends R{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof Wt?s=r.getValue():s=r,this._actionModel.actionType=gs[t],this._actionModel[n]=s,this.addQualifier(new g(t,r))}},Qs=class extends x{constructor(t){super("progressive",t)}},Nt=class extends wr{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(Vs()),this}progressive(t){return t instanceof Qs?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(Is(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(ks()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}},$t=class br{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new Ne(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof br?this.actions=this.actions.concat(t.actions):this.actions.push(new Ne(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new Nt("q",t)),this}format(t){return this.addAction(new Nt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new js(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new R;let n=t;return typeof t=="string"&&(n=new x(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(Ls(n))return n;t.push(n)}return{actions:t}}};function ze(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}let Ds=class extends y{},Ar=class extends R{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=ps[t]||t,this.addQualifier(new g("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new g("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new g("w",t))}aspectRatio(t){if(t instanceof Ds)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new g("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=ze(t),this.addQualifier(new g("ar",ze(t)));if(t instanceof x)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(Gs())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(Bs())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=pr[r]||r,p=new this(d,l,h);return u&&p.aspectRatio(u==="ignore_aspect_ratio"?Ps():u),s&&p.relative(),o&&p.regionRelative(),p}},Ot=class extends g{constructor(t){super("g",new y(t))}},Tr=class extends Ot{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}},$r=class extends Ot{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}},Or=class extends Ot{constructor(t){super(t)}};function Us(e){return new Or(e)}function Sr(...e){const t=[...e];return new $r(t)}function Cr(){return new Tr}let nt=class extends y{constructor(t){super(),this.name=t}toString(){return this.name}};function qs(){return new nt("ocr_text")}function Ns(e){return e&&`${e}`.split(":")[0]==="auto"}function zs(e){const t=Kt(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function Kt(e){return`${e}`.replace("g_","")}function Js(e){return{compass:Kt(e),gravityType:"direction"}}function Hs(e){return Kt(e)==="ocr_text"}function Ys(){return{gravityType:"ocr"}}function Ws(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Ks(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function Er(e){let t;const r=e==="auto"?new Tr:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(Ks)}}function Xs(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=Cr().autoFocus(...o);s.fallbackGravity=Er(u)}return s}function Zs(e){const r=e.split(":").map(n=>new nt(n));return new $r(r)}function to(e){return zs(e)?Js(e):Hs(e)?Ys():Ns(e)||Ws(e)?Er(e):Xs(typeof e=="string"?Zs(e):e)}let eo=class Mr extends y{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof nt?t:new nt(t);return new Mr(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}},xr=class extends y{constructor(t){super(),this.val=t}toString(){return this.val}};function ro(e){return e.gravityType==="direction"}function no(e){return e.gravityType==="ocr"}function io(e){return e.gravityType==="auto"}function so(e){const{object:t,weight:r,avoid:n}=e,s=new eo(new nt(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function Fr(e){const r=(e.autoFocus||[]).map(so);return Cr().autoFocus(...r)}function oo(e){const t=(e.focusOnObjects||[]).map(n=>new nt(n)),r=Sr(...t);if(e.fallbackGravity){const n=Fr(e.fallbackGravity);r.fallbackGravity(n)}return r}function ao(e){return ro(e)?new Or(new xr(e.compass)):no(e)?Sr(qs()):io(e)?Fr(e):oo(e)}let Xt=class extends Ar{gravity(t){this._actionModel.gravity=to(t);const r=typeof t=="string"?new g("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(ao(t.gravity)),r}},lt=class extends g{constructor(t){super("b"),t&&this.addValue(t)}};const Rr=100,uo=0;let co=class extends lt{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${Rr}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}};var jr=co;let Zt=class extends lt{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>Tt(r)),this}},Lr=class extends Zt{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},Pr=class extends Zt{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}},Vr=class extends Pr{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},kr=class extends Pr{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},Ir=class extends Zt{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},Br=class extends lt{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${As(this._prompt)}`:""}`}};function Gr(e){return`${e}`.replace("b_","")}function lo(){return{backgroundType:"auto"}}function fo(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function te(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function ho(e){return Object.assign(Object.assign({},te(e)),{backgroundType:"border"})}function Qr(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=te(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function po(e){return Object.assign(Object.assign({},Qr(e)),{backgroundType:"borderGradient"})}function go(e){return{backgroundType:"color",color:Gr(e)}}function mo(e){return Object.assign(Object.assign({},te(e)),{backgroundType:"predominant"})}function _o(e){return Object.assign(Object.assign({},Qr(e)),{backgroundType:"predominantGradient"})}function yo(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function vo(e){return Gr(e)==="auto"?lo():e instanceof jr?fo(e):e instanceof Lr?ho(e):e instanceof Vr?po(e):e instanceof Ir?mo(e):e instanceof kr?_o(e):e instanceof Br?yo(e):go(e)}function wo(){return new Wt("svg")}function ee(){return new Wt("auto")}function Dr(){return new Lr}function Ur(){return new lt("auto")}function qr(){return new Vr}function Nr(){return new kr}function zr(){return new Ir}function Jr(e){return new lt(Tt(e))}function bo(){return new jr}function Hr(){return new Br}const Yr={auto:Ur,border:Dr,borderGradient:qr,predominantGradient:Nr,predominant:zr,color:Jr,blurred:bo,generativeFill:Hr};function Ao(e){const{brightness:t,intensity:r}=e,n=Yr.blurred();return n.brightness(t??uo),n.intensity(r??Rr),n}function Je(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function He(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function To(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function $o(e){const{backgroundType:t}=e;switch(t){case"auto":return Ur();case"blurred":return Ao(e);case"border":return He(Dr(),e);case"borderGradient":return Je(qr(),e);case"predominant":return He(zr(),e);case"predominantGradient":return Je(Nr(),e);case"generativeFill":return To(Hr(),e);default:return Jr(e.color)}}let Oo=class extends Xt{background(t){return this._actionModel.background=vo(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background($o(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}};class So extends Ar{liquidRescaling(){return this.addQualifier(new Ot("liquid"))}}class Co extends Xt{x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new g("z",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),t.zoom&&r.zoom(t.zoom),r}}let Eo=class extends Xt{x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}};function Mo(e,t){return new So("scale",e,t)}function xo(e,t){return new Co("crop",e,t)}function Fo(e,t){return new Eo("fill",e,t)}function Ro(e,t){return new Oo("pad",e,t)}class jo extends wr{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=_r[t];const r=new y([this._actionModel.level,t]);return r.setDelimiter(":"),this.addQualifier(new g("q",r))}quantization(t){this._actionModel.quantization=t;const r=new y([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new g("q",r))}static fromJson(t){const{level:r,chromaSubSampling:n,quantization:s}=t,o=mr[r]||r,u=new this(o);if(n){const l=hs[n.toUpperCase()];l&&u.chromaSubSampling(+l)}return s&&u.quantization(s),u}}function St(e){return new Nt("f",e)}function Ct(e){return new jo(e)}function Lo(){return new xr("north_east")}qe(70).color("black"),qe(40).color("white"),Ms(),Fs();new $t().effect(xs()).delivery(Ct("auto")).delivery(St(wo()));new $t().effect(Rs()).delivery(Ct("auto")).delivery(St(ee()));new $t().effect(Es(2e3)).delivery(Ct("auto")).delivery(St(ee()));new $t().resize(Ro("iw_div_2").aspectRatio(1).background(Yr.auto())).resize(xo(1,1).gravity(Us(Lo()))).resize(Fo().height("ih").width("iw")).delivery(Ct("auto")).delivery(St(ee()));var Ye={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},We="?_a=",Po=function(){function e(t,r,n,s,o,u,l){var h=this;this.mimeType="video",this.mimeSubTypes=Ye,this.videoElement=t,this.originalVideo=r,this.videoOptions=l,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var d=J(r);yt(t,r,s,this.htmlPluginState).then(function(){h.htmlPluginState.pluginEventSubscription.forEach(function(p){p()}),h.setVideoAttributes(o,u),h.handleSourceToVideo(d,n)})}return e.prototype.handleSourceToVideo=function(t,r){var n=this;if(r)this.generateUserSources(t,r);else{var s=["webm","mp4","ogv"];s.forEach(function(o){n.appendSourceTag(J(t),o)})}},e.prototype.generateUserSources=function(t,r){var n=this;r.map(function(s){var o=s.type,u=s.codecs,l=s.transcode;return n.appendSourceTag(J(t).transcode(l),o,n.buildMimeType(o,u))})},e.prototype.appendSourceTag=function(t,r,n){var s,o=document.createElement("source"),u=(s=this.videoOptions)===null||s===void 0?void 0:s.useFetchFormat;u&&t.format(r);var l=t.toURL(),h=l.split(We),d=h[1]?"".concat(We).concat(h[1]):"",p=u?"":".".concat(r);o.src="".concat(h[0]).concat(p).concat(d),o.type=n||"video/".concat(Ye[r]||r),this.videoElement.appendChild(o)},e.prototype.buildMimeType=function(t,r){var n="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return r&&(n+="; codecs="+(Array.isArray(r)?r.join(", "):r)),n},e.prototype.setVideoAttributes=function(t,r){var n;if(t===void 0&&(t={}),r==="auto"){var s=J(this.originalVideo);t.poster=s.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else r&&(t.poster=(n=r.toURL)===null||n===void 0?void 0:n.call(r));for(var o=0,u=Object.entries(t);o<u.length;o++){var l=u[o],h=l[0],d=l[1];d&&this.videoElement.setAttribute(h,h==="poster"?d:"")}},e.prototype.update=function(t,r,n,s,o){var u=this;if(t!==this.originalVideo){for(var l=this.videoElement.getElementsByTagName("SOURCE");l[0];)l[0].parentNode.removeChild(l[0]);yt(this.videoElement,t,n,this.htmlPluginState).then(function(){u.setVideoAttributes(s,o),u.handleSourceToVideo(t,r),u.videoElement.load()})}},e}(),Vo="Expected a function",Ke=NaN,ko="[object Symbol]",Io=/^\s+|\s+$/g,Bo=/^[-+]0x[0-9a-f]+$/i,Go=/^0b[01]+$/i,Qo=/^0o[0-7]+$/i,Do=parseInt,Uo=typeof U=="object"&&U&&U.Object===Object&&U,qo=typeof self=="object"&&self&&self.Object===Object&&self,No=Uo||qo||Function("return this")(),zo=Object.prototype,Jo=zo.toString,Ho=Math.max,Yo=Math.min,Qt=function(){return No.Date.now()};function Wo(e,t,r){var n,s,o,u,l,h,d=0,p=!1,b=!1,S=!0;if(typeof e!="function")throw new TypeError(Vo);t=Xe(t)||0,zt(r)&&(p=!!r.leading,b="maxWait"in r,o=b?Ho(Xe(r.maxWait)||0,t):o,S="trailing"in r?!!r.trailing:S);function C(m){var T=n,L=s;return n=s=void 0,d=m,u=e.apply(L,T),u}function Q(m){return d=m,l=setTimeout(j,t),p?C(m):u}function W(m){var T=m-h,L=m-d,st=t-T;return b?Yo(st,o-L):st}function K(m){var T=m-h,L=m-d;return h===void 0||T>=t||T<0||b&&L>=o}function j(){var m=Qt();if(K(m))return E(m);l=setTimeout(j,W(m))}function E(m){return l=void 0,S&&n?C(m):(n=s=void 0,u)}function A(){l!==void 0&&clearTimeout(l),d=0,n=h=s=l=void 0}function k(){return l===void 0?u:E(Qt())}function M(){var m=Qt(),T=K(m);if(n=arguments,s=this,h=m,T){if(l===void 0)return Q(h);if(b)return l=setTimeout(j,t),C(h)}return l===void 0&&(l=setTimeout(j,t)),u}return M.cancel=A,M.flush=k,M}function zt(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Ko(e){return!!e&&typeof e=="object"}function Xo(e){return typeof e=="symbol"||Ko(e)&&Jo.call(e)==ko}function Xe(e){if(typeof e=="number")return e;if(Xo(e))return Ke;if(zt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Io,"");var r=Go.test(e);return r||Qo.test(e)?Do(e.slice(2),r?2:8):Bo.test(e)?Ke:+e}var Zo=Wo;function ta(e){return typeof e=="number"}function re(){return typeof window<"u"}function ea(e){return e instanceof HTMLImageElement}var ra={accessibility:!1,lazyload:!1,placeholder:!1,responsive:!1},na=function(e){return e.replace("bound ","").replace("Plugin","")},ia=function(e,t){e===void 0&&(e=[]);var r=e.reduce(function(n,s){var o,u=s.name;return ut(ut({},n),(o={},o[na(u)]=!0,o))},ra);return r[t]};function Ze(e){var t=e===void 0?{}:e,r=t.steps;return sa.bind(null,r)}function sa(e,t,r,n,s,o){if(!re())return!0;if(ea(t))return new Promise(function(u){n.cleanupCallbacks.push(function(){window.removeEventListener("resize",d),u("canceled")});var l=qt(s,{responsive:!0});r.addAction(new R().setActionTag("responsive"));var h=!ia(o,"placeholder");h?tr(e,t,r,l):Wr(e,t,r);var d;n.pluginEventSubscription.push(function(){window.addEventListener("resize",d=Zo(function(){tr(e,t,r,l)},100))}),u({responsive:!0})})}function tr(e,t,r,n){Wr(e,t,r),t.src=r.toURL(n)}function Wr(e,t,r){var n=t.parentElement.clientWidth;if(ta(e)){var s=e;n=Math.ceil(n/s)*s}else Array.isArray(e)&&(n=e.reduce(function(o,u){return Math.abs(u-n)<Math.abs(o-n)?u:o}));r.transformation.actions.forEach(function(o,u){o instanceof R&&o.getActionTag()==="responsive"&&(r.transformation.actions[u]=Mo(n).setActionTag("responsive"))})}function oa(e){var t={},r=t.rootMargin,n=r===void 0?"0px":r,s=t.threshold,o=s===void 0?.1:s;return aa.bind(null,n,o)}function aa(e,t,r,n,s,o){return e===void 0&&(e="0px"),t===void 0&&(t=.1),re()?new Promise(function(u){var l=function(){return u({lazyload:!0})},h=ca(r,l,e,t);s.cleanupCallbacks.push(function(){h(),u("canceled")})}):!1}function ua(){return window&&"IntersectionObserver"in window}function ca(e,t,r,n){try{if(!ua())return t(),function(){};var s=new IntersectionObserver(function(o){o.forEach(function(u){u.isIntersecting&&(s.unobserve(u.target),t())})},{rootMargin:r,threshold:n});return s.observe(e),function(){e&&s.observe(e)}}catch{t()}}function la(e,t,r){var n=J(t);if(e)for(var s=0;s<e.length;s++){var o=e[s](null,n);if(!o)break}return n.toURL(r?{trackedAnalytics:r}:null)}function vt(e){e.cleanupCallbacks.forEach(function(t){t()})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jt=function(e,t){return Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Jt(e,t)};function Kr(e,t){Jt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ct=function(){return ct=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ct.apply(this,arguments)};function Xr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var Dt={sdkSemver:"1.14.3",techVersion:P.version,sdkCode:"J"},da=function(e){Kr(t,e);function t(r){var n=e.call(this,r)||this;return n.imageRef=P.createRef(),n}return t.prototype.componentDidMount=function(){this.htmlLayerInstance=new ts(this.imageRef.current,this.props.cldImg,this.props.plugins,Dt)},t.prototype.componentDidUpdate=function(){vt(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,Dt)},t.prototype.componentWillUnmount=function(){vt(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},t.prototype.render=function(){var r=this.props;r.cldImg,r.plugins;var n=Xr(r,["cldImg","plugins"]);if(re())return P.createElement("img",ct({suppressHydrationWarning:!0},n,{ref:this.imageRef}));var s=la(this.props.plugins,this.props.cldImg,Dt);return P.createElement("img",ct({},n,{src:s}))},t}(P.Component),fa=["controls","loop","muted","poster","preload","autoplay","playsinline"];(function(e){Kr(t,e);function t(r){var n=e.call(this,r)||this;return n.videoRef=rt.createRef(),n.attachRef=n.attachRef.bind(n),n}return t.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new Po(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},t.prototype.componentDidUpdate=function(){vt(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},t.prototype.componentWillUnmount=function(){vt(this.htmlVideoLayerInstance.htmlPluginState)},t.prototype.getVideoAttributes=function(){var r=this,n={};return fa.forEach(function(s){s in r.props&&(n[s]=r.props[s])}),n},t.prototype.attachRef=function(r){this.videoRef.current=r;var n=this.props.innerRef;n&&(n instanceof Function?n(r):n.current=r)},t.prototype.render=function(){var r=this.props;r.cldVid,r.cldPoster,r.plugins,r.sources,r.innerRef,r.useFetchFormat;var n=Xr(r,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return P.createElement("video",ct({},n,{ref:this.attachRef}))},t})(rt.Component);function ha(e){return!(typeof e!="object"||e instanceof Array)}class pa{filterOutNonSupportedKeys(t,r){const n=Object.create({});return ha(t)?(Object.keys(t).forEach(s=>{r.indexOf(s)>=0?n[s]=t[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),n):Object.create({})}}const er=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class ne extends pa{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,er);Object.assign(this,{secure:!0},r)}extend(t){const r=this.filterOutNonSupportedKeys(t,er);return new ne(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}class V{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}}class ga extends Error{constructor(t="Unsupported"){super(t)}}function ie(e){return new ga(e)}function ma(){return this._qualifierModel||{error:ie(`unsupported qualifier ${this.constructor.name}`)}}class _a{constructor(){this._qualifierModel={}}toJson(){return ma.apply(this)}}class w extends _a{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof V?this.qualifierValue=r:(this.qualifierValue=new V,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class F extends w{constructor(t,r){let n;r?n=new V([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function ya(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function va(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:ie(`unsupported action ${this.constructor.name}`)}}class wa{constructor(){this._actionModel={}}toJson(){return va.apply(this)}}class Et extends wa{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),ya(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new F(n)):this.qualifiers.set(r,new w(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new F(t)):t instanceof F&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}}function se(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class ba extends Et{constructor(t){super(),this._actionModel={},this.addQualifier(new w("b",new V(se(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}}class rr{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:ie(`unsupported action ${this.constructor.name}`)}}}function Aa(e){const t=e;return"error"in t&&!!t.error}function Ta(){return new F("ignore_aspect_ratio")}function $a(){return new F("lossy")}function Oa(){return new F("preserve_transparency")}function Sa(e){return new F("progressive",e)}function Ca(){return new F("region_relative")}function Ea(){return new F("relative")}class Zr extends V{constructor(t){super(t),this.val=t}getValue(){return this.val}}function Y(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const tn={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},Ma={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},xa={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},Fa={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},Ra={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},ja={444:"CHROMA_444",420:"CHROMA_420"},La={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};Y(ja);Y(La);const Pa=Y(tn),Va=Y(Ma);Y(xa);Y(Fa);Y(Ra);class ka extends Et{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof Zr?s=r.getValue():s=r,this._actionModel.actionType=Va[t],this._actionModel[n]=s,this.addQualifier(new w(t,r))}}class Ia extends F{constructor(t){super("progressive",t)}}class wt extends ka{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag($a()),this}progressive(t){return t instanceof Ia?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(Sa(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Oa()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}}class Mt{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new rr(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof Mt?this.actions=this.actions.concat(t.actions):this.actions.push(new rr(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new wt("q",t)),this}format(t){return this.addAction(new wt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new ba(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new Et;let n=t;return typeof t=="string"&&(n=new F(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(Aa(n))return n;t.push(n)}return{actions:t}}}class Ba extends Mt{}class Ga extends Mt{}function nr(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}class Qa extends V{}class en extends Et{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=Pa[t]||t,this.addQualifier(new w("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new w("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new w("w",t))}aspectRatio(t){if(t instanceof Qa)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new w("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=nr(t),this.addQualifier(new w("ar",nr(t)));if(t instanceof F)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(Ea())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(Ca())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=tn[r]||r,p=new this(d,l,h);return u&&p.aspectRatio(u==="ignore_aspect_ratio"?Ta():u),s&&p.relative(),o&&p.regionRelative(),p}}class oe extends w{constructor(t){super("g",new V(t))}}class rn extends oe{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class nn extends oe{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class Da extends oe{constructor(t){super(t)}}function sn(...e){const t=[...e];return new nn(t)}function ae(){return new rn}class it extends V{constructor(t){super(),this.name=t}toString(){return this.name}}function Ua(){return new it("ocr_text")}function qa(e){return e&&`${e}`.split(":")[0]==="auto"}function Na(e){const t=ue(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function ue(e){return`${e}`.replace("g_","")}function za(e){return{compass:ue(e),gravityType:"direction"}}function Ja(e){return ue(e)==="ocr_text"}function Ha(){return{gravityType:"ocr"}}function Ya(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Wa(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function on(e){let t;const r=e==="auto"?new rn:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(Wa)}}function Ka(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=ae().autoFocus(...o);s.fallbackGravity=on(u)}return s}function Xa(e){const r=e.split(":").map(n=>new it(n));return new nn(r)}function Za(e){return Na(e)?za(e):Ja(e)?Ha():qa(e)||Ya(e)?on(e):Ka(typeof e=="string"?Xa(e):e)}class ce extends V{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof it?t:new it(t);return new ce(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class tu extends V{constructor(t){super(),this.val=t}toString(){return this.val}}function eu(e){return e.gravityType==="direction"}function ru(e){return e.gravityType==="ocr"}function nu(e){return e.gravityType==="auto"}function iu(e){const{object:t,weight:r,avoid:n}=e,s=new ce(new it(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function an(e){const r=(e.autoFocus||[]).map(iu);return ae().autoFocus(...r)}function su(e){const t=(e.focusOnObjects||[]).map(n=>new it(n)),r=sn(...t);if(e.fallbackGravity){const n=an(e.fallbackGravity);r.fallbackGravity(n)}return r}function ou(e){return eu(e)?new Da(new tu(e.compass)):ru(e)?sn(Ua()):nu(e)?an(e):su(e)}class un extends en{gravity(t){this._actionModel.gravity=Za(t);const r=typeof t=="string"?new w("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(ou(t.gravity)),r}}class dt extends w{constructor(t){super("b"),t&&this.addValue(t)}}const cn=100,au=0;class ln extends dt{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${cn}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}}class le extends dt{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>se(r)),this}}class dn extends le{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class fn extends le{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class hn extends fn{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class pn extends fn{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class gn extends le{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}const uu=e=>hu(encodeURIComponent,du,fu)(e),cu=/[!'()*~_.-]/g,lu={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},du=e=>e.replace(cu,t=>{var r;return(r=lu[t])!==null&&r!==void 0?r:t}),fu=e=>e.replace(/%20/g," "),hu=(...e)=>t=>e.reduce((r,n)=>n(r),t);class mn extends dt{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${uu(this._prompt)}`:""}`}}function _n(e){return`${e}`.replace("b_","")}function pu(){return{backgroundType:"auto"}}function gu(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function de(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function mu(e){return Object.assign(Object.assign({},de(e)),{backgroundType:"border"})}function yn(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=de(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function _u(e){return Object.assign(Object.assign({},yn(e)),{backgroundType:"borderGradient"})}function yu(e){return{backgroundType:"color",color:_n(e)}}function vu(e){return Object.assign(Object.assign({},de(e)),{backgroundType:"predominant"})}function wu(e){return Object.assign(Object.assign({},yn(e)),{backgroundType:"predominantGradient"})}function bu(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function Au(e){return _n(e)==="auto"?pu():e instanceof ln?gu(e):e instanceof dn?mu(e):e instanceof hn?_u(e):e instanceof gn?vu(e):e instanceof pn?wu(e):e instanceof mn?bu(e):yu(e)}function Tu(){return"auto"}function ir(){return new Zr("auto")}function vn(){return new dn}function wn(){return new dt("auto")}function bn(){return new hn}function An(){return new pn}function Tn(){return new gn}function $n(e){return new dt(se(e))}function $u(){return new ln}function On(){return new mn}const Ou={auto:wn,border:vn,borderGradient:bn,predominantGradient:An,predominant:Tn,color:$n,blurred:$u,generativeFill:On};function Su(e){const{brightness:t,intensity:r}=e,n=Ou.blurred();return n.brightness(t??au),n.intensity(r??cn),n}function sr(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function or(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function Cu(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function Eu(e){const{backgroundType:t}=e;switch(t){case"auto":return wn();case"blurred":return Su(e);case"border":return or(vn(),e);case"borderGradient":return sr(bn(),e);case"predominant":return or(Tn(),e);case"predominantGradient":return sr(An(),e);case"generativeFill":return Cu(On(),e);default:return $n(e.color)}}class Mu extends un{background(t){return this._actionModel.background=Au(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new w("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new w("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(Eu(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}}class xu extends un{x(t){return this._actionModel.x=t,this.addQualifier(new w("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new w("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function ar(e,t){return new xu("fill",e,t)}function Fu(e,t){return new en("fit",e,t)}function Ru(e,t){return new Mu("pad",e,t)}function ju(e){return e.match(/^https?:\//)}function Lu(e){return e.indexOf("/")<0}function Pu(e){return e.match(/^v[0-9]+/)}function Vu(e,t){const r=t.secure,n=t.privateCdn,s=t.cname,o=t.secureDistribution;return!r&&!s?`http://res.cloudinary.com/${e}`:r&&!o&&n?`https://${e}-res.cloudinary.com`:r&&!o?`https://res.cloudinary.com/${e}`:r&&o&&n?`https://${o}`:r&&o?`https://${o}/${e}`:!r&&s?`http://${s}/${e}`:"ERROR"}function ku(e){return e||"image"}function Iu(e){return e||"upload"}function Bu(e,t,r){const n=r!==!1;return t?`v${t}`:Pu(e)||ju(e)||Lu(e)?"":n?"v1":""}function fe(e,t,r){let n=t>>0,s=String(r);return e.length>n?String(e):(n=n-e.length,n>s.length&&(s+=Gu(s,n/s.length)),s.slice(0,n)+String(e))}function Gu(e,t){let r=t,n="";for(;r>0;)n+=e,r--;return n}const Qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bt={};let ur=0;Qu.split("").forEach(e=>{let t=ur.toString(2);t=fe(t,6,"0"),bt[t]=e,ur++});function Du(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().join(".")}function Uu(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").map(t=>{const r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return fe(t,2,"0")}).join(".")}function cr(e){let t="";const n=e.split(".").length*6,s=Du(e),o=Uu(s);let l=parseInt(o.split(".").join("")).toString(2);if(l=fe(l,n,"0"),l.length%6!==0)throw"Version must be smaller than 43.21.26)";return l.match(/.{1,6}/g).forEach(h=>{t+=bt[h]}),t}function qu(e){const t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0",osType:e.osType,osVersion:e.osVersion};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),e.feature&&(t.feature=e.feature),t}const Nu="1.22.0";function zu(e){const[t,r]=e.split("."),n=parseInt(t).toString(2),s=parseInt(r).toString(2),o=n.padStart(6,"0"),u=s.padStart(6,"0");return bt[o]+bt[u]}function Ju(){const e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function Hu(e){const t={techVersion:Ju(),sdkCode:"T",sdkSemver:Nu.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function lr(e){const t=Hu(e),r=qu(t);try{const n=Yu(r.techVersion),s=cr(r.sdkSemver),o=cr(n),u=zu(r.osVersion),l=r.feature,h=r.sdkCode,{product:d,osType:p}=r;return`D${d}${h}${s}${o}${p}${u}${l}`}catch{return"E"}}function Yu(e){const t=e.split(".");return`${t[0]}.${t[1]}`}const dr={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Wu{constructor(t,r={},n){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(n)}setURLConfig(t){return this.urlConfig=new ne(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){const t=ku(this.assetType),r=Iu(this.deliveryType),n=!!this.suffix,s=`${t}/${r}`,o=dr[`${t}/${r}`],u=this.urlConfig.useRootPath,l=this.urlConfig.shorten;if(u){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(l&&s==="image/upload")return"iu";if(n){if(o)return o;throw new Error(`URL Suffix only supported for ${Object.keys(dr).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();const n=Vu(this.cloudName,this.urlConfig),s=t?t.toString():"",o=Bu(this.publicID,this.version,this.urlConfig.forceVersion),u=this.publicID;if(typeof t=="string")return[n,this.getResourceType(),this.getSignature(),s,o,u.replace(/,/g,"%2C"),this.suffix].filter(h=>h).join("/");{const l=[encodeURI(n),this.getResourceType(),this.getSignature(),encodeURI(s),o,encodeURI(u).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(p=>p).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),h=this.urlConfig.analytics!==!1&&!u.includes("?");let d="";if(typeof this.urlConfig.queryParams=="object")try{const p=new URLSearchParams(this.urlConfig.queryParams);h&&p.set("_a",lr(r)),d=p.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else d=this.urlConfig.queryParams||"",h&&(d+=`${d.length>0?"&":""}_a=${lr(r)}`);return d?`${l}?${d}`:l}}}class Sn extends Wu{constructor(t,r,n,s){super(t,r,n),this.transformation=s}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new wt("q",t)),this}format(t){return this.addAction(new wt("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t==null?void 0:t.trackedAnalytics)}}let Ku=class extends Sn{constructor(t,r,n){super(t,r,n,new Ba)}};class Xu extends Sn{constructor(t,r,n){super(t,r,n,new Ga),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}class Zu{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new Ku(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new Xu(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}const Cn="dokyhfvyd",fr=new Zu({cloud:{cloudName:Cn}}),Pc=({publicId:e,alt:t,width:r,height:n,className:s,disableLazy:o=!1,fallbackSrc:u,resizeMode:l="fill"})=>{const[h,d]=rt.useState(!1),[p,b]=rt.useState(!1),S=rt.useRef(null);if(!e){const E={width:r?`${r}px`:"100%",height:n?`${n}px`:"100%",backgroundColor:"#f0f0f0",display:"inline-block"};return P.createElement("span",{style:E,className:s})}const C=fr.image(e),Q=80,W=Math.max(20,Math.round((n||80)*(Q/(r||80)))),j=fr.image(e).resize(ar(Q,W)).quality(20).format(ir()).toURL();return C.quality(Tu()).format(ir()),r&&n&&(l==="fit"?C.resize(Fu(r,n)):l==="pad"?C.resize(Ru(r,n)):C.resize(ar(r,n).gravity(ae()))),rt.useEffect(()=>{let E=!0,A=null,k=null,M=null,m=null;const T=setTimeout(()=>{E&&d(!0)},2500),L=()=>{if(A=S.current&&S.current.querySelector("img"),!A){k=setTimeout(L,200);return}M=()=>{E&&(clearTimeout(T),d(!0))},m=()=>{E&&(b(!0),typeof window<"u"&&console.warn("[CloudinaryImage] failed to load",{cloudName:Cn,publicId:e}))},A.addEventListener("load",M),A.addEventListener("error",m),A.complete&&M()};return L(),()=>{E=!1,clearTimeout(T),k&&clearTimeout(k),A&&M&&A.removeEventListener("load",M),A&&m&&A.removeEventListener("error",m)}},[e]),p&&u?P.createElement("img",{src:u,alt:t,width:r,height:n,className:s,style:{objectFit:"cover"}}):P.createElement("div",{ref:S,className:`${s} relative overflow-hidden`,style:{backgroundImage:`url(${j})`,backgroundSize:"cover",backgroundPosition:"center"}},P.createElement(da,{cldImg:C,alt:t,className:`transition-opacity duration-500 ${h?"opacity-100":"opacity-0"}`,plugins:o?[Ze({steps:[800,1e3,1400]})]:[Ze({steps:[800,1e3,1400]}),oa()]}))};export{Pc as C};
