const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-peM1nV9T.js","assets/cloudinaryImage-CNjsmwCZ.js","assets/cloudinaryContent-DL-VHaHa.js","assets/EmblaCarousel-DJ4j7ZOW.js","assets/AboutUsPage-DxIu_FzH.js","assets/ServicesPage-Bc4Omtdh.js","assets/MenuPage-DFocHXl8.js","assets/GalleryPage-DXH8EJ6d.js","assets/MealPrepPage-BKK8tTcb.js","assets/useAuthUser-cQDbFNDD.js","assets/PartnerPortalWelcome-B07HMaA3.js","assets/trash-2-BNu5S4jh.js","assets/send-CN1XxtZ5.js","assets/x-CST1vc54.js","assets/App-B0JDVt0y.js","assets/App-D-olT1-K.js"])))=>i.map(i=>d[i]);
var _V=Object.defineProperty;var Gw=t=>{throw TypeError(t)};var wV=(t,e,n)=>e in t?_V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Q=(t,e,n)=>wV(t,typeof e!="symbol"?e+"":e,n),Kw=(t,e,n)=>e.has(t)||Gw("Cannot "+n);var b=(t,e,n)=>(Kw(t,e,"read from private field"),n?n.call(t):e.get(t)),ie=(t,e,n)=>e.has(t)?Gw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),re=(t,e,n,r)=>(Kw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function EV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var zq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function du(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $S={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),TV=Symbol.for("react.portal"),IV=Symbol.for("react.fragment"),SV=Symbol.for("react.strict_mode"),AV=Symbol.for("react.profiler"),CV=Symbol.for("react.provider"),PV=Symbol.for("react.context"),RV=Symbol.for("react.forward_ref"),xV=Symbol.for("react.suspense"),kV=Symbol.for("react.memo"),bV=Symbol.for("react.lazy"),Qw=Symbol.iterator;function VV(t){return t===null||typeof t!="object"?null:(t=Qw&&t[Qw]||t["@@iterator"],typeof t=="function"?t:null)}var BS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zS=Object.assign,qS={};function ea(t,e,n){this.props=t,this.context=e,this.refs=qS,this.updater=n||BS}ea.prototype.isReactComponent={};ea.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WS(){}WS.prototype=ea.prototype;function ry(t,e,n){this.props=t,this.context=e,this.refs=qS,this.updater=n||BS}var iy=ry.prototype=new WS;iy.constructor=ry;zS(iy,ea.prototype);iy.isPureReactComponent=!0;var Yw=Array.isArray,HS=Object.prototype.hasOwnProperty,sy={current:null},GS={key:!0,ref:!0,__self:!0,__source:!0};function KS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)HS.call(e,r)&&!GS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pu,type:t,key:s,ref:o,props:i,_owner:sy.current}}function DV(t,e){return{$$typeof:pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oy(t){return typeof t=="object"&&t!==null&&t.$$typeof===pu}function NV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xw=/\/+/g;function qd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NV(""+t.key):e.toString(36)}function Nc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pu:case TV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+qd(o,0):r,Yw(i)?(n="",t!=null&&(n=t.replace(Xw,"$&/")+"/"),Nc(i,e,n,"",function(c){return c})):i!=null&&(oy(i)&&(i=DV(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Yw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+qd(s,a);o+=Nc(s,e,n,l,i)}else if(l=VV(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+qd(s,a++),o+=Nc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sc(t,e,n){if(t==null)return t;var r=[],i=0;return Nc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function OV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},Oc={transition:null},MV={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:sy};function QS(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:sc,forEach:function(t,e,n){sc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sc(t,function(){e++}),e},toArray:function(t){return sc(t,function(e){return e})||[]},only:function(t){if(!oy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=ea;se.Fragment=IV;se.Profiler=AV;se.PureComponent=ry;se.StrictMode=SV;se.Suspense=xV;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MV;se.act=QS;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HS.call(e,l)&&!GS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:pu,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:PV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CV,_context:t},t.Consumer=t};se.createElement=KS;se.createFactory=function(t){var e=KS.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:RV,render:t}};se.isValidElement=oy;se.lazy=function(t){return{$$typeof:bV,_payload:{_status:-1,_result:t},_init:OV}};se.memo=function(t,e){return{$$typeof:kV,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Oc.transition;Oc.transition={};try{t()}finally{Oc.transition=e}};se.unstable_act=QS;se.useCallback=function(t,e){return Ft.current.useCallback(t,e)};se.useContext=function(t){return Ft.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};se.useEffect=function(t,e){return Ft.current.useEffect(t,e)};se.useId=function(){return Ft.current.useId()};se.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Ft.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};se.useRef=function(t){return Ft.current.useRef(t)};se.useState=function(t){return Ft.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Ft.current.useTransition()};se.version="18.3.1";$S.exports=se;var V=$S.exports;const M=du(V),LV=EV({__proto__:null,default:M},[V]);var im={},YS={exports:{}},an={},XS={exports:{}},JS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,K){var J=B.length;B.push(K);e:for(;0<J;){var Ie=J-1>>>1,ve=B[Ie];if(0<i(ve,K))B[Ie]=K,B[J]=ve,J=Ie;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],J=B.pop();if(J!==K){B[0]=J;e:for(var Ie=0,ve=B.length,ze=ve>>>1;Ie<ze;){var tr=2*(Ie+1)-1,nr=B[tr],rr=tr+1,ir=B[rr];if(0>i(nr,J))rr<ve&&0>i(ir,nr)?(B[Ie]=ir,B[rr]=J,Ie=rr):(B[Ie]=nr,B[tr]=J,Ie=tr);else if(rr<ve&&0>i(ir,J))B[Ie]=ir,B[rr]=J,Ie=rr;else break e}}return K}function i(B,K){var J=B.sortIndex-K.sortIndex;return J!==0?J:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,d=3,g=!1,v=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=B)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function x(B){if(_=!1,E(B),!v)if(n(l)!==null)v=!0,Ms(O);else{var K=n(c);K!==null&&ye(x,K.startTime-B)}}function O(B,K){v=!1,_&&(_=!1,w(T),T=-1),g=!0;var J=d;try{for(E(K),f=n(l);f!==null&&(!(f.expirationTime>K)||B&&!k());){var Ie=f.callback;if(typeof Ie=="function"){f.callback=null,d=f.priorityLevel;var ve=Ie(f.expirationTime<=K);K=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(l)&&r(l),E(K)}else r(l);f=n(l)}if(f!==null)var ze=!0;else{var tr=n(c);tr!==null&&ye(x,tr.startTime-K),ze=!1}return ze}finally{f=null,d=J,g=!1}}var F=!1,A=null,T=-1,C=5,P=-1;function k(){return!(t.unstable_now()-P<C)}function D(){if(A!==null){var B=t.unstable_now();P=B;var K=!0;try{K=A(!0,B)}finally{K?R():(F=!1,A=null)}}else F=!1}var R;if(typeof y=="function")R=function(){y(D)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,On=Vt.port2;Vt.port1.onmessage=D,R=function(){On.postMessage(null)}}else R=function(){S(D,0)};function Ms(B){A=B,F||(F=!0,R())}function ye(B,K){T=S(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,Ms(O))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var K=3;break;default:K=d}var J=d;d=K;try{return B()}finally{d=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=d;d=B;try{return K()}finally{d=J}},t.unstable_scheduleCallback=function(B,K,J){var Ie=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ie+J:Ie):J=Ie,B){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=J+ve,B={id:h++,callback:K,priorityLevel:B,startTime:J,expirationTime:ve,sortIndex:-1},J>Ie?(B.sortIndex=J,e(c,B),n(l)===null&&B===n(c)&&(_?(w(T),T=-1):_=!0,ye(x,J-Ie))):(B.sortIndex=ve,e(l,B),v||g||(v=!0,Ms(O))),B},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(B){var K=d;return function(){var J=d;d=K;try{return B.apply(this,arguments)}finally{d=J}}}})(JS);XS.exports=JS;var FV=XS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UV=V,on=FV;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZS=new Set,_l={};function xs(t,e){bo(t,e),bo(t+"Capture",e)}function bo(t,e){for(_l[t]=e,t=0;t<e.length;t++)ZS.add(e[t])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sm=Object.prototype.hasOwnProperty,jV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jw={},Zw={};function $V(t){return sm.call(Zw,t)?!0:sm.call(Jw,t)?!1:jV.test(t)?Zw[t]=!0:(Jw[t]=!0,!1)}function BV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zV(t,e,n,r){if(e===null||typeof e>"u"||BV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var ay=/[\-:]([a-z])/g;function ly(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ay,ly);gt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ay,ly);gt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ay,ly);gt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function uy(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zV(e,n,i,r)&&(n=null),r||i===null?$V(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fr=UV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oc=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Ks=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),eA=Symbol.for("react.provider"),tA=Symbol.for("react.context"),hy=Symbol.for("react.forward_ref"),am=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),fy=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),nA=Symbol.for("react.offscreen"),eE=Symbol.iterator;function ka(t){return t===null||typeof t!="object"?null:(t=eE&&t[eE]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Wd;function $a(t){if(Wd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wd=e&&e[1]||""}return`
`+Wd+t}var Hd=!1;function Gd(t,e){if(!t||Hd)return"";Hd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function qV(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=Gd(t.type,!1),t;case 11:return t=Gd(t.type.render,!1),t;case 1:return t=Gd(t.type,!0),t;default:return""}}function um(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ks:return"Fragment";case Gs:return"Portal";case om:return"Profiler";case cy:return"StrictMode";case am:return"Suspense";case lm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tA:return(t.displayName||"Context")+".Consumer";case eA:return(t._context.displayName||"Context")+".Provider";case hy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fy:return e=t.displayName||null,e!==null?e:um(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return um(t(e))}catch{}}return null}function WV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return um(e);case 8:return e===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ii(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HV(t){var e=rA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ac(t){t._valueTracker||(t._valueTracker=HV(t))}function iA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cm(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ii(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sA(t,e){e=e.checked,e!=null&&uy(t,"checked",e,!1)}function hm(t,e){sA(t,e);var n=Ii(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fm(t,e.type,n):e.hasOwnProperty("defaultValue")&&fm(t,e.type,Ii(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fm(t,e,n){(e!=="number"||ch(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ba=Array.isArray;function ho(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ii(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Ba(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ii(n)}}function oA(t,e){var n=Ii(e.value),r=Ii(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lc,lA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lc=lc||document.createElement("div"),lc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GV=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(t){GV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xa[e]=Xa[t]})});function uA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xa.hasOwnProperty(t)&&Xa[t]?(""+e).trim():e+"px"}function cA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var KV=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mm(t,e){if(e){if(KV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function gm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=null;function dy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vm=null,fo=null,po=null;function sE(t){if(t=yu(t)){if(typeof vm!="function")throw Error($(280));var e=t.stateNode;e&&(e=Af(e),vm(t.stateNode,t.type,e))}}function hA(t){fo?po?po.push(t):po=[t]:fo=t}function fA(){if(fo){var t=fo,e=po;if(po=fo=null,sE(t),e)for(t=0;t<e.length;t++)sE(e[t])}}function dA(t,e){return t(e)}function pA(){}var Kd=!1;function mA(t,e,n){if(Kd)return t(e,n);Kd=!0;try{return dA(t,e,n)}finally{Kd=!1,(fo!==null||po!==null)&&(pA(),fA())}}function El(t,e){var n=t.stateNode;if(n===null)return null;var r=Af(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var _m=!1;if(Ar)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){_m=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{_m=!1}function QV(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ja=!1,hh=null,fh=!1,wm=null,YV={onError:function(t){Ja=!0,hh=t}};function XV(t,e,n,r,i,s,o,a,l){Ja=!1,hh=null,QV.apply(YV,arguments)}function JV(t,e,n,r,i,s,o,a,l){if(XV.apply(this,arguments),Ja){if(Ja){var c=hh;Ja=!1,hh=null}else throw Error($(198));fh||(fh=!0,wm=c)}}function ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oE(t){if(ks(t)!==t)throw Error($(188))}function ZV(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return oE(i),t;if(s===r)return oE(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function yA(t){return t=ZV(t),t!==null?vA(t):null}function vA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vA(t);if(e!==null)return e;t=t.sibling}return null}var _A=on.unstable_scheduleCallback,aE=on.unstable_cancelCallback,eD=on.unstable_shouldYield,tD=on.unstable_requestPaint,Ge=on.unstable_now,nD=on.unstable_getCurrentPriorityLevel,py=on.unstable_ImmediatePriority,wA=on.unstable_UserBlockingPriority,dh=on.unstable_NormalPriority,rD=on.unstable_LowPriority,EA=on.unstable_IdlePriority,Ef=null,$n=null;function iD(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Ef,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:aD,sD=Math.log,oD=Math.LN2;function aD(t){return t>>>=0,t===0?32:31-(sD(t)/oD|0)|0}var uc=64,cc=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ph(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=za(a):(s&=o,s!==0&&(r=za(s)))}else o=n&~i,o!==0?r=za(o):s!==0&&(r=za(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),i=1<<n,r|=t[n],e&=~i;return r}function lD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TA(){var t=uc;return uc<<=1,!(uc&4194240)&&(uc=64),t}function Qd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function cD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function my(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var me=0;function IA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SA,gy,AA,CA,PA,Tm=!1,hc=[],ui=null,ci=null,hi=null,Tl=new Map,Il=new Map,Qr=[],hD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lE(t,e){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Va(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=yu(e),e!==null&&gy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fD(t,e,n,r,i){switch(e){case"focusin":return ui=Va(ui,t,e,n,r,i),!0;case"dragenter":return ci=Va(ci,t,e,n,r,i),!0;case"mouseover":return hi=Va(hi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tl.set(s,Va(Tl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Il.set(s,Va(Il.get(s)||null,t,e,n,r,i)),!0}return!1}function RA(t){var e=Ji(t.target);if(e!==null){var n=ks(e);if(n!==null){if(e=n.tag,e===13){if(e=gA(n),e!==null){t.blockedOn=e,PA(t.priority,function(){AA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Im(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ym=r,n.target.dispatchEvent(r),ym=null}else return e=yu(n),e!==null&&gy(e),t.blockedOn=n,!1;e.shift()}return!0}function uE(t,e,n){Mc(t)&&n.delete(e)}function dD(){Tm=!1,ui!==null&&Mc(ui)&&(ui=null),ci!==null&&Mc(ci)&&(ci=null),hi!==null&&Mc(hi)&&(hi=null),Tl.forEach(uE),Il.forEach(uE)}function Da(t,e){t.blockedOn===e&&(t.blockedOn=null,Tm||(Tm=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,dD)))}function Sl(t){function e(i){return Da(i,t)}if(0<hc.length){Da(hc[0],t);for(var n=1;n<hc.length;n++){var r=hc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ui!==null&&Da(ui,t),ci!==null&&Da(ci,t),hi!==null&&Da(hi,t),Tl.forEach(e),Il.forEach(e),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)RA(n),n.blockedOn===null&&Qr.shift()}var mo=Fr.ReactCurrentBatchConfig,mh=!0;function pD(t,e,n,r){var i=me,s=mo.transition;mo.transition=null;try{me=1,yy(t,e,n,r)}finally{me=i,mo.transition=s}}function mD(t,e,n,r){var i=me,s=mo.transition;mo.transition=null;try{me=4,yy(t,e,n,r)}finally{me=i,mo.transition=s}}function yy(t,e,n,r){if(mh){var i=Im(t,e,n,r);if(i===null)sp(t,e,r,gh,n),lE(t,r);else if(fD(i,t,e,n,r))r.stopPropagation();else if(lE(t,r),e&4&&-1<hD.indexOf(t)){for(;i!==null;){var s=yu(i);if(s!==null&&SA(s),s=Im(t,e,n,r),s===null&&sp(t,e,r,gh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sp(t,e,r,null,n)}}var gh=null;function Im(t,e,n,r){if(gh=null,t=dy(r),t=Ji(t),t!==null)if(e=ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gh=t,null}function xA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nD()){case py:return 1;case wA:return 4;case dh:case rD:return 16;case EA:return 536870912;default:return 16}default:return 16}}var ii=null,vy=null,Lc=null;function kA(){if(Lc)return Lc;var t,e=vy,n=e.length,r,i="value"in ii?ii.value:ii.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Lc=i.slice(t,1<r?1-r:void 0)}function Fc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fc(){return!0}function cE(){return!1}function ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fc:cE,this.isPropagationStopped=cE,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),e}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_y=ln(ta),gu=Oe({},ta,{view:0,detail:0}),gD=ln(gu),Yd,Xd,Na,Tf=Oe({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Na&&(Na&&t.type==="mousemove"?(Yd=t.screenX-Na.screenX,Xd=t.screenY-Na.screenY):Xd=Yd=0,Na=t),Yd)},movementY:function(t){return"movementY"in t?t.movementY:Xd}}),hE=ln(Tf),yD=Oe({},Tf,{dataTransfer:0}),vD=ln(yD),_D=Oe({},gu,{relatedTarget:0}),Jd=ln(_D),wD=Oe({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),ED=ln(wD),TD=Oe({},ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ID=ln(TD),SD=Oe({},ta,{data:0}),fE=ln(SD),AD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PD[t])?!!e[t]:!1}function wy(){return RD}var xD=Oe({},gu,{key:function(t){if(t.key){var e=AD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wy,charCode:function(t){return t.type==="keypress"?Fc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kD=ln(xD),bD=Oe({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dE=ln(bD),VD=Oe({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wy}),DD=ln(VD),ND=Oe({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),OD=ln(ND),MD=Oe({},Tf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LD=ln(MD),FD=[9,13,27,32],Ey=Ar&&"CompositionEvent"in window,Za=null;Ar&&"documentMode"in document&&(Za=document.documentMode);var UD=Ar&&"TextEvent"in window&&!Za,bA=Ar&&(!Ey||Za&&8<Za&&11>=Za),pE=" ",mE=!1;function VA(t,e){switch(t){case"keyup":return FD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function jD(t,e){switch(t){case"compositionend":return DA(e);case"keypress":return e.which!==32?null:(mE=!0,pE);case"textInput":return t=e.data,t===pE&&mE?null:t;default:return null}}function $D(t,e){if(Qs)return t==="compositionend"||!Ey&&VA(t,e)?(t=kA(),Lc=vy=ii=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bA&&e.locale!=="ko"?null:e.data;default:return null}}var BD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BD[t.type]:e==="textarea"}function NA(t,e,n,r){hA(r),e=yh(e,"onChange"),0<e.length&&(n=new _y("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var el=null,Al=null;function zD(t){WA(t,0)}function If(t){var e=Js(t);if(iA(e))return t}function qD(t,e){if(t==="change")return e}var OA=!1;if(Ar){var Zd;if(Ar){var ep="oninput"in document;if(!ep){var yE=document.createElement("div");yE.setAttribute("oninput","return;"),ep=typeof yE.oninput=="function"}Zd=ep}else Zd=!1;OA=Zd&&(!document.documentMode||9<document.documentMode)}function vE(){el&&(el.detachEvent("onpropertychange",MA),Al=el=null)}function MA(t){if(t.propertyName==="value"&&If(Al)){var e=[];NA(e,Al,t,dy(t)),mA(zD,e)}}function WD(t,e,n){t==="focusin"?(vE(),el=e,Al=n,el.attachEvent("onpropertychange",MA)):t==="focusout"&&vE()}function HD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return If(Al)}function GD(t,e){if(t==="click")return If(e)}function KD(t,e){if(t==="input"||t==="change")return If(e)}function QD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:QD;function Cl(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sm.call(e,i)||!Dn(t[i],e[i]))return!1}return!0}function _E(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wE(t,e){var n=_E(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_E(n)}}function LA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FA(){for(var t=window,e=ch();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ch(t.document)}return e}function Ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YD(t){var e=FA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LA(n.ownerDocument.documentElement,n)){if(r!==null&&Ty(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wE(n,s);var o=wE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XD=Ar&&"documentMode"in document&&11>=document.documentMode,Ys=null,Sm=null,tl=null,Am=!1;function EE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Am||Ys==null||Ys!==ch(r)||(r=Ys,"selectionStart"in r&&Ty(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tl&&Cl(tl,r)||(tl=r,r=yh(Sm,"onSelect"),0<r.length&&(e=new _y("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ys)))}function dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xs={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},tp={},UA={};Ar&&(UA=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Sf(t){if(tp[t])return tp[t];if(!Xs[t])return t;var e=Xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in UA)return tp[t]=e[n];return t}var jA=Sf("animationend"),$A=Sf("animationiteration"),BA=Sf("animationstart"),zA=Sf("transitionend"),qA=new Map,TE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(t,e){qA.set(t,e),xs(e,[t])}for(var np=0;np<TE.length;np++){var rp=TE[np],JD=rp.toLowerCase(),ZD=rp[0].toUpperCase()+rp.slice(1);Ni(JD,"on"+ZD)}Ni(jA,"onAnimationEnd");Ni($A,"onAnimationIteration");Ni(BA,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(zA,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eN=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function IE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JV(r,e,void 0,t),t.currentTarget=null}function WA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;IE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;IE(i,a,c),s=l}}}if(fh)throw t=wm,fh=!1,wm=null,t}function Ae(t,e){var n=e[km];n===void 0&&(n=e[km]=new Set);var r=t+"__bubble";n.has(r)||(HA(e,t,2,!1),n.add(r))}function ip(t,e,n){var r=0;e&&(r|=4),HA(n,t,r,e)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Pl(t){if(!t[pc]){t[pc]=!0,ZS.forEach(function(n){n!=="selectionchange"&&(eN.has(n)||ip(n,!1,t),ip(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pc]||(e[pc]=!0,ip("selectionchange",!1,e))}}function HA(t,e,n,r){switch(xA(e)){case 1:var i=pD;break;case 4:i=mD;break;default:i=yy}n=i.bind(null,e,n,t),i=void 0,!_m||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}mA(function(){var c=s,h=dy(n),f=[];e:{var d=qA.get(t);if(d!==void 0){var g=_y,v=t;switch(t){case"keypress":if(Fc(n)===0)break e;case"keydown":case"keyup":g=kD;break;case"focusin":v="focus",g=Jd;break;case"focusout":v="blur",g=Jd;break;case"beforeblur":case"afterblur":g=Jd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=hE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=DD;break;case jA:case $A:case BA:g=ED;break;case zA:g=OD;break;case"scroll":g=gD;break;case"wheel":g=LD;break;case"copy":case"cut":case"paste":g=ID;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=dE}var _=(e&4)!==0,S=!_&&t==="scroll",w=_?d!==null?d+"Capture":null:d;_=[];for(var y=c,E;y!==null;){E=y;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,w!==null&&(x=El(y,w),x!=null&&_.push(Rl(y,x,E)))),S)break;y=y.return}0<_.length&&(d=new g(d,v,null,n,h),f.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==ym&&(v=n.relatedTarget||n.fromElement)&&(Ji(v)||v[Cr]))break e;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Ji(v):null,v!==null&&(S=ks(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(_=hE,x="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=dE,x="onPointerLeave",w="onPointerEnter",y="pointer"),S=g==null?d:Js(g),E=v==null?d:Js(v),d=new _(x,y+"leave",g,n,h),d.target=S,d.relatedTarget=E,x=null,Ji(h)===c&&(_=new _(w,y+"enter",v,n,h),_.target=E,_.relatedTarget=S,x=_),S=x,g&&v)t:{for(_=g,w=v,y=0,E=_;E;E=$s(E))y++;for(E=0,x=w;x;x=$s(x))E++;for(;0<y-E;)_=$s(_),y--;for(;0<E-y;)w=$s(w),E--;for(;y--;){if(_===w||w!==null&&_===w.alternate)break t;_=$s(_),w=$s(w)}_=null}else _=null;g!==null&&SE(f,d,g,_,!1),v!==null&&S!==null&&SE(f,S,v,_,!0)}}e:{if(d=c?Js(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var O=qD;else if(gE(d))if(OA)O=KD;else{O=HD;var F=WD}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=GD);if(O&&(O=O(t,c))){NA(f,O,n,h);break e}F&&F(t,d,c),t==="focusout"&&(F=d._wrapperState)&&F.controlled&&d.type==="number"&&fm(d,"number",d.value)}switch(F=c?Js(c):window,t){case"focusin":(gE(F)||F.contentEditable==="true")&&(Ys=F,Sm=c,tl=null);break;case"focusout":tl=Sm=Ys=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,EE(f,n,h);break;case"selectionchange":if(XD)break;case"keydown":case"keyup":EE(f,n,h)}var A;if(Ey)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qs?VA(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(bA&&n.locale!=="ko"&&(Qs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qs&&(A=kA()):(ii=h,vy="value"in ii?ii.value:ii.textContent,Qs=!0)),F=yh(c,T),0<F.length&&(T=new fE(T,t,null,n,h),f.push({event:T,listeners:F}),A?T.data=A:(A=DA(n),A!==null&&(T.data=A)))),(A=UD?jD(t,n):$D(t,n))&&(c=yh(c,"onBeforeInput"),0<c.length&&(h=new fE("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=A))}WA(f,e)})}function Rl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=El(t,n),s!=null&&r.unshift(Rl(t,s,i)),s=El(t,e),s!=null&&r.push(Rl(t,s,i))),t=t.return}return r}function $s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function SE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=El(n,s),l!=null&&o.unshift(Rl(n,l,a))):i||(l=El(n,s),l!=null&&o.push(Rl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tN=/\r\n?/g,nN=/\u0000|\uFFFD/g;function AE(t){return(typeof t=="string"?t:""+t).replace(tN,`
`).replace(nN,"")}function mc(t,e,n){if(e=AE(e),AE(t)!==e&&n)throw Error($(425))}function vh(){}var Cm=null,Pm=null;function Rm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xm=typeof setTimeout=="function"?setTimeout:void 0,rN=typeof clearTimeout=="function"?clearTimeout:void 0,CE=typeof Promise=="function"?Promise:void 0,iN=typeof queueMicrotask=="function"?queueMicrotask:typeof CE<"u"?function(t){return CE.resolve(null).then(t).catch(sN)}:xm;function sN(t){setTimeout(function(){throw t})}function op(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sl(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function PE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var na=Math.random().toString(36).slice(2),jn="__reactFiber$"+na,xl="__reactProps$"+na,Cr="__reactContainer$"+na,km="__reactEvents$"+na,oN="__reactListeners$"+na,aN="__reactHandles$"+na;function Ji(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=PE(t);t!==null;){if(n=t[jn])return n;t=PE(t)}return e}t=n,n=t.parentNode}return null}function yu(t){return t=t[jn]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Af(t){return t[xl]||null}var bm=[],Zs=-1;function Oi(t){return{current:t}}function Pe(t){0>Zs||(t.current=bm[Zs],bm[Zs]=null,Zs--)}function Te(t,e){Zs++,bm[Zs]=t.current,t.current=e}var Si={},Rt=Oi(Si),Qt=Oi(!1),_s=Si;function Vo(t,e){var n=t.type.contextTypes;if(!n)return Si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(t){return t=t.childContextTypes,t!=null}function _h(){Pe(Qt),Pe(Rt)}function RE(t,e,n){if(Rt.current!==Si)throw Error($(168));Te(Rt,e),Te(Qt,n)}function GA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,WV(t)||"Unknown",i));return Oe({},n,r)}function wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Si,_s=Rt.current,Te(Rt,t),Te(Qt,Qt.current),!0}function xE(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=GA(t,e,_s),r.__reactInternalMemoizedMergedChildContext=t,Pe(Qt),Pe(Rt),Te(Rt,t)):Pe(Qt),Te(Qt,n)}var lr=null,Cf=!1,ap=!1;function KA(t){lr===null?lr=[t]:lr.push(t)}function lN(t){Cf=!0,KA(t)}function Mi(){if(!ap&&lr!==null){ap=!0;var t=0,e=me;try{var n=lr;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lr=null,Cf=!1}catch(i){throw lr!==null&&(lr=lr.slice(t+1)),_A(py,Mi),i}finally{me=e,ap=!1}}return null}var eo=[],to=0,Eh=null,Th=0,fn=[],dn=0,ws=null,yr=1,vr="";function Ki(t,e){eo[to++]=Th,eo[to++]=Eh,Eh=t,Th=e}function QA(t,e,n){fn[dn++]=yr,fn[dn++]=vr,fn[dn++]=ws,ws=t;var r=yr;t=vr;var i=32-kn(r)-1;r&=~(1<<i),n+=1;var s=32-kn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yr=1<<32-kn(e)+i|n<<i|r,vr=s+t}else yr=1<<s|n<<i|r,vr=t}function Iy(t){t.return!==null&&(Ki(t,1),QA(t,1,0))}function Sy(t){for(;t===Eh;)Eh=eo[--to],eo[to]=null,Th=eo[--to],eo[to]=null;for(;t===ws;)ws=fn[--dn],fn[dn]=null,vr=fn[--dn],fn[dn]=null,yr=fn[--dn],fn[dn]=null}var sn=null,nn=null,Re=!1,Pn=null;function YA(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,nn=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ws!==null?{id:yr,overflow:vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,nn=null,!0):!1;default:return!1}}function Vm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dm(t){if(Re){var e=nn;if(e){var n=e;if(!kE(t,e)){if(Vm(t))throw Error($(418));e=fi(n.nextSibling);var r=sn;e&&kE(t,e)?YA(r,n):(t.flags=t.flags&-4097|2,Re=!1,sn=t)}}else{if(Vm(t))throw Error($(418));t.flags=t.flags&-4097|2,Re=!1,sn=t}}}function bE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function gc(t){if(t!==sn)return!1;if(!Re)return bE(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rm(t.type,t.memoizedProps)),e&&(e=nn)){if(Vm(t))throw XA(),Error($(418));for(;e;)YA(t,e),e=fi(e.nextSibling)}if(bE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=sn?fi(t.stateNode.nextSibling):null;return!0}function XA(){for(var t=nn;t;)t=fi(t.nextSibling)}function Do(){nn=sn=null,Re=!1}function Ay(t){Pn===null?Pn=[t]:Pn.push(t)}var uN=Fr.ReactCurrentBatchConfig;function Oa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function yc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VE(t){var e=t._init;return e(t._payload)}function JA(t){function e(w,y){if(t){var E=w.deletions;E===null?(w.deletions=[y],w.flags|=16):E.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=gi(w,y),w.index=0,w.sibling=null,w}function s(w,y,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<y?(w.flags|=2,y):E):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,E,x){return y===null||y.tag!==6?(y=pp(E,w.mode,x),y.return=w,y):(y=i(y,E),y.return=w,y)}function l(w,y,E,x){var O=E.type;return O===Ks?h(w,y,E.props.children,x,E.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Gr&&VE(O)===y.type)?(x=i(y,E.props),x.ref=Oa(w,y,E),x.return=w,x):(x=Wc(E.type,E.key,E.props,null,w.mode,x),x.ref=Oa(w,y,E),x.return=w,x)}function c(w,y,E,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=mp(E,w.mode,x),y.return=w,y):(y=i(y,E.children||[]),y.return=w,y)}function h(w,y,E,x,O){return y===null||y.tag!==7?(y=hs(E,w.mode,x,O),y.return=w,y):(y=i(y,E),y.return=w,y)}function f(w,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pp(""+y,w.mode,E),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case oc:return E=Wc(y.type,y.key,y.props,null,w.mode,E),E.ref=Oa(w,null,y),E.return=w,E;case Gs:return y=mp(y,w.mode,E),y.return=w,y;case Gr:var x=y._init;return f(w,x(y._payload),E)}if(Ba(y)||ka(y))return y=hs(y,w.mode,E,null),y.return=w,y;yc(w,y)}return null}function d(w,y,E,x){var O=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(w,y,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case oc:return E.key===O?l(w,y,E,x):null;case Gs:return E.key===O?c(w,y,E,x):null;case Gr:return O=E._init,d(w,y,O(E._payload),x)}if(Ba(E)||ka(E))return O!==null?null:h(w,y,E,x,null);yc(w,E)}return null}function g(w,y,E,x,O){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(E)||null,a(y,w,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case oc:return w=w.get(x.key===null?E:x.key)||null,l(y,w,x,O);case Gs:return w=w.get(x.key===null?E:x.key)||null,c(y,w,x,O);case Gr:var F=x._init;return g(w,y,E,F(x._payload),O)}if(Ba(x)||ka(x))return w=w.get(E)||null,h(y,w,x,O,null);yc(y,x)}return null}function v(w,y,E,x){for(var O=null,F=null,A=y,T=y=0,C=null;A!==null&&T<E.length;T++){A.index>T?(C=A,A=null):C=A.sibling;var P=d(w,A,E[T],x);if(P===null){A===null&&(A=C);break}t&&A&&P.alternate===null&&e(w,A),y=s(P,y,T),F===null?O=P:F.sibling=P,F=P,A=C}if(T===E.length)return n(w,A),Re&&Ki(w,T),O;if(A===null){for(;T<E.length;T++)A=f(w,E[T],x),A!==null&&(y=s(A,y,T),F===null?O=A:F.sibling=A,F=A);return Re&&Ki(w,T),O}for(A=r(w,A);T<E.length;T++)C=g(A,w,T,E[T],x),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?T:C.key),y=s(C,y,T),F===null?O=C:F.sibling=C,F=C);return t&&A.forEach(function(k){return e(w,k)}),Re&&Ki(w,T),O}function _(w,y,E,x){var O=ka(E);if(typeof O!="function")throw Error($(150));if(E=O.call(E),E==null)throw Error($(151));for(var F=O=null,A=y,T=y=0,C=null,P=E.next();A!==null&&!P.done;T++,P=E.next()){A.index>T?(C=A,A=null):C=A.sibling;var k=d(w,A,P.value,x);if(k===null){A===null&&(A=C);break}t&&A&&k.alternate===null&&e(w,A),y=s(k,y,T),F===null?O=k:F.sibling=k,F=k,A=C}if(P.done)return n(w,A),Re&&Ki(w,T),O;if(A===null){for(;!P.done;T++,P=E.next())P=f(w,P.value,x),P!==null&&(y=s(P,y,T),F===null?O=P:F.sibling=P,F=P);return Re&&Ki(w,T),O}for(A=r(w,A);!P.done;T++,P=E.next())P=g(A,w,T,P.value,x),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?T:P.key),y=s(P,y,T),F===null?O=P:F.sibling=P,F=P);return t&&A.forEach(function(D){return e(w,D)}),Re&&Ki(w,T),O}function S(w,y,E,x){if(typeof E=="object"&&E!==null&&E.type===Ks&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case oc:e:{for(var O=E.key,F=y;F!==null;){if(F.key===O){if(O=E.type,O===Ks){if(F.tag===7){n(w,F.sibling),y=i(F,E.props.children),y.return=w,w=y;break e}}else if(F.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Gr&&VE(O)===F.type){n(w,F.sibling),y=i(F,E.props),y.ref=Oa(w,F,E),y.return=w,w=y;break e}n(w,F);break}else e(w,F);F=F.sibling}E.type===Ks?(y=hs(E.props.children,w.mode,x,E.key),y.return=w,w=y):(x=Wc(E.type,E.key,E.props,null,w.mode,x),x.ref=Oa(w,y,E),x.return=w,w=x)}return o(w);case Gs:e:{for(F=E.key;y!==null;){if(y.key===F)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(w,y.sibling),y=i(y,E.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=mp(E,w.mode,x),y.return=w,w=y}return o(w);case Gr:return F=E._init,S(w,y,F(E._payload),x)}if(Ba(E))return v(w,y,E,x);if(ka(E))return _(w,y,E,x);yc(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,E),y.return=w,w=y):(n(w,y),y=pp(E,w.mode,x),y.return=w,w=y),o(w)):n(w,y)}return S}var No=JA(!0),ZA=JA(!1),Ih=Oi(null),Sh=null,no=null,Cy=null;function Py(){Cy=no=Sh=null}function Ry(t){var e=Ih.current;Pe(Ih),t._currentValue=e}function Nm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function go(t,e){Sh=t,Cy=no=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(Cy!==t)if(t={context:t,memoizedValue:e,next:null},no===null){if(Sh===null)throw Error($(308));no=t,Sh.dependencies={lanes:0,firstContext:t}}else no=no.next=t;return e}var Zi=null;function xy(t){Zi===null?Zi=[t]:Zi.push(t)}function eC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pr(t,r)}function Pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function ky(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function di(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pr(t,n)}return i=r.interleaved,i===null?(e.next=e,xy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pr(t,n)}function Uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}function DE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ah(t,e,n,r){var i=t.updateQueue;Kr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=c=l=null,a=s;do{var d=a.lane,g=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(d=e,g=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){f=v.call(g,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,d=typeof v=="function"?v.call(g,f,d):v,d==null)break e;f=Oe({},f,d);break e;case 2:Kr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ts|=o,t.lanes=o,t.memoizedState=f}}function NE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var vu={},Bn=Oi(vu),kl=Oi(vu),bl=Oi(vu);function es(t){if(t===vu)throw Error($(174));return t}function by(t,e){switch(Te(bl,e),Te(kl,t),Te(Bn,vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pm(e,t)}Pe(Bn),Te(Bn,e)}function Oo(){Pe(Bn),Pe(kl),Pe(bl)}function nC(t){es(bl.current);var e=es(Bn.current),n=pm(e,t.type);e!==n&&(Te(kl,t),Te(Bn,n))}function Vy(t){kl.current===t&&(Pe(Bn),Pe(kl))}var be=Oi(0);function Ch(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lp=[];function Dy(){for(var t=0;t<lp.length;t++)lp[t]._workInProgressVersionPrimary=null;lp.length=0}var jc=Fr.ReactCurrentDispatcher,up=Fr.ReactCurrentBatchConfig,Es=0,Ne=null,Ze=null,ot=null,Ph=!1,nl=!1,Vl=0,cN=0;function Et(){throw Error($(321))}function Ny(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Oy(t,e,n,r,i,s){if(Es=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?pN:mN,t=n(r,i),nl){s=0;do{if(nl=!1,Vl=0,25<=s)throw Error($(301));s+=1,ot=Ze=null,e.updateQueue=null,jc.current=gN,t=n(r,i)}while(nl)}if(jc.current=Rh,e=Ze!==null&&Ze.next!==null,Es=0,ot=Ze=Ne=null,Ph=!1,e)throw Error($(300));return t}function My(){var t=Vl!==0;return Vl=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ne.memoizedState=ot=t:ot=ot.next=t,ot}function wn(){if(Ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=ot===null?Ne.memoizedState:ot.next;if(e!==null)ot=e,Ze=t;else{if(t===null)throw Error($(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},ot===null?Ne.memoizedState=ot=t:ot=ot.next=t}return ot}function Dl(t,e){return typeof e=="function"?e(t):e}function cp(t){var e=wn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Es&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ne.lanes|=h,Ts|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Dn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,Ts|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hp(t){var e=wn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Dn(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rC(){}function iC(t,e){var n=Ne,r=wn(),i=e(),s=!Dn(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,Ly(aC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Nl(9,oC.bind(null,n,r,i,e),void 0,null),at===null)throw Error($(349));Es&30||sC(n,e,i)}return i}function sC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oC(t,e,n,r){e.value=n,e.getSnapshot=r,lC(e)&&uC(t)}function aC(t,e,n){return n(function(){lC(e)&&uC(t)})}function lC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function uC(t){var e=Pr(t,1);e!==null&&bn(e,t,1,-1)}function OE(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:t},e.queue=t,t=t.dispatch=dN.bind(null,Ne,t),[e.memoizedState,t]}function Nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cC(){return wn().memoizedState}function $c(t,e,n,r){var i=Ln();Ne.flags|=t,i.memoizedState=Nl(1|e,n,void 0,r===void 0?null:r)}function Pf(t,e,n,r){var i=wn();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,r!==null&&Ny(r,o.deps)){i.memoizedState=Nl(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=Nl(1|e,n,s,r)}function ME(t,e){return $c(8390656,8,t,e)}function Ly(t,e){return Pf(2048,8,t,e)}function hC(t,e){return Pf(4,2,t,e)}function fC(t,e){return Pf(4,4,t,e)}function dC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pC(t,e,n){return n=n!=null?n.concat([t]):null,Pf(4,4,dC.bind(null,e,t),n)}function Fy(){}function mC(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ny(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gC(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ny(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yC(t,e,n){return Es&21?(Dn(n,e)||(n=TA(),Ne.lanes|=n,Ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function hN(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=up.transition;up.transition={};try{t(!1),e()}finally{me=n,up.transition=r}}function vC(){return wn().memoizedState}function fN(t,e,n){var r=mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_C(t))wC(e,n);else if(n=eC(t,e,n,r),n!==null){var i=Lt();bn(n,t,r,i),EC(n,e,r)}}function dN(t,e,n){var r=mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_C(t))wC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Dn(a,o)){var l=e.interleaved;l===null?(i.next=i,xy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=eC(t,e,i,r),n!==null&&(i=Lt(),bn(n,t,r,i),EC(n,e,r))}}function _C(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function wC(t,e){nl=Ph=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}var Rh={readContext:_n,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},pN={readContext:_n,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:ME,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$c(4194308,4,dC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $c(4194308,4,t,e)},useInsertionEffect:function(t,e){return $c(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fN.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:OE,useDebugValue:Fy,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=OE(!1),e=t[0];return t=hN.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=Ln();if(Re){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),at===null)throw Error($(349));Es&30||sC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ME(aC.bind(null,r,s,t),[t]),r.flags|=2048,Nl(9,oC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ln(),e=at.identifierPrefix;if(Re){var n=vr,r=yr;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mN={readContext:_n,useCallback:mC,useContext:_n,useEffect:Ly,useImperativeHandle:pC,useInsertionEffect:hC,useLayoutEffect:fC,useMemo:gC,useReducer:cp,useRef:cC,useState:function(){return cp(Dl)},useDebugValue:Fy,useDeferredValue:function(t){var e=wn();return yC(e,Ze.memoizedState,t)},useTransition:function(){var t=cp(Dl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:iC,useId:vC,unstable_isNewReconciler:!1},gN={readContext:_n,useCallback:mC,useContext:_n,useEffect:Ly,useImperativeHandle:pC,useInsertionEffect:hC,useLayoutEffect:fC,useMemo:gC,useReducer:hp,useRef:cC,useState:function(){return hp(Dl)},useDebugValue:Fy,useDeferredValue:function(t){var e=wn();return Ze===null?e.memoizedState=t:yC(e,Ze.memoizedState,t)},useTransition:function(){var t=hp(Dl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:iC,useId:vC,unstable_isNewReconciler:!1};function An(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Om(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rf={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=mi(t),s=Er(r,i);s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&(bn(e,t,i,r),Uc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=mi(t),s=Er(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&(bn(e,t,i,r),Uc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=mi(t),i=Er(n,r);i.tag=2,e!=null&&(i.callback=e),e=di(t,i,r),e!==null&&(bn(e,t,r,n),Uc(e,t,r))}};function LE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cl(n,r)||!Cl(i,s):!0}function TC(t,e,n){var r=!1,i=Si,s=e.contextType;return typeof s=="object"&&s!==null?s=_n(s):(i=Yt(e)?_s:Rt.current,r=e.contextTypes,s=(r=r!=null)?Vo(t,i):Si),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function FE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rf.enqueueReplaceState(e,e.state,null)}function Mm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ky(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_n(s):(s=Yt(e)?_s:Rt.current,i.context=Vo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Om(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rf.enqueueReplaceState(i,i.state,null),Ah(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Mo(t,e){try{var n="",r=e;do n+=qV(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function fp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yN=typeof WeakMap=="function"?WeakMap:Map;function IC(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kh||(kh=!0,Gm=r),Lm(t,e)},n}function SC(t,e,n){n=Er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Lm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Lm(t,e),typeof r!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function UE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bN.bind(null,t,e,n),e.then(t,t))}function jE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $E(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,di(n,e,1))),n.lanes|=1),t)}var vN=Fr.ReactCurrentOwner,Gt=!1;function Ot(t,e,n,r){e.child=t===null?ZA(e,null,n,r):No(e,t.child,n,r)}function BE(t,e,n,r,i){n=n.render;var s=e.ref;return go(e,i),r=Oy(t,e,n,r,s,i),n=My(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Re&&n&&Iy(e),e.flags|=1,Ot(t,e,r,i),e.child)}function zE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Hy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,AC(t,e,s,r,i)):(t=Wc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cl,n(o,r)&&t.ref===e.ref)return Rr(t,e,i)}return e.flags|=1,t=gi(s,r),t.ref=e.ref,t.return=e,e.child=t}function AC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Cl(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Rr(t,e,i)}return Fm(t,e,n,r,i)}function CC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(io,tn),tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(io,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(io,tn),tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Te(io,tn),tn|=r;return Ot(t,e,i,n),e.child}function PC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fm(t,e,n,r,i){var s=Yt(n)?_s:Rt.current;return s=Vo(e,s),go(e,i),n=Oy(t,e,n,r,s,i),r=My(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Re&&r&&Iy(e),e.flags|=1,Ot(t,e,n,i),e.child)}function qE(t,e,n,r,i){if(Yt(n)){var s=!0;wh(e)}else s=!1;if(go(e,i),e.stateNode===null)Bc(t,e),TC(e,n,r),Mm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_n(c):(c=Yt(n)?_s:Rt.current,c=Vo(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&FE(e,o,r,c),Kr=!1;var d=e.memoizedState;o.state=d,Ah(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Qt.current||Kr?(typeof h=="function"&&(Om(e,n,h,r),l=e.memoizedState),(a=Kr||LE(e,n,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:An(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=Yt(n)?_s:Rt.current,l=Vo(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&FE(e,o,r,l),Kr=!1,d=e.memoizedState,o.state=d,Ah(e,r,o,i);var v=e.memoizedState;a!==f||d!==v||Qt.current||Kr?(typeof g=="function"&&(Om(e,n,g,r),v=e.memoizedState),(c=Kr||LE(e,n,c,r,d,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Um(t,e,n,r,s,i)}function Um(t,e,n,r,i,s){PC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xE(e,n,!1),Rr(t,e,s);r=e.stateNode,vN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=No(e,t.child,null,s),e.child=No(e,null,a,s)):Ot(t,e,a,s),e.memoizedState=r.state,i&&xE(e,n,!0),e.child}function RC(t){var e=t.stateNode;e.pendingContext?RE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&RE(t,e.context,!1),by(t,e.containerInfo)}function WE(t,e,n,r,i){return Do(),Ay(i),e.flags|=256,Ot(t,e,n,r),e.child}var jm={dehydrated:null,treeContext:null,retryLane:0};function $m(t){return{baseLanes:t,cachePool:null,transitions:null}}function xC(t,e,n){var r=e.pendingProps,i=be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te(be,i&1),t===null)return Dm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=bf(o,r,0,null),t=hs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$m(n),e.memoizedState=jm,t):Uy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _N(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=gi(a,s):(s=hs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?$m(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=jm,r}return s=t.child,t=s.sibling,r=gi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uy(t,e){return e=bf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vc(t,e,n,r){return r!==null&&Ay(r),No(e,t.child,null,n),t=Uy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _N(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=fp(Error($(422))),vc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=bf({mode:"visible",children:r.children},i,0,null),s=hs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&No(e,t.child,null,o),e.child.memoizedState=$m(o),e.memoizedState=jm,s);if(!(e.mode&1))return vc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=fp(s,r,void 0),vc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=at,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pr(t,i),bn(r,t,i,-1))}return Wy(),r=fp(Error($(421))),vc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nn=fi(i.nextSibling),sn=e,Re=!0,Pn=null,t!==null&&(fn[dn++]=yr,fn[dn++]=vr,fn[dn++]=ws,yr=t.id,vr=t.overflow,ws=e),e=Uy(e,r.children),e.flags|=4096,e)}function HE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nm(t.return,e,n)}function dp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ot(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&HE(t,n,e);else if(t.tag===19)HE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ch(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ch(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dp(e,!0,n,null,s);break;case"together":dp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wN(t,e,n){switch(e.tag){case 3:RC(e),Do();break;case 5:nC(e);break;case 1:Yt(e.type)&&wh(e);break;case 4:by(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(Ih,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?xC(t,e,n):(Te(be,be.current&1),t=Rr(t,e,n),t!==null?t.sibling:null);Te(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,CC(t,e,n)}return Rr(t,e,n)}var bC,Bm,VC,DC;bC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bm=function(){};VC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,es(Bn.current);var s=null;switch(n){case"input":i=cm(t,i),r=cm(t,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=dm(t,i),r=dm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vh)}mm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_l.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_l.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ae("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};DC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ma(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EN(t,e,n){var r=e.pendingProps;switch(Sy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Yt(e.type)&&_h(),Tt(e),null;case 3:return r=e.stateNode,Oo(),Pe(Qt),Pe(Rt),Dy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(Ym(Pn),Pn=null))),Bm(t,e),Tt(e),null;case 5:Vy(e);var i=es(bl.current);if(n=e.type,t!==null&&e.stateNode!=null)VC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Tt(e),null}if(t=es(Bn.current),gc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jn]=e,r[xl]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<qa.length;i++)Ae(qa[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":tE(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":rE(r,s),Ae("invalid",r)}mm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&mc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&mc(r.textContent,a,t),i=["children",""+a]):_l.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":ac(r),nE(r,s,!0);break;case"textarea":ac(r),iE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jn]=e,t[xl]=r,bC(t,e,!1,!1),e.stateNode=t;e:{switch(o=gm(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<qa.length;i++)Ae(qa[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":tE(t,r),i=cm(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":rE(t,r),i=dm(t,r),Ae("invalid",t);break;default:i=r}mm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?cA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wl(t,l):typeof l=="number"&&wl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_l.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ae("scroll",t):l!=null&&uy(t,s,l,o))}switch(n){case"input":ac(t),nE(t,r,!1);break;case"textarea":ac(t),iE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ii(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ho(t,!!r.multiple,s,!1):r.defaultValue!=null&&ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)DC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=es(bl.current),es(Bn.current),gc(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:mc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return Tt(e),null;case 13:if(Pe(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&nn!==null&&e.mode&1&&!(e.flags&128))XA(),Do(),e.flags|=98560,s=!1;else if(s=gc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[jn]=e}else Do(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),s=!1}else Pn!==null&&(Ym(Pn),Pn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?et===0&&(et=3):Wy())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return Oo(),Bm(t,e),t===null&&Pl(e.stateNode.containerInfo),Tt(e),null;case 10:return Ry(e.type._context),Tt(e),null;case 17:return Yt(e.type)&&_h(),Tt(e),null;case 19:if(Pe(be),s=e.memoizedState,s===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ma(s,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ch(t),o!==null){for(e.flags|=128,Ma(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(be,be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>Lo&&(e.flags|=128,r=!0,Ma(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ch(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ma(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return Tt(e),null}else 2*Ge()-s.renderingStartTime>Lo&&n!==1073741824&&(e.flags|=128,r=!0,Ma(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=be.current,Te(be,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return qy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function TN(t,e){switch(Sy(e),e.tag){case 1:return Yt(e.type)&&_h(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oo(),Pe(Qt),Pe(Rt),Dy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vy(e),null;case 13:if(Pe(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Do()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(be),null;case 4:return Oo(),null;case 10:return Ry(e.type._context),null;case 22:case 23:return qy(),null;case 24:return null;default:return null}}var _c=!1,At=!1,IN=typeof WeakSet=="function"?WeakSet:Set,H=null;function ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function zm(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var GE=!1;function SN(t,e){if(Cm=mh,t=FA(),Ty(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pm={focusedElem:t,selectionRange:n},mh=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,S=v.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:An(e.type,_),S);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(x){Ue(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return v=GE,GE=!1,v}function rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zm(e,n,s)}i=i.next}while(i!==r)}}function xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NC(t){var e=t.alternate;e!==null&&(t.alternate=null,NC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[xl],delete e[km],delete e[oN],delete e[aN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OC(t){return t.tag===5||t.tag===3||t.tag===4}function KE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vh));else if(r!==4&&(t=t.child,t!==null))for(Wm(t,e,n),t=t.sibling;t!==null;)Wm(t,e,n),t=t.sibling}function Hm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hm(t,e,n),t=t.sibling;t!==null;)Hm(t,e,n),t=t.sibling}var ht=null,Cn=!1;function qr(t,e,n){for(n=n.child;n!==null;)MC(t,e,n),n=n.sibling}function MC(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Ef,n)}catch{}switch(n.tag){case 5:At||ro(n,e);case 6:var r=ht,i=Cn;ht=null,qr(t,e,n),ht=r,Cn=i,ht!==null&&(Cn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Cn?(t=ht,n=n.stateNode,t.nodeType===8?op(t.parentNode,n):t.nodeType===1&&op(t,n),Sl(t)):op(ht,n.stateNode));break;case 4:r=ht,i=Cn,ht=n.stateNode.containerInfo,Cn=!0,qr(t,e,n),ht=r,Cn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zm(n,e,o),i=i.next}while(i!==r)}qr(t,e,n);break;case 1:if(!At&&(ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}qr(t,e,n);break;case 21:qr(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,qr(t,e,n),At=r):qr(t,e,n);break;default:qr(t,e,n)}}function QE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IN),e.forEach(function(r){var i=DN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function In(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,Cn=!1;break e;case 3:ht=a.stateNode.containerInfo,Cn=!0;break e;case 4:ht=a.stateNode.containerInfo,Cn=!0;break e}a=a.return}if(ht===null)throw Error($(160));MC(s,o,i),ht=null,Cn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ue(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LC(e,t),e=e.sibling}function LC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(In(e,t),Mn(t),r&4){try{rl(3,t,t.return),xf(3,t)}catch(_){Ue(t,t.return,_)}try{rl(5,t,t.return)}catch(_){Ue(t,t.return,_)}}break;case 1:In(e,t),Mn(t),r&512&&n!==null&&ro(n,n.return);break;case 5:if(In(e,t),Mn(t),r&512&&n!==null&&ro(n,n.return),t.flags&32){var i=t.stateNode;try{wl(i,"")}catch(_){Ue(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sA(i,s),gm(a,o);var c=gm(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?cA(i,f):h==="dangerouslySetInnerHTML"?lA(i,f):h==="children"?wl(i,f):uy(i,h,f,c)}switch(a){case"input":hm(i,s);break;case"textarea":oA(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ho(i,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?ho(i,!!s.multiple,s.defaultValue,!0):ho(i,!!s.multiple,s.multiple?[]:"",!1))}i[xl]=s}catch(_){Ue(t,t.return,_)}}break;case 6:if(In(e,t),Mn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ue(t,t.return,_)}}break;case 3:if(In(e,t),Mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(_){Ue(t,t.return,_)}break;case 4:In(e,t),Mn(t);break;case 13:In(e,t),Mn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(By=Ge())),r&4&&QE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(At=(c=At)||h,In(e,t),At=c):In(e,t),Mn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(f=H=h;H!==null;){switch(d=H,g=d.child,d.tag){case 0:case 11:case 14:case 15:rl(4,d,d.return);break;case 1:ro(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Ue(r,n,_)}}break;case 5:ro(d,d.return);break;case 22:if(d.memoizedState!==null){XE(f);continue}}g!==null?(g.return=d,H=g):XE(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uA("display",o))}catch(_){Ue(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){Ue(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:In(e,t),Mn(t),r&4&&QE(t);break;case 21:break;default:In(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OC(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wl(i,""),r.flags&=-33);var s=KE(t);Hm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=KE(t);Wm(t,a,o);break;default:throw Error($(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AN(t,e,n){H=t,FC(t)}function FC(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||_c;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||At;a=_c;var c=At;if(_c=o,(At=l)&&!c)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?JE(i):l!==null?(l.return=o,H=l):JE(i);for(;s!==null;)H=s,FC(s),s=s.sibling;H=i,_c=a,At=c}YE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):YE(t)}}function YE(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||xf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:An(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&NE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}NE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Sl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}At||e.flags&512&&qm(e)}catch(d){Ue(e,e.return,d)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function XE(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function JE(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xf(4,e)}catch(l){Ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ue(e,i,l)}}var s=e.return;try{qm(e)}catch(l){Ue(e,s,l)}break;case 5:var o=e.return;try{qm(e)}catch(l){Ue(e,o,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var CN=Math.ceil,xh=Fr.ReactCurrentDispatcher,jy=Fr.ReactCurrentOwner,gn=Fr.ReactCurrentBatchConfig,fe=0,at=null,Ye=null,mt=0,tn=0,io=Oi(0),et=0,Ol=null,Ts=0,kf=0,$y=0,il=null,Wt=null,By=0,Lo=1/0,ar=null,kh=!1,Gm=null,pi=null,wc=!1,si=null,bh=0,sl=0,Km=null,zc=-1,qc=0;function Lt(){return fe&6?Ge():zc!==-1?zc:zc=Ge()}function mi(t){return t.mode&1?fe&2&&mt!==0?mt&-mt:uN.transition!==null?(qc===0&&(qc=TA()),qc):(t=me,t!==0||(t=window.event,t=t===void 0?16:xA(t.type)),t):1}function bn(t,e,n,r){if(50<sl)throw sl=0,Km=null,Error($(185));mu(t,n,r),(!(fe&2)||t!==at)&&(t===at&&(!(fe&2)&&(kf|=n),et===4&&Yr(t,mt)),Xt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Lo=Ge()+500,Cf&&Mi()))}function Xt(t,e){var n=t.callbackNode;uD(t,e);var r=ph(t,t===at?mt:0);if(r===0)n!==null&&aE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aE(n),e===1)t.tag===0?lN(ZE.bind(null,t)):KA(ZE.bind(null,t)),iN(function(){!(fe&6)&&Mi()}),n=null;else{switch(IA(r)){case 1:n=py;break;case 4:n=wA;break;case 16:n=dh;break;case 536870912:n=EA;break;default:n=dh}n=HC(n,UC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UC(t,e){if(zc=-1,qc=0,fe&6)throw Error($(327));var n=t.callbackNode;if(yo()&&t.callbackNode!==n)return null;var r=ph(t,t===at?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vh(t,r);else{e=r;var i=fe;fe|=2;var s=$C();(at!==t||mt!==e)&&(ar=null,Lo=Ge()+500,cs(t,e));do try{xN();break}catch(a){jC(t,a)}while(!0);Py(),xh.current=s,fe=i,Ye!==null?e=0:(at=null,mt=0,e=et)}if(e!==0){if(e===2&&(i=Em(t),i!==0&&(r=i,e=Qm(t,i))),e===1)throw n=Ol,cs(t,0),Yr(t,r),Xt(t,Ge()),n;if(e===6)Yr(t,r);else{if(i=t.current.alternate,!(r&30)&&!PN(i)&&(e=Vh(t,r),e===2&&(s=Em(t),s!==0&&(r=s,e=Qm(t,s))),e===1))throw n=Ol,cs(t,0),Yr(t,r),Xt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Qi(t,Wt,ar);break;case 3:if(Yr(t,r),(r&130023424)===r&&(e=By+500-Ge(),10<e)){if(ph(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xm(Qi.bind(null,t,Wt,ar),e);break}Qi(t,Wt,ar);break;case 4:if(Yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-kn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CN(r/1960))-r,10<r){t.timeoutHandle=xm(Qi.bind(null,t,Wt,ar),r);break}Qi(t,Wt,ar);break;case 5:Qi(t,Wt,ar);break;default:throw Error($(329))}}}return Xt(t,Ge()),t.callbackNode===n?UC.bind(null,t):null}function Qm(t,e){var n=il;return t.current.memoizedState.isDehydrated&&(cs(t,e).flags|=256),t=Vh(t,e),t!==2&&(e=Wt,Wt=n,e!==null&&Ym(e)),t}function Ym(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function PN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yr(t,e){for(e&=~$y,e&=~kf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function ZE(t){if(fe&6)throw Error($(327));yo();var e=ph(t,0);if(!(e&1))return Xt(t,Ge()),null;var n=Vh(t,e);if(t.tag!==0&&n===2){var r=Em(t);r!==0&&(e=r,n=Qm(t,r))}if(n===1)throw n=Ol,cs(t,0),Yr(t,e),Xt(t,Ge()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qi(t,Wt,ar),Xt(t,Ge()),null}function zy(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Lo=Ge()+500,Cf&&Mi())}}function Is(t){si!==null&&si.tag===0&&!(fe&6)&&yo();var e=fe;fe|=1;var n=gn.transition,r=me;try{if(gn.transition=null,me=1,t)return t()}finally{me=r,gn.transition=n,fe=e,!(fe&6)&&Mi()}}function qy(){tn=io.current,Pe(io)}function cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rN(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Sy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_h();break;case 3:Oo(),Pe(Qt),Pe(Rt),Dy();break;case 5:Vy(r);break;case 4:Oo();break;case 13:Pe(be);break;case 19:Pe(be);break;case 10:Ry(r.type._context);break;case 22:case 23:qy()}n=n.return}if(at=t,Ye=t=gi(t.current,null),mt=tn=e,et=0,Ol=null,$y=kf=Ts=0,Wt=il=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zi=null}return t}function jC(t,e){do{var n=Ye;try{if(Py(),jc.current=Rh,Ph){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ph=!1}if(Es=0,ot=Ze=Ne=null,nl=!1,Vl=0,jy.current=null,n===null||n.return===null){et=1,Ol=e,Ye=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=jE(o);if(g!==null){g.flags&=-257,$E(g,o,a,s,e),g.mode&1&&UE(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){UE(s,c,e),Wy();break e}l=Error($(426))}}else if(Re&&a.mode&1){var S=jE(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),$E(S,o,a,s,e),Ay(Mo(l,a));break e}}s=l=Mo(l,a),et!==4&&(et=2),il===null?il=[s]:il.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=IC(s,l,e);DE(s,w);break e;case 1:a=l;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(pi===null||!pi.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=SC(s,a,e);DE(s,x);break e}}s=s.return}while(s!==null)}zC(n)}catch(O){e=O,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function $C(){var t=xh.current;return xh.current=Rh,t===null?Rh:t}function Wy(){(et===0||et===3||et===2)&&(et=4),at===null||!(Ts&268435455)&&!(kf&268435455)||Yr(at,mt)}function Vh(t,e){var n=fe;fe|=2;var r=$C();(at!==t||mt!==e)&&(ar=null,cs(t,e));do try{RN();break}catch(i){jC(t,i)}while(!0);if(Py(),fe=n,xh.current=r,Ye!==null)throw Error($(261));return at=null,mt=0,et}function RN(){for(;Ye!==null;)BC(Ye)}function xN(){for(;Ye!==null&&!eD();)BC(Ye)}function BC(t){var e=WC(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?zC(t):Ye=e,jy.current=null}function zC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TN(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ye=null;return}}else if(n=EN(n,e,tn),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);et===0&&(et=5)}function Qi(t,e,n){var r=me,i=gn.transition;try{gn.transition=null,me=1,kN(t,e,n,r)}finally{gn.transition=i,me=r}return null}function kN(t,e,n,r){do yo();while(si!==null);if(fe&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cD(t,s),t===at&&(Ye=at=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wc||(wc=!0,HC(dh,function(){return yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gn.transition,gn.transition=null;var o=me;me=1;var a=fe;fe|=4,jy.current=null,SN(t,n),LC(n,t),YD(Pm),mh=!!Cm,Pm=Cm=null,t.current=n,AN(n),tD(),fe=a,me=o,gn.transition=s}else t.current=n;if(wc&&(wc=!1,si=t,bh=i),s=t.pendingLanes,s===0&&(pi=null),iD(n.stateNode),Xt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kh)throw kh=!1,t=Gm,Gm=null,t;return bh&1&&t.tag!==0&&yo(),s=t.pendingLanes,s&1?t===Km?sl++:(sl=0,Km=t):sl=0,Mi(),null}function yo(){if(si!==null){var t=IA(bh),e=gn.transition,n=me;try{if(gn.transition=null,me=16>t?16:t,si===null)var r=!1;else{if(t=si,si=null,bh=0,fe&6)throw Error($(331));var i=fe;for(fe|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:rl(8,h,s)}var f=h.child;if(f!==null)f.return=h,H=f;else for(;H!==null;){h=H;var d=h.sibling,g=h.return;if(NC(h),h===c){H=null;break}if(d!==null){d.return=g,H=d;break}H=g}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,H=w;break e}H=s.return}}var y=t.current;for(H=y;H!==null;){o=H;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,H=E;else e:for(o=y;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xf(9,a)}}catch(O){Ue(a,a.return,O)}if(a===o){H=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,H=x;break e}H=a.return}}if(fe=i,Mi(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Ef,t)}catch{}r=!0}return r}finally{me=n,gn.transition=e}}return!1}function e0(t,e,n){e=Mo(n,e),e=IC(t,e,1),t=di(t,e,1),e=Lt(),t!==null&&(mu(t,1,e),Xt(t,e))}function Ue(t,e,n){if(t.tag===3)e0(t,t,n);else for(;e!==null;){if(e.tag===3){e0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pi===null||!pi.has(r))){t=Mo(n,t),t=SC(e,t,1),e=di(e,t,1),t=Lt(),e!==null&&(mu(e,1,t),Xt(e,t));break}}e=e.return}}function bN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(mt&n)===n&&(et===4||et===3&&(mt&130023424)===mt&&500>Ge()-By?cs(t,0):$y|=n),Xt(t,e)}function qC(t,e){e===0&&(t.mode&1?(e=cc,cc<<=1,!(cc&130023424)&&(cc=4194304)):e=1);var n=Lt();t=Pr(t,e),t!==null&&(mu(t,e,n),Xt(t,n))}function VN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qC(t,n)}function DN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),qC(t,n)}var WC;WC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,wN(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Re&&e.flags&1048576&&QA(e,Th,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bc(t,e),t=e.pendingProps;var i=Vo(e,Rt.current);go(e,n),i=Oy(null,e,r,t,i,n);var s=My();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(s=!0,wh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ky(e),i.updater=Rf,e.stateNode=i,i._reactInternals=e,Mm(e,r,t,n),e=Um(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&Iy(e),Ot(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ON(r),t=An(r,t),i){case 0:e=Fm(null,e,r,t,n);break e;case 1:e=qE(null,e,r,t,n);break e;case 11:e=BE(null,e,r,t,n);break e;case 14:e=zE(null,e,r,An(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),Fm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),qE(t,e,r,i,n);case 3:e:{if(RC(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,tC(t,e),Ah(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Mo(Error($(423)),e),e=WE(t,e,r,n,i);break e}else if(r!==i){i=Mo(Error($(424)),e),e=WE(t,e,r,n,i);break e}else for(nn=fi(e.stateNode.containerInfo.firstChild),sn=e,Re=!0,Pn=null,n=ZA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Do(),r===i){e=Rr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return nC(e),t===null&&Dm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Rm(r,i)?o=null:s!==null&&Rm(r,s)&&(e.flags|=32),PC(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&Dm(e),null;case 13:return xC(t,e,n);case 4:return by(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=No(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),BE(t,e,r,i,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Te(Ih,r._currentValue),r._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===i.children&&!Qt.current){e=Rr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Er(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Nm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ot(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,n),i=_n(i),r=r(i),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,i=An(r,e.pendingProps),i=An(r.type,i),zE(t,e,r,i,n);case 15:return AC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),Bc(t,e),e.tag=1,Yt(r)?(t=!0,wh(e)):t=!1,go(e,n),TC(e,r,i),Mm(e,r,i,n),Um(null,e,r,!0,t,n);case 19:return kC(t,e,n);case 22:return CC(t,e,n)}throw Error($(156,e.tag))};function HC(t,e){return _A(t,e)}function NN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new NN(t,e,n,r)}function Hy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ON(t){if(typeof t=="function")return Hy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hy)return 11;if(t===fy)return 14}return 2}function gi(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Hy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ks:return hs(n.children,i,s,e);case cy:o=8,i|=8;break;case om:return t=mn(12,n,e,i|2),t.elementType=om,t.lanes=s,t;case am:return t=mn(13,n,e,i),t.elementType=am,t.lanes=s,t;case lm:return t=mn(19,n,e,i),t.elementType=lm,t.lanes=s,t;case nA:return bf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eA:o=10;break e;case tA:o=9;break e;case hy:o=11;break e;case fy:o=14;break e;case Gr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=mn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function hs(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function bf(t,e,n,r){return t=mn(22,t,r,e),t.elementType=nA,t.lanes=n,t.stateNode={isHidden:!1},t}function pp(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function mp(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qd(0),this.expirationTimes=Qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gy(t,e,n,r,i,s,o,a,l){return t=new MN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ky(s),t}function LN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GC(t){if(!t)return Si;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Yt(n))return GA(t,n,e)}return e}function KC(t,e,n,r,i,s,o,a,l){return t=Gy(n,r,!0,t,i,s,o,a,l),t.context=GC(null),n=t.current,r=Lt(),i=mi(n),s=Er(r,i),s.callback=e??null,di(n,s,i),t.current.lanes=i,mu(t,i,r),Xt(t,r),t}function Vf(t,e,n,r){var i=e.current,s=Lt(),o=mi(i);return n=GC(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=di(i,e,o),t!==null&&(bn(t,i,o,s),Uc(t,i,o)),o}function Dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ky(t,e){t0(t,e),(t=t.alternate)&&t0(t,e)}function FN(){return null}var QC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qy(t){this._internalRoot=t}Df.prototype.render=Qy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Vf(t,e,null,null)};Df.prototype.unmount=Qy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){Vf(null,t,null,null)}),e[Cr]=null}};function Df(t){this._internalRoot=t}Df.prototype.unstable_scheduleHydration=function(t){if(t){var e=CA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qr.length&&e!==0&&e<Qr[n].priority;n++);Qr.splice(n,0,t),n===0&&RA(t)}};function Yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n0(){}function UN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Dh(o);s.call(c)}}var o=KC(e,r,t,0,null,!1,!1,"",n0);return t._reactRootContainer=o,t[Cr]=o.current,Pl(t.nodeType===8?t.parentNode:t),Is(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Dh(l);a.call(c)}}var l=Gy(t,0,!1,null,null,!1,!1,"",n0);return t._reactRootContainer=l,t[Cr]=l.current,Pl(t.nodeType===8?t.parentNode:t),Is(function(){Vf(e,l,n,r)}),l}function Of(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Dh(o);a.call(l)}}Vf(e,o,t,i)}else o=UN(n,e,t,i,r);return Dh(o)}SA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(my(e,n|1),Xt(e,Ge()),!(fe&6)&&(Lo=Ge()+500,Mi()))}break;case 13:Is(function(){var r=Pr(t,1);if(r!==null){var i=Lt();bn(r,t,1,i)}}),Ky(t,1)}};gy=function(t){if(t.tag===13){var e=Pr(t,134217728);if(e!==null){var n=Lt();bn(e,t,134217728,n)}Ky(t,134217728)}};AA=function(t){if(t.tag===13){var e=mi(t),n=Pr(t,e);if(n!==null){var r=Lt();bn(n,t,e,r)}Ky(t,e)}};CA=function(){return me};PA=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};vm=function(t,e,n){switch(e){case"input":if(hm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Af(r);if(!i)throw Error($(90));iA(r),hm(r,i)}}}break;case"textarea":oA(t,n);break;case"select":e=n.value,e!=null&&ho(t,!!n.multiple,e,!1)}};dA=zy;pA=Is;var jN={usingClientEntryPoint:!1,Events:[yu,Js,Af,hA,fA,zy]},La={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$N={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yA(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||FN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Ef=Ec.inject($N),$n=Ec}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jN;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yy(e))throw Error($(200));return LN(t,e,null,n)};an.createRoot=function(t,e){if(!Yy(t))throw Error($(299));var n=!1,r="",i=QC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gy(t,1,!1,null,null,n,!1,r,i),t[Cr]=e.current,Pl(t.nodeType===8?t.parentNode:t),new Qy(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=yA(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return Is(t)};an.hydrate=function(t,e,n){if(!Nf(e))throw Error($(200));return Of(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!Yy(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KC(e,null,t,1,n??null,i,!1,s,o),t[Cr]=e.current,Pl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Df(e)};an.render=function(t,e,n){if(!Nf(e))throw Error($(200));return Of(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!Nf(t))throw Error($(40));return t._reactRootContainer?(Is(function(){Of(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};an.unstable_batchedUpdates=zy;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nf(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Of(t,e,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function YC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YC)}catch(t){console.error(t)}}YC(),YS.exports=an;var BN=YS.exports,r0=BN;im.createRoot=r0.createRoot,im.hydrateRoot=r0.hydrateRoot;const zN="modulepreload",qN=function(t){return"/"+t},i0={},nt=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=qN(l),l in i0)return;i0[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":zN,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((d,g)=>{f.addEventListener("load",d),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var XC={exports:{}},WN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HN=WN,GN=HN;function JC(){}function ZC(){}ZC.resetWarningCache=JC;var KN=function(){function t(r,i,s,o,a,l){if(l!==GN){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZC,resetWarningCache:JC};return n.PropTypes=n,n};XC.exports=KN();var QN=XC.exports;const ce=du(QN);var YN=typeof Element<"u",XN=typeof Map=="function",JN=typeof Set=="function",ZN=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Hc(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Hc(t[r],e[r]))return!1;return!0}var s;if(XN&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Hc(r.value[1],e.get(r.value[0])))return!1;return!0}if(JN&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(ZN&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(YN&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Hc(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var eO=function(e,n){try{return Hc(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const tO=du(eO);var nO=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],h=0;l=new Error(e.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},rO=nO;const s0=du(rO);var iO=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<o.length;c++){var h=o[c];if(!l(h))return!1;var f=e[h],d=n[h];if(s=r?r.call(i,f,d,h):void 0,s===!1||s===void 0&&f!==d)return!1}return!0};const sO=du(iO);function We(){return We=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},We.apply(this,arguments)}function Xy(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Xm(t,e)}function Xm(t,e){return Xm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xm(t,e)}function o0(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}var Y={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},oO={rel:["amphtml","canonical","alternate"]},aO={type:["application/ld+json"]},lO={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},a0=Object.keys(Y).map(function(t){return Y[t]}),Nh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},uO=Object.keys(Nh).reduce(function(t,e){return t[Nh[e]]=e,t},{}),vo=function(t,e){for(var n=t.length-1;n>=0;n-=1){var r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},cO=function(t){var e=vo(t,Y.TITLE),n=vo(t,"titleTemplate");if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,function(){return e});var r=vo(t,"defaultTitle");return e||r||void 0},hO=function(t){return vo(t,"onChangeClientState")||function(){}},gp=function(t,e){return e.filter(function(n){return n[t]!==void 0}).map(function(n){return n[t]}).reduce(function(n,r){return We({},n,r)},{})},fO=function(t,e){return e.filter(function(n){return n[Y.BASE]!==void 0}).map(function(n){return n[Y.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var i=Object.keys(r),s=0;s<i.length;s+=1){var o=i[s].toLowerCase();if(t.indexOf(o)!==-1&&r[o])return n.concat(r)}return n},[])},Fa=function(t,e,n){var r={};return n.filter(function(i){return!!Array.isArray(i[t])||(i[t]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+t+' should be of type "Array". Instead found type "'+typeof i[t]+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,s){var o={};s.filter(function(f){for(var d,g=Object.keys(f),v=0;v<g.length;v+=1){var _=g[v],S=_.toLowerCase();e.indexOf(S)===-1||d==="rel"&&f[d].toLowerCase()==="canonical"||S==="rel"&&f[S].toLowerCase()==="stylesheet"||(d=S),e.indexOf(_)===-1||_!=="innerHTML"&&_!=="cssText"&&_!=="itemprop"||(d=_)}if(!d||!f[d])return!1;var w=f[d].toLowerCase();return r[d]||(r[d]={}),o[d]||(o[d]={}),!r[d][w]&&(o[d][w]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var a=Object.keys(o),l=0;l<a.length;l+=1){var c=a[l],h=We({},r[c],o[c]);r[c]=h}return i},[]).reverse()},dO=function(t,e){if(Array.isArray(t)&&t.length){for(var n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},e1=function(t){return Array.isArray(t)?t.join(""):t},yp=function(t,e){return Array.isArray(t)?t.reduce(function(n,r){return function(i,s){for(var o=Object.keys(i),a=0;a<o.length;a+=1)if(s[o[a]]&&s[o[a]].includes(i[o[a]]))return!0;return!1}(r,e)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:t}},l0=function(t,e){var n;return We({},t,((n={})[e]=void 0,n))},pO=[Y.NOSCRIPT,Y.SCRIPT,Y.STYLE],vp=function(t,e){return e===void 0&&(e=!0),e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},u0=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n]!==void 0?n+'="'+t[n]+'"':""+n;return e?e+" "+r:r},"")},c0=function(t,e){return e===void 0&&(e={}),Object.keys(t).reduce(function(n,r){return n[Nh[r]||r]=t[r],n},e)},Gc=function(t,e){return e.map(function(n,r){var i,s=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(o){var a=Nh[o]||o;a==="innerHTML"||a==="cssText"?s.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:s[a]=n[o]}),M.createElement(t,s)})},un=function(t,e,n){switch(t){case Y.TITLE:return{toComponent:function(){return i=e.titleAttributes,(s={key:r=e.title})["data-rh"]=!0,o=c0(i,s),[M.createElement(Y.TITLE,o,r)];var r,i,s,o},toString:function(){return function(r,i,s,o){var a=u0(s),l=e1(i);return a?"<"+r+' data-rh="true" '+a+">"+vp(l,o)+"</"+r+">":"<"+r+' data-rh="true">'+vp(l,o)+"</"+r+">"}(t,e.title,e.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return c0(e)},toString:function(){return u0(e)}};default:return{toComponent:function(){return Gc(t,e)},toString:function(){return function(r,i,s){return i.reduce(function(o,a){var l=Object.keys(a).filter(function(f){return!(f==="innerHTML"||f==="cssText")}).reduce(function(f,d){var g=a[d]===void 0?d:d+'="'+vp(a[d],s)+'"';return f?f+" "+g:g},""),c=a.innerHTML||a.cssText||"",h=pO.indexOf(r)===-1;return o+"<"+r+' data-rh="true" '+l+(h?"/>":">"+c+"</"+r+">")},"")}(t,e,n)}}}},Jm=function(t){var e=t.baseTag,n=t.bodyAttributes,r=t.encode,i=t.htmlAttributes,s=t.noscriptTags,o=t.styleTags,a=t.title,l=a===void 0?"":a,c=t.titleAttributes,h=t.linkTags,f=t.metaTags,d=t.scriptTags,g={toComponent:function(){},toString:function(){return""}};if(t.prioritizeSeoTags){var v=function(_){var S=_.linkTags,w=_.scriptTags,y=_.encode,E=yp(_.metaTags,lO),x=yp(S,oO),O=yp(w,aO);return{priorityMethods:{toComponent:function(){return[].concat(Gc(Y.META,E.priority),Gc(Y.LINK,x.priority),Gc(Y.SCRIPT,O.priority))},toString:function(){return un(Y.META,E.priority,y)+" "+un(Y.LINK,x.priority,y)+" "+un(Y.SCRIPT,O.priority,y)}},metaTags:E.default,linkTags:x.default,scriptTags:O.default}}(t);g=v.priorityMethods,h=v.linkTags,f=v.metaTags,d=v.scriptTags}return{priority:g,base:un(Y.BASE,e,r),bodyAttributes:un("bodyAttributes",n,r),htmlAttributes:un("htmlAttributes",i,r),link:un(Y.LINK,h,r),meta:un(Y.META,f,r),noscript:un(Y.NOSCRIPT,s,r),script:un(Y.SCRIPT,d,r),style:un(Y.STYLE,o,r),title:un(Y.TITLE,{title:l,titleAttributes:c},r)}},Tc=[],Zm=function(t,e){var n=this;e===void 0&&(e=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?Tc:n.instances},add:function(r){(n.canUseDOM?Tc:n.instances).push(r)},remove:function(r){var i=(n.canUseDOM?Tc:n.instances).indexOf(r);(n.canUseDOM?Tc:n.instances).splice(i,1)}}},this.context=t,this.canUseDOM=e,e||(t.helmet=Jm({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},t1=M.createContext({}),mO=ce.shape({setHelmet:ce.func,helmetInstances:ce.shape({get:ce.func,add:ce.func,remove:ce.func})}),gO=typeof document<"u",so=function(t){function e(n){var r;return(r=t.call(this,n)||this).helmetData=new Zm(r.props.context,e.canUseDOM),r}return Xy(e,t),e.prototype.render=function(){return M.createElement(t1.Provider,{value:this.helmetData.value},this.props.children)},e}(V.Component);so.canUseDOM=gO,so.propTypes={context:ce.shape({helmet:ce.shape()}),children:ce.node.isRequired},so.defaultProps={context:{}},so.displayName="HelmetProvider";var Bs=function(t,e){var n,r=document.head||document.querySelector(Y.HEAD),i=r.querySelectorAll(t+"[data-rh]"),s=[].slice.call(i),o=[];return e&&e.length&&e.forEach(function(a){var l=document.createElement(t);for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(c==="innerHTML"?l.innerHTML=a.innerHTML:c==="cssText"?l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText)):l.setAttribute(c,a[c]===void 0?"":a[c]));l.setAttribute("data-rh","true"),s.some(function(h,f){return n=f,l.isEqualNode(h)})?s.splice(n,1):o.push(l)}),s.forEach(function(a){return a.parentNode.removeChild(a)}),o.forEach(function(a){return r.appendChild(a)}),{oldTags:s,newTags:o}},_p=function(t,e){var n=document.getElementsByTagName(t)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],s=[].concat(i),o=Object.keys(e),a=0;a<o.length;a+=1){var l=o[a],c=e[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),i.indexOf(l)===-1&&i.push(l);var h=s.indexOf(l);h!==-1&&s.splice(h,1)}for(var f=s.length-1;f>=0;f-=1)n.removeAttribute(s[f]);i.length===s.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==o.join(",")&&n.setAttribute("data-rh",o.join(","))}},h0=function(t,e){var n=t.baseTag,r=t.htmlAttributes,i=t.linkTags,s=t.metaTags,o=t.noscriptTags,a=t.onChangeClientState,l=t.scriptTags,c=t.styleTags,h=t.title,f=t.titleAttributes;_p(Y.BODY,t.bodyAttributes),_p(Y.HTML,r),function(_,S){_!==void 0&&document.title!==_&&(document.title=e1(_)),_p(Y.TITLE,S)}(h,f);var d={baseTag:Bs(Y.BASE,n),linkTags:Bs(Y.LINK,i),metaTags:Bs(Y.META,s),noscriptTags:Bs(Y.NOSCRIPT,o),scriptTags:Bs(Y.SCRIPT,l),styleTags:Bs(Y.STYLE,c)},g={},v={};Object.keys(d).forEach(function(_){var S=d[_],w=S.newTags,y=S.oldTags;w.length&&(g[_]=w),y.length&&(v[_]=d[_].oldTags)}),e&&e(),a(t,g,v)},Ua=null,Oh=function(t){function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=t.call.apply(t,[this].concat(s))||this).rendered=!1,r}Xy(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(r){return!sO(r,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var r,i,s=this.props.context,o=s.setHelmet,a=null,l=(r=s.helmetInstances.get().map(function(c){var h=We({},c.props);return delete h.context,h}),{baseTag:fO(["href"],r),bodyAttributes:gp("bodyAttributes",r),defer:vo(r,"defer"),encode:vo(r,"encodeSpecialCharacters"),htmlAttributes:gp("htmlAttributes",r),linkTags:Fa(Y.LINK,["rel","href"],r),metaTags:Fa(Y.META,["name","charset","http-equiv","property","itemprop"],r),noscriptTags:Fa(Y.NOSCRIPT,["innerHTML"],r),onChangeClientState:hO(r),scriptTags:Fa(Y.SCRIPT,["src","innerHTML"],r),styleTags:Fa(Y.STYLE,["cssText"],r),title:cO(r),titleAttributes:gp("titleAttributes",r),prioritizeSeoTags:dO(r,"prioritizeSeoTags")});so.canUseDOM?(i=l,Ua&&cancelAnimationFrame(Ua),i.defer?Ua=requestAnimationFrame(function(){h0(i,function(){Ua=null})}):(h0(i),Ua=null)):Jm&&(a=Jm(l)),o(a)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},e}(V.Component);Oh.propTypes={context:mO.isRequired},Oh.displayName="HelmetDispatcher";var yO=["children"],vO=["children"],wp=function(t){function e(){return t.apply(this,arguments)||this}Xy(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(r){return!tO(l0(this.props,"helmetData"),l0(r,"helmetData"))},n.mapNestedChildrenToProps=function(r,i){if(!i)return null;switch(r.type){case Y.SCRIPT:case Y.NOSCRIPT:return{innerHTML:i};case Y.STYLE:return{cssText:i};default:throw new Error("<"+r.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.flattenArrayTypeChildren=function(r){var i,s=r.child,o=r.arrayTypeChildren;return We({},o,((i={})[s.type]=[].concat(o[s.type]||[],[We({},r.newChildProps,this.mapNestedChildrenToProps(s,r.nestedChildren))]),i))},n.mapObjectTypeChildren=function(r){var i,s,o=r.child,a=r.newProps,l=r.newChildProps,c=r.nestedChildren;switch(o.type){case Y.TITLE:return We({},a,((i={})[o.type]=c,i.titleAttributes=We({},l),i));case Y.BODY:return We({},a,{bodyAttributes:We({},l)});case Y.HTML:return We({},a,{htmlAttributes:We({},l)});default:return We({},a,((s={})[o.type]=We({},l),s))}},n.mapArrayTypeChildrenToProps=function(r,i){var s=We({},i);return Object.keys(r).forEach(function(o){var a;s=We({},s,((a={})[o]=r[o],a))}),s},n.warnOnInvalidChildren=function(r,i){return s0(a0.some(function(s){return r.type===s}),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+a0.join(", ")+" are allowed. Helmet does not support rendering <"+r.type+"> elements. Refer to our API for more information."),s0(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(s){return typeof s!="string"}),"Helmet expects a string as a child of <"+r.type+">. Did you forget to wrap your children in braces? ( <"+r.type+">{``}</"+r.type+"> ) Refer to our API for more information."),!0},n.mapChildrenToProps=function(r,i){var s=this,o={};return M.Children.forEach(r,function(a){if(a&&a.props){var l=a.props,c=l.children,h=o0(l,yO),f=Object.keys(h).reduce(function(g,v){return g[uO[v]||v]=h[v],g},{}),d=a.type;switch(typeof d=="symbol"?d=d.toString():s.warnOnInvalidChildren(a,c),d){case Y.FRAGMENT:i=s.mapChildrenToProps(c,i);break;case Y.LINK:case Y.META:case Y.NOSCRIPT:case Y.SCRIPT:case Y.STYLE:o=s.flattenArrayTypeChildren({child:a,arrayTypeChildren:o,newChildProps:f,nestedChildren:c});break;default:i=s.mapObjectTypeChildren({child:a,newProps:i,newChildProps:f,nestedChildren:c})}}}),this.mapArrayTypeChildrenToProps(o,i)},n.render=function(){var r=this.props,i=r.children,s=o0(r,vO),o=We({},s),a=s.helmetData;return i&&(o=this.mapChildrenToProps(i,o)),!a||a instanceof Zm||(a=new Zm(a.context,a.instances)),a?M.createElement(Oh,We({},o,{context:a.value,helmetData:void 0})):M.createElement(t1.Consumer,null,function(l){return M.createElement(Oh,We({},o,{context:l}))})},e}(V.Component);wp.propTypes={base:ce.object,bodyAttributes:ce.object,children:ce.oneOfType([ce.arrayOf(ce.node),ce.node]),defaultTitle:ce.string,defer:ce.bool,encodeSpecialCharacters:ce.bool,htmlAttributes:ce.object,link:ce.arrayOf(ce.object),meta:ce.arrayOf(ce.object),noscript:ce.arrayOf(ce.object),onChangeClientState:ce.func,script:ce.arrayOf(ce.object),style:ce.arrayOf(ce.object),title:ce.string,titleAttributes:ce.object,titleTemplate:ce.string,prioritizeSeoTags:ce.bool,helmetData:ce.object},wp.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},wp.displayName="Helmet";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}var oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oi||(oi={}));const f0="popstate";function _O(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return eg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mh(i)}return EO(e,n,null,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function n1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wO(){return Math.random().toString(36).substr(2,8)}function d0(t,e){return{usr:t.state,key:t.key,idx:e}}function eg(t,e,n,r){return n===void 0&&(n=null),Ml({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ra(e):e,{state:n,key:e&&e.key||r||wO()})}function Mh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ra(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function EO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=oi.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Ml({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=oi.Pop;let S=h(),w=S==null?null:S-c;c=S,l&&l({action:a,location:_.location,delta:w})}function d(S,w){a=oi.Push;let y=eg(_.location,S,w);c=h()+1;let E=d0(y,c),x=_.createHref(y);try{o.pushState(E,"",x)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(x)}s&&l&&l({action:a,location:_.location,delta:1})}function g(S,w){a=oi.Replace;let y=eg(_.location,S,w);c=h();let E=d0(y,c),x=_.createHref(y);o.replaceState(E,"",x),s&&l&&l({action:a,location:_.location,delta:0})}function v(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof S=="string"?S:Mh(S);return y=y.replace(/ $/,"%20"),$e(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let _={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(f0,f),l=S,()=>{i.removeEventListener(f0,f),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let w=v(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:g,go(S){return o.go(S)}};return _}var p0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(p0||(p0={}));function TO(t,e,n){return n===void 0&&(n="/"),IO(t,e,n)}function IO(t,e,n,r){let i=typeof e=="string"?ra(e):e,s=Fo(i.pathname||"/",n);if(s==null)return null;let o=r1(t);SO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=OO(s);a=DO(o[l],c)}return a}function r1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&($e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=yi([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&($e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),r1(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:bO(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of i1(s.path))i(s,o,l)}),e}function i1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=i1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AO=/^:[\w-]+$/,CO=3,PO=2,RO=1,xO=10,kO=-2,m0=t=>t==="*";function bO(t,e){let n=t.split("/"),r=n.length;return n.some(m0)&&(r+=kO),e&&(r+=PO),n.filter(i=>!m0(i)).reduce((i,s)=>i+(AO.test(s)?CO:s===""?RO:xO),r)}function VO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=tg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:yi([s,f.pathname]),pathnameBase:UO(yi([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=yi([s,f.pathnameBase]))}return o}function tg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:d,isOptional:g}=h;if(d==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[f];return g&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function NO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),n1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return n1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function MO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ra(t):t;return{pathname:n?n.startsWith("/")?n:LO(n,e):e,search:jO(r),hash:$O(i)}}function LO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ep(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function s1(t,e){let n=FO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function o1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ra(t):(i=Ml({},t),$e(!i.pathname||!i.pathname.includes("?"),Ep("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),Ep("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),Ep("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=MO(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const yi=t=>t.join("/").replace(/\/\/+/g,"/"),UO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$O=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const a1=["post","put","patch","delete"];new Set(a1);const zO=["get",...a1];new Set(zO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}const Mf=V.createContext(null),l1=V.createContext(null),Li=V.createContext(null),Lf=V.createContext(null),bs=V.createContext({outlet:null,matches:[],isDataRoute:!1}),u1=V.createContext(null);function qO(t,e){let{relative:n}=e===void 0?{}:e;_u()||$e(!1);let{basename:r,navigator:i}=V.useContext(Li),{hash:s,pathname:o,search:a}=Ff(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:yi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function _u(){return V.useContext(Lf)!=null}function ia(){return _u()||$e(!1),V.useContext(Lf).location}function c1(t){V.useContext(Li).static||V.useLayoutEffect(t)}function WO(){let{isDataRoute:t}=V.useContext(bs);return t?i2():HO()}function HO(){_u()||$e(!1);let t=V.useContext(Mf),{basename:e,future:n,navigator:r}=V.useContext(Li),{matches:i}=V.useContext(bs),{pathname:s}=ia(),o=JSON.stringify(s1(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return c1(()=>{a.current=!0}),V.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=o1(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:yi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}function Ff(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(Li),{matches:i}=V.useContext(bs),{pathname:s}=ia(),o=JSON.stringify(s1(i,r.v7_relativeSplatPath));return V.useMemo(()=>o1(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function GO(t,e){return KO(t,e)}function KO(t,e,n,r){_u()||$e(!1);let{navigator:i}=V.useContext(Li),{matches:s}=V.useContext(bs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ia(),h;if(e){var f;let S=typeof e=="string"?ra(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||$e(!1),h=S}else h=c;let d=h.pathname||"/",g=d;if(l!=="/"){let S=l.replace(/^\//,"").split("/");g="/"+d.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=TO(t,{pathname:g}),_=ZO(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:yi([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:yi([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&_?V.createElement(Lf.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:oi.Pop}},_):_}function QO(){let t=r2(),e=BO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const YO=V.createElement(QO,null);class XO extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(bs.Provider,{value:this.props.routeContext},V.createElement(u1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JO(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(Mf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(bs.Provider,{value:e},r)}function ZO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||$e(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:d,errors:g}=n,v=f.route.loader&&d[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,d)=>{let g,v=!1,_=null,S=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||YO,l&&(c<0&&d===0?(s2("route-fallback"),v=!0,S=null):c===d&&(v=!0,S=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,d+1)),y=()=>{let E;return g?E=_:v?E=S:f.route.Component?E=V.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,V.createElement(JO,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?V.createElement(XO,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var h1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(h1||{}),f1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(f1||{});function e2(t){let e=V.useContext(Mf);return e||$e(!1),e}function t2(t){let e=V.useContext(l1);return e||$e(!1),e}function n2(t){let e=V.useContext(bs);return e||$e(!1),e}function d1(t){let e=n2(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function r2(){var t;let e=V.useContext(u1),n=t2(),r=d1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function i2(){let{router:t}=e2(h1.UseNavigateStable),e=d1(f1.UseNavigateStable),n=V.useRef(!1);return c1(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ll({fromRouteId:e},s)))},[t,e])}const g0={};function s2(t,e,n){g0[t]||(g0[t]=!0)}function o2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function it(t){$e(!1)}function a2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=oi.Pop,navigator:s,static:o=!1,future:a}=t;_u()&&$e(!1);let l=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:s,static:o,future:Ll({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ra(r));let{pathname:h="/",search:f="",hash:d="",state:g=null,key:v="default"}=r,_=V.useMemo(()=>{let S=Fo(h,l);return S==null?null:{location:{pathname:S,search:f,hash:d,state:g,key:v},navigationType:i}},[l,h,f,d,g,v,i]);return _==null?null:V.createElement(Li.Provider,{value:c},V.createElement(Lf.Provider,{children:n,value:_}))}function l2(t){let{children:e,location:n}=t;return GO(ng(e),n)}new Promise(()=>{});function ng(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,ng(r.props.children,s));return}r.type!==it&&$e(!1),!r.props.index||!r.props.children||$e(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ng(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}function p1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function u2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c2(t,e){return t.button===0&&(!e||e==="_self")&&!u2(t)}const h2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f2=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d2="6";try{window.__reactRouterVersion=d2}catch{}const p2=V.createContext({isTransitioning:!1}),m2="startTransition",y0=LV[m2];function g2(t){let{basename:e,children:n,future:r,window:i}=t,s=V.useRef();s.current==null&&(s.current=_O({window:i,v5Compat:!0}));let o=s.current,[a,l]=V.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=V.useCallback(f=>{c&&y0?y0(()=>l(f)):l(f)},[l,c]);return V.useLayoutEffect(()=>o.listen(h),[o,h]),V.useEffect(()=>o2(r),[r]),V.createElement(a2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fh=V.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,d=p1(e,h2),{basename:g}=V.useContext(Li),v,_=!1;if(typeof c=="string"&&v2.test(c)&&(v=c,y2))try{let E=new URL(window.location.href),x=c.startsWith("//")?new URL(E.protocol+c):new URL(c),O=Fo(x.pathname,g);x.origin===E.origin&&O!=null?c=O+x.search+x.hash:_=!0}catch{}let S=qO(c,{relative:i}),w=w2(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function y(E){r&&r(E),E.defaultPrevented||w(E)}return V.createElement("a",Lh({},d,{href:v||S,onClick:_||s?r:y,ref:n,target:l}))}),Tp=V.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:h}=e,f=p1(e,f2),d=Ff(l,{relative:f.relative}),g=ia(),v=V.useContext(l1),{navigator:_,basename:S}=V.useContext(Li),w=v!=null&&E2(d)&&c===!0,y=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,E=g.pathname,x=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(E=E.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&S&&(x=Fo(x,S)||x);const O=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let F=E===y||!o&&E.startsWith(y)&&E.charAt(O)==="/",A=x!=null&&(x===y||!o&&x.startsWith(y)&&x.charAt(y.length)==="/"),T={isActive:F,isPending:A,isTransitioning:w},C=F?r:void 0,P;typeof s=="function"?P=s(T):P=[s,F?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(T):a;return V.createElement(Fh,Lh({},f,{"aria-current":C,className:P,ref:n,style:k,to:l,viewTransition:c}),typeof h=="function"?h(T):h)});var rg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rg||(rg={}));var v0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(v0||(v0={}));function _2(t){let e=V.useContext(Mf);return e||$e(!1),e}function w2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=WO(),c=ia(),h=Ff(t,{relative:o});return V.useCallback(f=>{if(c2(f,n)){f.preventDefault();let d=r!==void 0?r:Mh(c)===Mh(h);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function E2(t,e){e===void 0&&(e={});let n=V.useContext(p2);n==null&&$e(!1);let{basename:r}=_2(rg.useViewTransitionState),i=Ff(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Fo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Fo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tg(i.pathname,o)!=null||tg(i.pathname,s)!=null}var m1={exports:{}},Uf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2=V,I2=Symbol.for("react.element"),S2=Symbol.for("react.fragment"),A2=Object.prototype.hasOwnProperty,C2=T2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P2={key:!0,ref:!0,__self:!0,__source:!0};function g1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)A2.call(e,r)&&!P2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:I2,type:t,key:s,ref:o,props:i,_owner:C2.current}}Uf.Fragment=S2;Uf.jsx=g1;Uf.jsxs=g1;m1.exports=Uf;var Tr=m1.exports;const Jy=V.createContext({});function Zy(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const ev=typeof window<"u",y1=ev?V.useLayoutEffect:V.useEffect,jf=V.createContext(null);function tv(t,e){t.indexOf(e)===-1&&t.push(e)}function nv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const xr=(t,e,n)=>n>e?e:n<t?t:n;let rv=()=>{};const kr={},v1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _1(t){return typeof t=="object"&&t!==null}const w1=t=>/^0[^.\s]+$/u.test(t);function iv(t){let e;return()=>(e===void 0&&(e=t()),e)}const yn=t=>t,R2=(t,e)=>n=>e(t(n)),wu=(...t)=>t.reduce(R2),Fl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class sv{constructor(){this.subscriptions=[]}add(e){return tv(this.subscriptions,e),()=>nv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zn=t=>t*1e3,qn=t=>t/1e3;function E1(t,e){return e?t*(1e3/e):0}const T1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,x2=1e-7,k2=12;function b2(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=T1(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>x2&&++a<k2);return o}function Eu(t,e,n,r){if(t===e&&n===r)return yn;const i=s=>b2(s,0,1,t,n);return s=>s===0||s===1?s:T1(i(s),e,r)}const I1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,S1=t=>e=>1-t(1-e),A1=Eu(.33,1.53,.69,.99),ov=S1(A1),C1=I1(ov),P1=t=>(t*=2)<1?.5*ov(t):.5*(2-Math.pow(2,-10*(t-1))),av=t=>1-Math.sin(Math.acos(t)),R1=S1(av),x1=I1(av),V2=Eu(.42,0,1,1),D2=Eu(0,0,.58,1),k1=Eu(.42,0,.58,1),N2=t=>Array.isArray(t)&&typeof t[0]!="number",b1=t=>Array.isArray(t)&&typeof t[0]=="number",O2={linear:yn,easeIn:V2,easeInOut:k1,easeOut:D2,circIn:av,circInOut:x1,circOut:R1,backIn:ov,backInOut:C1,backOut:A1,anticipate:P1},M2=t=>typeof t=="string",_0=t=>{if(b1(t)){rv(t.length===4);const[e,n,r,i]=t;return Eu(e,n,r,i)}else if(M2(t))return O2[t];return t},Ic=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function L2(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(c.schedule(h),t()),h(a)}const c={schedule:(h,f=!1,d=!1)=>{const v=d&&i?n:r;return f&&o.add(h),v.has(h)||v.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(h))}};return c}const F2=40;function V1(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ic.reduce((E,x)=>(E[x]=L2(s),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:h,update:f,preRender:d,render:g,postRender:v}=o,_=()=>{const E=kr.useManualTiming?i.timestamp:performance.now();n=!1,kr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,F2),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),f.process(i),d.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},S=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:Ic.reduce((E,x)=>{const O=o[x];return E[x]=(F,A=!1,T=!1)=>(n||S(),O.schedule(F,A,T)),E},{}),cancel:E=>{for(let x=0;x<Ic.length;x++)o[Ic[x]].cancel(E)},state:i,steps:o}}const{schedule:xe,cancel:Ai,state:ft,steps:Ip}=V1(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0);let Kc;function U2(){Kc=void 0}const Kt={now:()=>(Kc===void 0&&Kt.set(ft.isProcessing||kr.useManualTiming?ft.timestamp:performance.now()),Kc),set:t=>{Kc=t,queueMicrotask(U2)}},D1=t=>e=>typeof e=="string"&&e.startsWith(t),lv=D1("--"),j2=D1("var(--"),uv=t=>j2(t)?$2.test(t.split("/*")[0].trim()):!1,$2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ul={...sa,transform:t=>xr(0,1,t)},Sc={...sa,default:1},ol=t=>Math.round(t*1e5)/1e5,cv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B2(t){return t==null}const z2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hv=(t,e)=>n=>!!(typeof n=="string"&&z2.test(n)&&n.startsWith(t)||e&&!B2(n)&&Object.prototype.hasOwnProperty.call(n,e)),N1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(cv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},q2=t=>xr(0,255,t),Sp={...sa,transform:t=>Math.round(q2(t))},ts={test:hv("rgb","red"),parse:N1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Sp.transform(t)+", "+Sp.transform(e)+", "+Sp.transform(n)+", "+ol(Ul.transform(r))+")"};function W2(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ig={test:hv("#"),parse:W2,transform:ts.transform},Tu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hr=Tu("deg"),Wn=Tu("%"),Z=Tu("px"),H2=Tu("vh"),G2=Tu("vw"),w0={...Wn,parse:t=>Wn.parse(t)/100,transform:t=>Wn.transform(t*100)},oo={test:hv("hsl","hue"),parse:N1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wn.transform(ol(e))+", "+Wn.transform(ol(n))+", "+ol(Ul.transform(r))+")"},Qe={test:t=>ts.test(t)||ig.test(t)||oo.test(t),parse:t=>ts.test(t)?ts.parse(t):oo.test(t)?oo.parse(t):ig.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ts.transform(t):oo.transform(t),getAnimatableNone:t=>{const e=Qe.parse(t);return e.alpha=0,Qe.transform(e)}},K2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Q2(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(cv))==null?void 0:e.length)||0)+(((n=t.match(K2))==null?void 0:n.length)||0)>0}const O1="number",M1="color",Y2="var",X2="var(",E0="${}",J2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(J2,l=>(Qe.test(l)?(r.color.push(s),i.push(M1),n.push(Qe.parse(l))):l.startsWith(X2)?(r.var.push(s),i.push(Y2),n.push(l)):(r.number.push(s),i.push(O1),n.push(parseFloat(l))),++s,E0)).split(E0);return{values:n,split:a,indexes:r,types:i}}function L1(t){return jl(t).values}function F1(t){const{split:e,types:n}=jl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===O1?s+=ol(i[o]):a===M1?s+=Qe.transform(i[o]):s+=i[o]}return s}}const Z2=t=>typeof t=="number"?0:Qe.test(t)?Qe.getAnimatableNone(t):t;function eM(t){const e=L1(t);return F1(t)(e.map(Z2))}const Ci={test:Q2,parse:L1,createTransformer:F1,getAnimatableNone:eM};function Ap(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Ap(l,a,t+1/3),s=Ap(l,a,t),o=Ap(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Uh(t,e){return n=>n>0?e:t}const De=(t,e,n)=>t+(e-t)*n,Cp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},nM=[ig,ts,oo],rM=t=>nM.find(e=>e.test(t));function T0(t){const e=rM(t);if(!e)return!1;let n=e.parse(t);return e===oo&&(n=tM(n)),n}const I0=(t,e)=>{const n=T0(t),r=T0(e);if(!n||!r)return Uh(t,e);const i={...n};return s=>(i.red=Cp(n.red,r.red,s),i.green=Cp(n.green,r.green,s),i.blue=Cp(n.blue,r.blue,s),i.alpha=De(n.alpha,r.alpha,s),ts.transform(i))},sg=new Set(["none","hidden"]);function iM(t,e){return sg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function sM(t,e){return n=>De(t,e,n)}function fv(t){return typeof t=="number"?sM:typeof t=="string"?uv(t)?Uh:Qe.test(t)?I0:lM:Array.isArray(t)?U1:typeof t=="object"?Qe.test(t)?I0:oM:Uh}function U1(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>fv(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function oM(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=fv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function aM(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const lM=(t,e)=>{const n=Ci.createTransformer(e),r=jl(t),i=jl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sg.has(t)&&!i.values.length||sg.has(e)&&!r.values.length?iM(t,e):wu(U1(aM(r,i),i.values),n):Uh(t,e)};function j1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?De(t,e,n):fv(t)(t,e)}const uM=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xe.update(e,n),stop:()=>Ai(e),now:()=>ft.isProcessing?ft.timestamp:Kt.now()}},$1=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},jh=2e4;function dv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<jh;)e+=n,r=t.next(e);return e>=jh?1/0:e}function cM(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(dv(r),jh);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:qn(i)}}const hM=5;function B1(t,e,n){const r=Math.max(e-hM,0);return E1(n-t(r),e-r)}const Fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pp=.001;function fM({duration:t=Fe.duration,bounce:e=Fe.bounce,velocity:n=Fe.velocity,mass:r=Fe.mass}){let i,s,o=1-e;o=xr(Fe.minDamping,Fe.maxDamping,o),t=xr(Fe.minDuration,Fe.maxDuration,qn(t)),o<1?(i=c=>{const h=c*o,f=h*t,d=h-n,g=og(c,o),v=Math.exp(-f);return Pp-d/g*v},s=c=>{const f=c*o*t,d=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-f),_=og(Math.pow(c,2),o);return(-i(c)+Pp>0?-1:1)*((d-g)*v)/_}):(i=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Pp+h*f},s=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,l=pM(i,s,a);if(t=zn(t),isNaN(l))return{stiffness:Fe.stiffness,damping:Fe.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const dM=12;function pM(t,e,n){let r=n;for(let i=1;i<dM;i++)r=r-t(r)/e(r);return r}function og(t,e){return t*Math.sqrt(1-e*e)}const mM=["duration","bounce"],gM=["stiffness","damping","mass"];function S0(t,e){return e.some(n=>t[n]!==void 0)}function yM(t){let e={velocity:Fe.velocity,stiffness:Fe.stiffness,damping:Fe.damping,mass:Fe.mass,isResolvedFromDuration:!1,...t};if(!S0(t,gM)&&S0(t,mM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*xr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Fe.mass,stiffness:i,damping:s}}else{const n=fM(t);e={...e,...n,mass:Fe.mass},e.isResolvedFromDuration=!0}return e}function $h(t=Fe.visualDuration,e=Fe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:f,velocity:d,isResolvedFromDuration:g}=yM({...n,velocity:-qn(n.velocity||0)}),v=d||0,_=c/(2*Math.sqrt(l*h)),S=o-s,w=qn(Math.sqrt(l/h)),y=Math.abs(S)<5;r||(r=y?Fe.restSpeed.granular:Fe.restSpeed.default),i||(i=y?Fe.restDelta.granular:Fe.restDelta.default);let E;if(_<1){const O=og(w,_);E=F=>{const A=Math.exp(-_*w*F);return o-A*((v+_*w*S)/O*Math.sin(O*F)+S*Math.cos(O*F))}}else if(_===1)E=O=>o-Math.exp(-w*O)*(S+(v+w*S)*O);else{const O=w*Math.sqrt(_*_-1);E=F=>{const A=Math.exp(-_*w*F),T=Math.min(O*F,300);return o-A*((v+_*w*S)*Math.sinh(T)+O*S*Math.cosh(T))/O}}const x={calculatedDuration:g&&f||null,next:O=>{const F=E(O);if(g)a.done=O>=f;else{let A=O===0?v:0;_<1&&(A=O===0?zn(v):B1(E,O,F));const T=Math.abs(A)<=r,C=Math.abs(o-F)<=i;a.done=T&&C}return a.value=a.done?o:F,a},toString:()=>{const O=Math.min(dv(x),jh),F=$1(A=>x.next(O*A).value,O,30);return O+"ms "+F},toTransition:()=>{}};return x}$h.applyToOptions=t=>{const e=cM(t,100,$h);return t.ease=e.ease,t.duration=zn(e.duration),t.type="keyframes",t};function ag({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],d={done:!1,value:f},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,v=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let _=n*e;const S=f+_,w=o===void 0?S:o(S);w!==S&&(_=w-f);const y=T=>-_*Math.exp(-T/r),E=T=>w+y(T),x=T=>{const C=y(T),P=E(T);d.done=Math.abs(C)<=c,d.value=d.done?w:P};let O,F;const A=T=>{g(d.value)&&(O=T,F=$h({keyframes:[d.value,v(d.value)],velocity:B1(E,T,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return A(0),{calculatedDuration:null,next:T=>{let C=!1;return!F&&O===void 0&&(C=!0,x(T),A(T)),O!==void 0&&T>=O?F.next(T-O):(!C&&x(T),d)}}}function vM(t,e,n){const r=[],i=n||kr.mix||j1,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||yn:e;a=wu(l,a)}r.push(a)}return r}function _M(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(rv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=vM(e,r,i),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const d=Fl(t[f],t[f+1],h);return a[f](d)};return n?h=>c(xr(t[0],t[s-1],h)):c}function wM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Fl(0,e,r);t.push(De(n,1,i))}}function EM(t){const e=[0];return wM(e,t.length-1),e}function TM(t,e){return t.map(n=>n*e)}function IM(t,e){return t.map(()=>e||k1).splice(0,t.length-1)}function al({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=N2(r)?r.map(_0):_0(r),s={done:!1,value:e[0]},o=TM(n&&n.length===e.length?n:EM(e),t),a=_M(o,e,{ease:Array.isArray(i)?i:IM(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const SM=t=>t!==null;function pv(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(SM),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const AM={decay:ag,inertia:ag,tween:al,keyframes:al,spring:$h};function z1(t){typeof t.type=="string"&&(t.type=AM[t.type])}class mv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const CM=t=>t/100;class gv extends mv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Kt.now()&&this.tick(Kt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;z1(e);const{type:n=al,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||al;l!==al&&typeof a[0]!="number"&&(this.mixKeyframes=wu(CM,j1(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=dv(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:f,repeatType:d,repeatDelay:g,type:v,onUpdate:_,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,x=r;if(f){const T=Math.min(this.currentTime,i)/a;let C=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(d==="reverse"?(P=1-P,g&&(P-=g/a)):d==="mirror"&&(x=o)),E=xr(0,1,P)*a}const O=y?{done:!1,value:h[0]}:x.next(E);s&&(O.value=s(O.value));let{done:F}=O;!y&&l!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return A&&v!==ag&&(O.value=pv(h,this.options,S,this.speed)),_&&_(O.value),A&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return qn(this.calculatedDuration)}get time(){return qn(this.currentTime)}set time(e){var n;e=zn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Kt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=uM,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function PM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ns=t=>t*180/Math.PI,lg=t=>{const e=ns(Math.atan2(t[1],t[0]));return ug(e)},RM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:lg,rotateZ:lg,skewX:t=>ns(Math.atan(t[1])),skewY:t=>ns(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ug=t=>(t=t%360,t<0&&(t+=360),t),A0=lg,C0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),P0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:C0,scaleY:P0,scale:t=>(C0(t)+P0(t))/2,rotateX:t=>ug(ns(Math.atan2(t[6],t[5]))),rotateY:t=>ug(ns(Math.atan2(-t[2],t[0]))),rotateZ:A0,rotate:A0,skewX:t=>ns(Math.atan(t[4])),skewY:t=>ns(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cg(t){return t.includes("scale")?1:0}function hg(t,e){if(!t||t==="none")return cg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=xM,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=RM,i=a}if(!i)return cg(e);const s=r[e],o=i[1].split(",").map(bM);return typeof s=="function"?s(o):o[s]}const kM=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return hg(n,e)};function bM(t){return parseFloat(t.trim())}const oa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],aa=new Set(oa),R0=t=>t===sa||t===Z,VM=new Set(["x","y","z"]),DM=oa.filter(t=>!VM.has(t));function NM(t){const e=[];return DM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const fs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>hg(e,"x"),y:(t,{transform:e})=>hg(e,"y")};fs.translateX=fs.x;fs.translateY=fs.y;const ds=new Set;let fg=!1,dg=!1,pg=!1;function q1(){if(dg){const t=Array.from(ds).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=NM(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dg=!1,fg=!1,ds.forEach(t=>t.complete(pg)),ds.clear()}function W1(){ds.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dg=!0)})}function OM(){pg=!0,W1(),q1(),pg=!1}class yv{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ds.add(this),fg||(fg=!0,xe.read(W1),xe.resolveKeyframes(q1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}PM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ds.delete(this)}cancel(){this.state==="scheduled"&&(ds.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const MM=t=>t.startsWith("--");function LM(t,e,n){MM(e)?t.style.setProperty(e,n):t.style[e]=n}const FM=iv(()=>window.ScrollTimeline!==void 0),UM={};function jM(t,e){const n=iv(t);return()=>UM[e]??n()}const H1=jM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,x0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wa([0,.65,.55,1]),circOut:Wa([.55,0,1,.45]),backIn:Wa([.31,.01,.66,-.59]),backOut:Wa([.33,1.53,.69,.99])};function G1(t,e){if(t)return typeof t=="function"?H1()?$1(t,e):"ease-out":b1(t)?Wa(t):Array.isArray(t)?t.map(n=>G1(n,e)||x0.easeOut):x0[t]}function $M(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const f=G1(a,i);Array.isArray(f)&&(h.easing=f);const d={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),t.animate(h,d)}function K1(t){return typeof t=="function"&&"applyToOptions"in t}function BM({type:t,...e}){return K1(t)&&H1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zM extends mv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,rv(typeof e.type!="string");const c=BM(e);this.animation=$M(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=pv(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):LM(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return qn(Number(e))}get time(){return qn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&FM()?(this.animation.timeline=e,yn):n(this)}}const Q1={anticipate:P1,backInOut:C1,circInOut:x1};function qM(t){return t in Q1}function WM(t){typeof t.ease=="string"&&qM(t.ease)&&(t.ease=Q1[t.ease])}const k0=10;class HM extends zM{constructor(e){WM(e),z1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new gv({...o,autoplay:!1}),l=zn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-k0).value,a.sample(l).value,k0),a.stop()}}const b0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ci.test(t)||t==="0")&&!t.startsWith("url("));function GM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function KM(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=b0(i,e),a=b0(s,e);return!o||!a?!1:GM(t)||(n==="spring"||K1(n))&&r}function mg(t){t.duration=0,t.type}const QM=new Set(["opacity","clipPath","filter","transform"]),YM=iv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XM(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return YM()&&n&&QM.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const JM=40;class ZM extends mv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:h,...f}){var v;super(),this.stop=()=>{var _,S;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Kt.now();const d={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:h,...f},g=(h==null?void 0:h.KeyframeResolver)||yv;this.keyframeResolver=new g(a,(_,S,w)=>this.onKeyframesResolved(_,S,d,!w),l,c,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=Kt.now(),KM(e,s,o,a)||((kr.instantAnimations||!l)&&(h==null||h(pv(e,r,n))),e[0]=e[e.length-1],mg(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>JM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&XM(d)?new HM({...d,element:d.motionValue.owner.current}):new gv(d);g.finished.then(()=>this.notifyFinished()).catch(yn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),OM()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const eL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tL(t){const e=eL.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Y1(t,e,n=1){const[r,i]=tL(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return v1(o)?parseFloat(o):o}return uv(i)?Y1(i,e,n+1):i}function vv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const X1=new Set(["width","height","top","left","right","bottom",...oa]),nL={test:t=>t==="auto",parse:t=>t},J1=t=>e=>e.test(t),Z1=[sa,Z,Wn,Hr,G2,H2,nL],V0=t=>Z1.find(J1(t));function rL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||w1(t):!0}const iL=new Set(["brightness","contrast","saturate","opacity"]);function sL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(cv)||[];if(!r)return t;const i=n.replace(r,"");let s=iL.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const oL=/\b([a-z-]*)\(.*?\)/gu,gg={...Ci,getAnimatableNone:t=>{const e=t.match(oL);return e?e.map(sL).join(" "):t}},D0={...sa,transform:Math.round},aL={rotate:Hr,rotateX:Hr,rotateY:Hr,rotateZ:Hr,scale:Sc,scaleX:Sc,scaleY:Sc,scaleZ:Sc,skew:Hr,skewX:Hr,skewY:Hr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Ul,originX:w0,originY:w0,originZ:Z},_v={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,backgroundPositionX:Z,backgroundPositionY:Z,...aL,zIndex:D0,fillOpacity:Ul,strokeOpacity:Ul,numOctaves:D0},lL={..._v,color:Qe,backgroundColor:Qe,outlineColor:Qe,fill:Qe,stroke:Qe,borderColor:Qe,borderTopColor:Qe,borderRightColor:Qe,borderBottomColor:Qe,borderLeftColor:Qe,filter:gg,WebkitFilter:gg},eP=t=>lL[t];function tP(t,e){let n=eP(t);return n!==gg&&(n=Ci),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uL=new Set(["auto","none","0"]);function cL(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!uL.has(s)&&jl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=tP(n,i)}class hL extends yv{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),uv(c))){const h=Y1(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!X1.has(r)||e.length!==2)return;const[i,s]=e,o=V0(i),a=V0(s);if(o!==a)if(R0(o)&&R0(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else fs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||rL(e[i]))&&r.push(i);r.length&&cL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=fs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function fL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const nP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function rP(t){return _1(t)&&"offsetHeight"in t}const N0=30,dL=t=>!isNaN(parseFloat(t));class pL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Kt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Kt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sv);const r=this.events[e].add(n);return e==="change"?()=>{r(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>N0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,N0);return E1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uo(t,e){return new pL(t,e)}const{schedule:wv}=V1(queueMicrotask,!1),Sn={x:!1,y:!1};function iP(){return Sn.x||Sn.y}function mL(t){return t==="x"||t==="y"?Sn[t]?null:(Sn[t]=!0,()=>{Sn[t]=!1}):Sn.x||Sn.y?null:(Sn.x=Sn.y=!0,()=>{Sn.x=Sn.y=!1})}function sP(t,e){const n=fL(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function O0(t){return!(t.pointerType==="touch"||iP())}function gL(t,e,n={}){const[r,i,s]=sP(t,n),o=a=>{if(!O0(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const h=f=>{O0(f)&&(c(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const oP=(t,e)=>e?t===e?!0:oP(t,e.parentElement):!1,Ev=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vL(t){return yL.has(t.tagName)||t.tabIndex!==-1}const Qc=new WeakSet;function M0(t){return e=>{e.key==="Enter"&&t(e)}}function Rp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _L=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=M0(()=>{if(Qc.has(n))return;Rp(n,"down");const i=M0(()=>{Rp(n,"up")}),s=()=>Rp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function L0(t){return Ev(t)&&!iP()}function wL(t,e,n={}){const[r,i,s]=sP(t,n),o=a=>{const l=a.currentTarget;if(!L0(a))return;Qc.add(l);const c=e(l,a),h=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),Qc.has(l)&&Qc.delete(l),L0(g)&&typeof c=="function"&&c(g,{success:v})},f=g=>{h(g,l===window||l===document||n.useGlobalTarget||oP(l,g.target))},d=g=>{h(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),rP(a)&&(a.addEventListener("focus",c=>_L(c,i)),!vL(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function aP(t){return _1(t)&&"ownerSVGElement"in t}function EL(t){return aP(t)&&t.tagName==="svg"}const Pt=t=>!!(t&&t.getVelocity),TL=[...Z1,Qe,Ci],IL=t=>TL.find(J1(t)),Tv=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class SL extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=rP(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AL({children:t,isPresent:e,anchorX:n,root:r}){const i=V.useId(),s=V.useRef(null),o=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=V.useContext(Tv);return V.useInsertionEffect(()=>{const{width:l,height:c,top:h,left:f,right:d}=o.current;if(e||!s.current||!l||!c)return;const g=n==="left"?`left: ${f}`:`right: ${d}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");a&&(v.nonce=a);const _=r??document.head;return _.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${g}px !important;
            top: ${h}px !important;
          }
        `),()=>{_.contains(v)&&_.removeChild(v)}},[e]),Tr.jsx(SL,{isPresent:e,childRef:s,sizeRef:o,children:V.cloneElement(t,{ref:s})})}const CL=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=Zy(PL),h=V.useId();let f=!0,d=V.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:g=>{c.set(g,!0);for(const v of c.values())if(!v)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return s&&f&&(d={...d}),V.useMemo(()=>{c.forEach((g,v)=>c.set(v,!1))},[n]),V.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=Tr.jsx(AL,{isPresent:n,anchorX:a,root:l,children:t})),Tr.jsx(jf.Provider,{value:d,children:t})};function PL(){return new Map}function lP(t=!0){const e=V.useContext(jf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=V.useId();V.useEffect(()=>{if(t)return i(s)},[t]);const o=V.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Ac=t=>t.key||"";function F0(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const uP=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,h]=lP(o),f=V.useMemo(()=>F0(t),[t]),d=o&&!c?[]:f.map(Ac),g=V.useRef(!0),v=V.useRef(f),_=Zy(()=>new Map),[S,w]=V.useState(f),[y,E]=V.useState(f);y1(()=>{g.current=!1,v.current=f;for(let F=0;F<y.length;F++){const A=Ac(y[F]);d.includes(A)?_.delete(A):_.get(A)!==!0&&_.set(A,!1)}},[y,d.length,d.join("-")]);const x=[];if(f!==S){let F=[...f];for(let A=0;A<y.length;A++){const T=y[A],C=Ac(T);d.includes(C)||(F.splice(A,0,T),x.push(T))}return s==="wait"&&x.length&&(F=x),E(F0(F)),w(f),null}const{forceRender:O}=V.useContext(Jy);return Tr.jsx(Tr.Fragment,{children:y.map(F=>{const A=Ac(F),T=o&&!c?!1:f===y||d.includes(A),C=()=>{if(_.has(A))_.set(A,!0);else return;let P=!0;_.forEach(k=>{k||(P=!1)}),P&&(O==null||O(),E(v.current),o&&(h==null||h()),r&&r())};return Tr.jsx(CL,{isPresent:T,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:T?void 0:C,anchorX:a,children:F},A)})})},cP=V.createContext({strict:!1}),U0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const t in U0)jo[t]={isEnabled:e=>U0[t].some(n=>!!e[n])};function RL(t){for(const e in t)jo[e]={...jo[e],...t[e]}}const xL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xL.has(t)}let hP=t=>!Bh(t);function kL(t){typeof t=="function"&&(hP=e=>e.startsWith("on")?!Bh(e):t(e))}try{kL(require("@emotion/is-prop-valid").default)}catch{}function bL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(hP(i)||n===!0&&Bh(i)||!e&&!Bh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const $f=V.createContext({});function Bf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $l(t){return typeof t=="string"||Array.isArray(t)}const Iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sv=["initial",...Iv];function zf(t){return Bf(t.animate)||Sv.some(e=>$l(t[e]))}function fP(t){return!!(zf(t)||t.variants)}function VL(t,e){if(zf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$l(n)?n:void 0,animate:$l(r)?r:void 0}}return t.inherit!==!1?e:{}}function DL(t){const{initial:e,animate:n}=VL(t,V.useContext($f));return V.useMemo(()=>({initial:e,animate:n}),[j0(e),j0(n)])}function j0(t){return Array.isArray(t)?t.join(" "):t}const Bl={};function NL(t){for(const e in t)Bl[e]=t[e],lv(e)&&(Bl[e].isCSSVariable=!0)}function dP(t,{layout:e,layoutId:n}){return aa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bl[t]||t==="opacity")}const OL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ML=oa.length;function LL(t,e,n){let r="",i=!0;for(let s=0;s<ML;s++){const o=oa[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=nP(a,_v[o]);if(!l){i=!1;const h=OL[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Av(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(aa.has(l)){o=!0;continue}else if(lv(l)){i[l]=c;continue}else{const h=nP(c,_v[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=LL(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}const Cv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pP(t,e,n){for(const r in e)!Pt(e[r])&&!dP(r,n)&&(t[r]=e[r])}function FL({transformTemplate:t},e){return V.useMemo(()=>{const n=Cv();return Av(n,e,t),Object.assign({},n.vars,n.style)},[e])}function UL(t,e){const n=t.style||{},r={};return pP(r,n,t),Object.assign(r,FL(t,e)),r}function jL(t,e){const n={},r=UL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const $L={offset:"stroke-dashoffset",array:"stroke-dasharray"},BL={offset:"strokeDashoffset",array:"strokeDasharray"};function zL(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?$L:BL;t[s.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[s.array]=`${o} ${a}`}function mP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,h){if(Av(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:d}=t;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&zL(f,i,s,o,!1)}const gP=()=>({...Cv(),attrs:{}}),yP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qL(t,e,n,r){const i=V.useMemo(()=>{const s=gP();return mP(s,e,yP(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};pP(s,t.style,t),i.style={...s,...i.style}}return i}const WL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pv(t){return typeof t!="string"||t.includes("-")?!1:!!(WL.indexOf(t)>-1||/[A-Z]/u.test(t))}function HL(t,e,n,{latestValues:r},i,s=!1){const a=(Pv(t)?qL:jL)(e,r,i,t),l=bL(e,typeof t=="string",s),c=t!==V.Fragment?{...l,...a,ref:n}:{},{children:h}=e,f=V.useMemo(()=>Pt(h)?h.get():h,[h]);return V.createElement(t,{...c,children:f})}function $0(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Rv(t,e,n,r){if(typeof e=="function"){const[i,s]=$0(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=$0(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Yc(t){return Pt(t)?t.get():t}function GL({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:KL(n,r,i,t),renderState:e()}}function KL(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=Yc(s[d]);let{initial:o,animate:a}=t;const l=zf(t),c=fP(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!Bf(f)){const d=Array.isArray(f)?f:[f];for(let g=0;g<d.length;g++){const v=Rv(t,d[g]);if(v){const{transitionEnd:_,transition:S,...w}=v;for(const y in w){let E=w[y];if(Array.isArray(E)){const x=h?E.length-1:0;E=E[x]}E!==null&&(i[y]=E)}for(const y in _)i[y]=_[y]}}}return i}const vP=t=>(e,n)=>{const r=V.useContext($f),i=V.useContext(jf),s=()=>GL(t,e,r,i);return n?s():Zy(s)};function xv(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Pt(r[o])||e.style&&Pt(e.style[o])||dP(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const QL=vP({scrapeMotionValuesFromProps:xv,createRenderState:Cv});function _P(t,e,n){const r=xv(t,e,n);for(const i in t)if(Pt(t[i])||Pt(e[i])){const s=oa.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const YL=vP({scrapeMotionValuesFromProps:_P,createRenderState:gP}),XL=Symbol.for("motionComponentSymbol");function ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function JL(t,e,n){return V.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ao(n)&&(n.current=r))},[e])}const kv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZL="framerAppearId",wP="data-"+kv(ZL),EP=V.createContext({});function eF(t,e,n,r,i){var _,S;const{visualElement:s}=V.useContext($f),o=V.useContext(cP),a=V.useContext(jf),l=V.useContext(Tv).reducedMotion,c=V.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,f=V.useContext(EP);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&tF(c.current,n,i,f);const d=V.useRef(!1);V.useInsertionEffect(()=>{h&&d.current&&h.update(n,a)});const g=n[wP],v=V.useRef(!!g&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,g))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,g)));return y1(()=>{h&&(d.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),v.current&&h.animationState&&h.animationState.animateChanges())}),V.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,g)}),v.current=!1),h.enteringChildren=void 0)}),h}function tF(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:TP(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ao(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function TP(t){if(t)return t.options.allowProjection!==!1?t.projection:TP(t.parent)}function xp(t,{forwardMotionProps:e=!1}={},n,r){n&&RL(n);const i=Pv(t)?YL:QL;function s(a,l){let c;const h={...V.useContext(Tv),...a,layoutId:nF(a)},{isStatic:f}=h,d=DL(a),g=i(a,f);if(!f&&ev){rF();const v=iF(h);c=v.MeasureLayout,d.visualElement=eF(t,g,h,r,v.ProjectionNode)}return Tr.jsxs($f.Provider,{value:d,children:[c&&d.visualElement?Tr.jsx(c,{visualElement:d.visualElement,...h}):null,HL(t,a,JL(g,d.visualElement,l),g,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=V.forwardRef(s);return o[XL]=t,o}function nF({layoutId:t}){const e=V.useContext(Jy).id;return e&&t!==void 0?e+"-"+t:t}function rF(t,e){V.useContext(cP).strict}function iF(t){const{drag:e,layout:n}=jo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function sF(t,e){if(typeof Proxy>"u")return xp;const n=new Map,r=(s,o)=>xp(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,xp(o,void 0,t,e)),n.get(o))})}function IP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function oF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function kp(t){return t===void 0||t===1}function yg({scale:t,scaleX:e,scaleY:n}){return!kp(t)||!kp(e)||!kp(n)}function Yi(t){return yg(t)||SP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function SP(t){return B0(t.x)||B0(t.y)}function B0(t){return t&&t!=="0%"}function zh(t,e,n){const r=t-n,i=e*r;return n+i}function z0(t,e,n,r,i){return i!==void 0&&(t=zh(t,i,r)),zh(t,n,r)+e}function vg(t,e=0,n=1,r,i){t.min=z0(t.min,e,n,r,i),t.max=z0(t.max,e,n,r,i)}function AP(t,{x:e,y:n}){vg(t.x,e.translate,e.scale,e.originPoint),vg(t.y,n.translate,n.scale,n.originPoint)}const q0=.999999999999,W0=1.0000000000001;function lF(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&uo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,AP(t,o)),r&&Yi(s.latestValues)&&uo(t,s.latestValues))}e.x<W0&&e.x>q0&&(e.x=1),e.y<W0&&e.y>q0&&(e.y=1)}function lo(t,e){t.min=t.min+e,t.max=t.max+e}function H0(t,e,n,r,i=.5){const s=De(t.min,t.max,i);vg(t,e,n,s,r)}function uo(t,e){H0(t.x,e.x,e.scaleX,e.scale,e.originX),H0(t.y,e.y,e.scaleY,e.scale,e.originY)}function CP(t,e){return IP(aF(t.getBoundingClientRect(),e))}function uF(t,e,n){const r=CP(t,n),{scroll:i}=e;return i&&(lo(r.x,i.offset.x),lo(r.y,i.offset.y)),r}const G0=()=>({translate:0,scale:1,origin:0,originPoint:0}),co=()=>({x:G0(),y:G0()}),K0=()=>({min:0,max:0}),qe=()=>({x:K0(),y:K0()}),_g={current:null},PP={current:!1};function cF(){if(PP.current=!0,!!ev)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_g.current=t.matches;t.addEventListener("change",e),e()}else _g.current=!1}const hF=new WeakMap;function fF(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Pt(i))t.addValue(r,i);else if(Pt(s))t.addValue(r,Uo(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Uo(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Q0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Kt.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,xe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=zf(n),this.isVariantNode=fP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const g=f[d];l[d]!==void 0&&Pt(g)&&g.set(l[d])}}mount(e){var n;this.current=e,hF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),PP.current||cF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_g.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ai(this.notifyUpdate),Ai(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=aa.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jo){const n=jo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Q0.length;r++){const i=Q0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=fF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Uo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(v1(r)||w1(r))?r=parseFloat(r):!IL(r)&&Ci.test(n)&&(r=tP(e,n)),this.setBaseTarget(e,Pt(r)?r.get():r)),Pt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Rv(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Pt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){wv.render(this.render)}}class RP extends dF{constructor(){super(...arguments),this.KeyframeResolver=hL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xP(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function pF(t){return window.getComputedStyle(t)}class mF extends RP{constructor(){super(...arguments),this.type="html",this.renderInstance=xP}readValueFromInstance(e,n){var r;if(aa.has(n))return(r=this.projection)!=null&&r.isProjecting?cg(n):kM(e,n);{const i=pF(e),s=(lv(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CP(e,n)}build(e,n,r){Av(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return xv(e,n,r)}}const kP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gF(t,e,n,r){xP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(kP.has(i)?i:kv(i),e.attrs[i])}class yF extends RP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(aa.has(n)){const r=eP(n);return r&&r.default||0}return n=kP.has(n)?n:kv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _P(e,n,r)}build(e,n,r){mP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){gF(e,n,r,i)}mount(e){this.isSVGTag=yP(e.tagName),super.mount(e)}}const vF=(t,e)=>Pv(t)?new yF(e):new mF(e,{allowProjection:t!==V.Fragment});function _o(t,e,n){const r=t.getProps();return Rv(r,e,n!==void 0?n:r.custom,t)}const wg=t=>Array.isArray(t);function _F(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Uo(n))}function wF(t){return wg(t)?t[t.length-1]||0:t}function EF(t,e){const n=_o(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=wF(s[o]);_F(t,o,a)}}function TF(t){return!!(Pt(t)&&t.add)}function Eg(t,e){const n=t.getValue("willChange");if(TF(n))return n.add(e);if(!n&&kr.WillChange){const r=new kr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function bP(t){return t.props[wP]}const IF=t=>t!==null;function SF(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(IF),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const AF={type:"spring",stiffness:500,damping:25,restSpeed:10},CF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),PF={type:"keyframes",duration:.8},RF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xF=(t,{keyframes:e})=>e.length>2?PF:aa.has(t)?t.startsWith("scale")?CF(e[1]):AF:RF;function kF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const bv=(t,e,n,r={},i,s)=>o=>{const a=vv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-zn(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};kF(a)||Object.assign(h,xF(t,h)),h.duration&&(h.duration=zn(h.duration)),h.repeatDelay&&(h.repeatDelay=zn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(mg(h),h.delay===0&&(f=!0)),(kr.instantAnimations||kr.skipAnimations)&&(f=!0,mg(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const d=SF(h.keyframes,a);if(d!==void 0){xe.update(()=>{h.onUpdate(d),h.onComplete()});return}}return a.isSync?new gv(h):new ZM(h)};function bF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function VP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h,t.latestValues[h]??null),d=a[h];if(d===void 0||c&&bF(c,h))continue;const g={delay:n,...vv(s||{},h)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===v&&!g.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const w=bP(t);if(w){const y=window.MotionHandoffAnimation(w,h,xe);y!==null&&(g.startTime=y,_=!0)}}Eg(t,h),f.start(bv(h,f,d,t.shouldReduceMotion&&X1.has(h)?{type:!1}:g,t,_));const S=f.animation;S&&l.push(S)}return o&&Promise.all(l).then(()=>{xe.update(()=>{o&&EF(t,o)})}),l}function DP(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Tg(t,e,n={}){var l;const r=_o(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(VP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:d}=i;return VF(t,e,c,h,f,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,h]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function VF(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Tg(l,e,{...o,delay:n+(typeof r=="function"?0:r)+DP(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function DF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Tg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Tg(t,e,n);else{const i=typeof e=="function"?_o(t,e,n.custom):e;r=Promise.all(VP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function NP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const NF=Sv.length;function OP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?OP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<NF;n++){const r=Sv[n],i=t.props[r];($l(i)||i===!1)&&(e[r]=i)}return e}const OF=[...Iv].reverse(),MF=Iv.length;function LF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>DF(t,n,r)))}function FF(t){let e=LF(t),n=Y0(),r=!0;const i=l=>(c,h)=>{var d;const f=_o(t,h,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:g,transitionEnd:v,..._}=f;c={...c,..._,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,h=OP(t.parent)||{},f=[],d=new Set;let g={},v=1/0;for(let S=0;S<MF;S++){const w=OF[S],y=n[w],E=c[w]!==void 0?c[w]:h[w],x=$l(E),O=w===l?y.isActive:null;O===!1&&(v=S);let F=E===h[w]&&E!==c[w]&&x;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),y.protectedKeys={...g},!y.isActive&&O===null||!E&&!y.prevProp||Bf(E)||typeof E=="boolean")continue;const A=UF(y.prevProp,E);let T=A||w===l&&y.isActive&&!F&&x||S>v&&x,C=!1;const P=Array.isArray(E)?E:[E];let k=P.reduce(i(w),{});O===!1&&(k={});const{prevResolvedValues:D={}}=y,R={...D,...k},Vt=ye=>{T=!0,d.has(ye)&&(C=!0,d.delete(ye)),y.needsAnimating[ye]=!0;const B=t.getValue(ye);B&&(B.liveStyle=!1)};for(const ye in R){const B=k[ye],K=D[ye];if(g.hasOwnProperty(ye))continue;let J=!1;wg(B)&&wg(K)?J=!NP(B,K):J=B!==K,J?B!=null?Vt(ye):d.add(ye):B!==void 0&&d.has(ye)?Vt(ye):y.protectedKeys[ye]=!0}y.prevProp=E,y.prevResolvedValues=k,y.isActive&&(g={...g,...k}),r&&t.blockInitialAnimation&&(T=!1);const On=F&&A;T&&(!On||C)&&f.push(...P.map(ye=>{const B={type:w};if(typeof ye=="string"&&r&&!On&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,J=_o(K,ye);if(K.enteringChildren&&J){const{delayChildren:Ie}=J.transition||{};B.delay=DP(K.enteringChildren,t,Ie)}}return{animation:ye,options:B}}))}if(d.size){const S={};if(typeof c.initial!="boolean"){const w=_o(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(S.transition=w.transition)}d.forEach(w=>{const y=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),S[w]=y??null}),f.push({animation:S})}let _=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(d=>{var g;return(g=d.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Y0(),r=!0}}}function UF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!NP(e,t):!1}function Gi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Y0(){return{animate:Gi(!0),whileInView:Gi(),whileHover:Gi(),whileTap:Gi(),whileDrag:Gi(),whileFocus:Gi(),exit:Gi()}}class Fi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jF extends Fi{constructor(e){super(e),e.animationState||(e.animationState=FF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $F=0;class BF extends Fi{constructor(){super(...arguments),this.id=$F++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zF={animation:{Feature:jF},exit:{Feature:BF}};function zl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Iu(t){return{point:{x:t.pageX,y:t.pageY}}}const qF=t=>e=>Ev(e)&&t(e,Iu(e));function ll(t,e,n,r){return zl(t,e,qF(n),r)}const MP=1e-4,WF=1-MP,HF=1+MP,LP=.01,GF=0-LP,KF=0+LP;function Mt(t){return t.max-t.min}function QF(t,e,n){return Math.abs(t-e)<=n}function X0(t,e,n,r=.5){t.origin=r,t.originPoint=De(e.min,e.max,t.origin),t.scale=Mt(n)/Mt(e),t.translate=De(n.min,n.max,t.origin)-t.originPoint,(t.scale>=WF&&t.scale<=HF||isNaN(t.scale))&&(t.scale=1),(t.translate>=GF&&t.translate<=KF||isNaN(t.translate))&&(t.translate=0)}function ul(t,e,n,r){X0(t.x,e.x,n.x,r?r.originX:void 0),X0(t.y,e.y,n.y,r?r.originY:void 0)}function J0(t,e,n){t.min=n.min+e.min,t.max=t.min+Mt(e)}function YF(t,e,n){J0(t.x,e.x,n.x),J0(t.y,e.y,n.y)}function Z0(t,e,n){t.min=e.min-n.min,t.max=t.min+Mt(e)}function cl(t,e,n){Z0(t.x,e.x,n.x),Z0(t.y,e.y,n.y)}function hn(t){return[t("x"),t("y")]}const FP=({current:t})=>t?t.ownerDocument.defaultView:null,eT=(t,e)=>Math.abs(t-e);function XF(t,e){const n=eT(t.x,e.x),r=eT(t.y,e.y);return Math.sqrt(n**2+r**2)}class UP{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Vp(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=XF(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:_}=d,{timestamp:S}=ft;this.history.push({..._,timestamp:S});const{onStart:w,onMove:y}=this.handlers;g||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,g)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=bp(g,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(d,g)=>{this.end();const{onEnd:v,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Vp(d.type==="pointercancel"?this.lastMoveEventInfo:bp(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(d,w),_&&_(d,w)},!Ev(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Iu(e),l=bp(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=ft;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,Vp(l,this.history)),this.removeListeners=wu(ll(this.contextWindow,"pointermove",this.handlePointerMove),ll(this.contextWindow,"pointerup",this.handlePointerUp),ll(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ai(this.updatePoint)}}function bp(t,e){return e?{point:e(t.point)}:t}function tT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vp({point:t},e){return{point:t,delta:tT(t,jP(e)),offset:tT(t,JF(e)),velocity:ZF(e,.1)}}function JF(t){return t[0]}function jP(t){return t[t.length-1]}function ZF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=jP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>zn(e)));)n--;if(!r)return{x:0,y:0};const s=qn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function e4(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?De(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?De(n,t,r.max):Math.min(t,n)),t}function nT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function t4(t,{top:e,left:n,bottom:r,right:i}){return{x:nT(t.x,n,i),y:nT(t.y,e,r)}}function rT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function n4(t,e){return{x:rT(t.x,e.x),y:rT(t.y,e.y)}}function r4(t,e){let n=.5;const r=Mt(t),i=Mt(e);return i>r?n=Fl(e.min,e.max-r,t.min):r>i&&(n=Fl(t.min,t.max-i,e.min)),xr(0,1,n)}function i4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ig=.35;function s4(t=Ig){return t===!1?t=0:t===!0&&(t=Ig),{x:iT(t,"left","right"),y:iT(t,"top","bottom")}}function iT(t,e,n){return{min:sT(t,e),max:sT(t,n)}}function sT(t,e){return typeof t=="number"?t:t[e]||0}const o4=new WeakMap;class a4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Iu(f).point)},o=(f,d)=>{const{drag:g,dragPropagation:v,onDragStart:_}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mL(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(w=>{let y=this.getAxisMotionValue(w).get()||0;if(Wn.test(y)){const{projection:E}=this.visualElement;if(E&&E.layout){const x=E.layout.layoutBox[w];x&&(y=Mt(x)*(parseFloat(y)/100))}}this.originPoint[w]=y}),_&&xe.postRender(()=>_(f,d)),Eg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:_,onDrag:S}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=d;if(v&&this.currentDirection===null){this.currentDirection=l4(w),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),S&&S(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>hn(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new UP(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:FP(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&xe.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Cc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=e4(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&ao(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=t4(r.layoutBox,e):this.constraints=!1,this.elastic=s4(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=i4(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ao(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=uF(r,i.root,this.visualElement.getTransformPagePoint());let o=n4(i.layout.layoutBox,s);if(n){const a=n(oF(o));this.hasMutatedConstraints=!!a,a&&(o=IP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=hn(h=>{if(!Cc(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const d=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:d,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Eg(this.visualElement,e),r.start(bv(e,r,0,n,this.visualElement,!1))}stopAnimation(){hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hn(n=>{const{drag:r}=this.getProps();if(!Cc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-De(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ao(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=r4({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hn(o=>{if(!Cc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(De(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;o4.set(this.visualElement,this);const e=this.visualElement.current,n=ll(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ao(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xe.read(r);const o=zl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(hn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Ig,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Cc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function l4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class u4 extends Fi{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new a4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const oT=t=>(e,n)=>{t&&xe.postRender(()=>t(e,n))};class c4 extends Fi{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new UP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:oT(e),onStart:oT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&xe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=ll(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ja={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=aT(t,e.target.x),r=aT(t,e.target.y);return`${n}% ${r}%`}},h4={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ci.parse(t);if(i.length>5)return r;const s=Ci.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=De(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let Dp=!1;class f4 extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;NL(d4),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Dp&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Xc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Dp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||xe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Dp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $P(t){const[e,n]=lP(),r=V.useContext(Jy);return Tr.jsx(f4,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(EP),isPresent:e,safeToRemove:n})}const d4={borderRadius:{...ja,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ja,borderTopRightRadius:ja,borderBottomLeftRadius:ja,borderBottomRightRadius:ja,boxShadow:h4};function p4(t,e,n){const r=Pt(t)?t:Uo(t);return r.start(bv("",r,e,n)),r.animation}const m4=(t,e)=>t.depth-e.depth;class g4{constructor(){this.children=[],this.isDirty=!1}add(e){tv(this.children,e),this.isDirty=!0}remove(e){nv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(m4),this.isDirty=!1,this.children.forEach(e)}}function y4(t,e){const n=Kt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ai(r),t(s-e))};return xe.setup(r,!0),()=>Ai(r)}const BP=["TopLeft","TopRight","BottomLeft","BottomRight"],v4=BP.length,lT=t=>typeof t=="string"?parseFloat(t):t,uT=t=>typeof t=="number"||Z.test(t);function _4(t,e,n,r,i,s){i?(t.opacity=De(0,n.opacity??1,w4(r)),t.opacityExit=De(e.opacity??1,0,E4(r))):s&&(t.opacity=De(e.opacity??1,n.opacity??1,r));for(let o=0;o<v4;o++){const a=`border${BP[o]}Radius`;let l=cT(e,a),c=cT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||uT(l)===uT(c)?(t[a]=Math.max(De(lT(l),lT(c),r),0),(Wn.test(c)||Wn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=De(e.rotate||0,n.rotate||0,r))}function cT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const w4=zP(0,.5,R1),E4=zP(.5,.95,yn);function zP(t,e,n){return r=>r<t?0:r>e?1:n(Fl(t,e,r))}function hT(t,e){t.min=e.min,t.max=e.max}function cn(t,e){hT(t.x,e.x),hT(t.y,e.y)}function fT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function dT(t,e,n,r,i){return t-=e,t=zh(t,1/n,r),i!==void 0&&(t=zh(t,1/i,r)),t}function T4(t,e=0,n=1,r=.5,i,s=t,o=t){if(Wn.test(e)&&(e=parseFloat(e),e=De(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=De(s.min,s.max,r);t===s&&(a-=e),t.min=dT(t.min,e,n,a,i),t.max=dT(t.max,e,n,a,i)}function pT(t,e,[n,r,i],s,o){T4(t,e[n],e[r],e[i],e.scale,s,o)}const I4=["x","scaleX","originX"],S4=["y","scaleY","originY"];function mT(t,e,n,r){pT(t.x,e,I4,n?n.x:void 0,r?r.x:void 0),pT(t.y,e,S4,n?n.y:void 0,r?r.y:void 0)}function gT(t){return t.translate===0&&t.scale===1}function qP(t){return gT(t.x)&&gT(t.y)}function yT(t,e){return t.min===e.min&&t.max===e.max}function A4(t,e){return yT(t.x,e.x)&&yT(t.y,e.y)}function vT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function WP(t,e){return vT(t.x,e.x)&&vT(t.y,e.y)}function _T(t){return Mt(t.x)/Mt(t.y)}function wT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class C4{constructor(){this.members=[]}add(e){tv(this.members,e),e.scheduleRender()}remove(e){if(nv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function P4(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:d,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Np=["","X","Y","Z"],R4=1e3;let x4=0;function Op(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function HP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xe,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&HP(r)}function GP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=x4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(V4),this.nodes.forEach(M4),this.nodes.forEach(L4),this.nodes.forEach(D4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new g4)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=aP(o)&&!EL(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,f=0;const d=()=>this.root.updateBlockedByResize=!1;xe.read(()=>{f=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,h&&h(),h=y4(d,250),Xc.hasAnimatedSinceResize&&(Xc.hasAnimatedSinceResize=!1,this.nodes.forEach(IT)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||B4,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=c.getProps(),w=!this.targetLayout||!WP(this.targetLayout,g),y=!f&&d;if(this.options.layoutRoot||this.resumeFrom||y||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...vv(v,"layout"),onPlay:_,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,y)}else f||IT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(F4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ET);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(TT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(O4),this.nodes.forEach(k4),this.nodes.forEach(b4)):this.nodes.forEach(TT),this.clearAllSnapshots();const a=Kt.now();ft.delta=xr(0,1e3/60,a-ft.timestamp),ft.timestamp=a,ft.isProcessing=!0,Ip.update.process(ft),Ip.preRender.process(ft),Ip.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N4),this.sharedNodes.forEach(U4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mt(this.snapshot.measuredBox.x)&&!Mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!qP(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Yi(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),z4(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return qe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(q4))){const{scroll:h}=this.root;h&&(lo(a.x,h.offset.x),lo(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=qe();if(cn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:d}=h;h!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&cn(a,o),lo(a.x,f.offset.x),lo(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=qe();cn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&uo(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Yi(h.latestValues)&&uo(l,h.latestValues)}return Yi(this.latestValues)&&uo(l,this.latestValues),l}removeTransform(o){const a=qe();cn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Yi(c.latestValues))continue;yg(c.latestValues)&&c.updateSnapshot();const h=qe(),f=c.measurePageBox();cn(h,f),mT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Yi(this.latestValues)&&mT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var d;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),cl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),AP(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),cl(this.relativeTargetOrigin,this.target,g.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yg(this.parent.latestValues)||SP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;cn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;lF(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=qe());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fT(this.prevProjectionDelta.x,this.projectionDelta.x),fT(this.prevProjectionDelta.y,this.projectionDelta.y)),ul(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!wT(this.projectionDelta.x,this.prevProjectionDelta.x)||!wT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=co(),this.projectionDelta=co(),this.projectionDeltaWithTransform=co()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=qe(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=g!==v,S=this.getStack(),w=!S||S.members.length<=1,y=!!(_&&!w&&this.options.crossfade===!0&&!this.path.some($4));this.animationProgress=0;let E;this.mixTargetDelta=x=>{const O=x/1e3;ST(f.x,o.x,O),ST(f.y,o.y,O),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cl(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j4(this.relativeTarget,this.relativeTargetOrigin,d,O),E&&A4(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=qe()),cn(E,this.relativeTarget)),_&&(this.animationValues=h,_4(h,c,this.latestValues,O,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{Xc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uo(0)),this.currentAnimation=p4(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(R4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&KP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||qe();const f=Mt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=Mt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}cn(a,l),uo(a,h),ul(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new C4),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Op("z",o,c,this.animationValues);for(let h=0;h<Np.length;h++)Op(`rotate${Np[h]}`,o,c,this.animationValues),Op(`skew${Np[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Yc(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Yc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=P4(this.projectionDeltaWithTransform,this.treeScale,h);l&&(f=l(h,f)),o.transform=f;const{x:d,y:g}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${g.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Bl){if(h[v]===void 0)continue;const{correct:_,applyTo:S,isCSSVariable:w}=Bl[v],y=f==="none"?h[v]:_(h[v],c);if(S){const E=S.length;for(let x=0;x<E;x++)o[S[x]]=y}else w?this.options.visualElement.renderState.vars[v]=y:o[v]=y}this.options.layoutId&&(o.pointerEvents=c===this?Yc(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(ET),this.root.sharedNodes.clear()}}}function k4(t){t.updateLayout()}function b4(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?hn(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],g=Mt(d);d.min=r[f].min,d.max=d.min+g}):KP(s,e.layoutBox,r)&&hn(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],g=Mt(r[f]);d.max=d.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=co();ul(a,r,e.layoutBox);const l=co();o?ul(l,t.applyTransform(i,!0),e.measuredBox):ul(l,r,e.layoutBox);const c=!qP(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:g}=f;if(d&&g){const v=qe();cl(v,e.layoutBox,d.layoutBox);const _=qe();cl(_,r,g.layoutBox),WP(v,_)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function V4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function D4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function N4(t){t.clearSnapshot()}function ET(t){t.clearMeasurements()}function TT(t){t.isLayoutDirty=!1}function O4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function M4(t){t.resolveTargetDelta()}function L4(t){t.calcProjection()}function F4(t){t.resetSkewAndRotation()}function U4(t){t.removeLeadSnapshot()}function ST(t,e,n){t.translate=De(e.translate,0,n),t.scale=De(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function AT(t,e,n,r){t.min=De(e.min,n.min,r),t.max=De(e.max,n.max,r)}function j4(t,e,n,r){AT(t.x,e.x,n.x,r),AT(t.y,e.y,n.y,r)}function $4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const B4={duration:.45,ease:[.4,0,.1,1]},CT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),PT=CT("applewebkit/")&&!CT("chrome/")?Math.round:yn;function RT(t){t.min=PT(t.min),t.max=PT(t.max)}function z4(t){RT(t.x),RT(t.y)}function KP(t,e,n){return t==="position"||t==="preserve-aspect"&&!QF(_T(e),_T(n),.2)}function q4(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const W4=GP({attachResizeListener:(t,e)=>zl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mp={current:void 0},QP=GP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mp.current){const t=new W4({});t.mount(window),t.setOptions({layoutScroll:!0}),Mp.current=t}return Mp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),H4={pan:{Feature:c4},drag:{Feature:u4,ProjectionNode:QP,MeasureLayout:$P}};function xT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&xe.postRender(()=>s(e,Iu(e)))}class G4 extends Fi{mount(){const{current:e}=this.node;e&&(this.unmount=gL(e,(n,r)=>(xT(this.node,r,"Start"),i=>xT(this.node,i,"End"))))}unmount(){}}class K4 extends Fi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wu(zl(this.node.current,"focus",()=>this.onFocus()),zl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&xe.postRender(()=>s(e,Iu(e)))}class Q4 extends Fi{mount(){const{current:e}=this.node;e&&(this.unmount=wL(e,(n,r)=>(kT(this.node,r,"Start"),(i,{success:s})=>kT(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sg=new WeakMap,Lp=new WeakMap,Y4=t=>{const e=Sg.get(t.target);e&&e(t)},X4=t=>{t.forEach(Y4)};function J4({root:t,...e}){const n=t||document;Lp.has(n)||Lp.set(n,{});const r=Lp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(X4,{root:t,...e})),r[i]}function Z4(t,e,n){const r=J4(e);return Sg.set(t,n),r.observe(t),()=>{Sg.delete(t),r.unobserve(t)}}const e3={some:0,all:1};class t3 extends Fi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:e3[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),d=c?h:f;d&&d(l)};return Z4(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(n3(e,n))&&this.startObserver()}unmount(){}}function n3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const r3={inView:{Feature:t3},tap:{Feature:Q4},focus:{Feature:K4},hover:{Feature:G4}},i3={layout:{ProjectionNode:QP,MeasureLayout:$P}},s3={...zF,...r3,...H4,...i3},mr=sF(s3,vF),o3="/gallery/logo.png?text=Local+Effort&font=mono",bT=[{path:"/services",name:"Services"},{path:"/pricing",name:"Pricing"},{path:"/menu",name:"Menus"},{path:"/about",name:"About"},{path:"/gallery",name:"Gallery"},{path:"/partner-portal",name:"Partner Portal"}],VT=!1,a3=()=>{const[t,e]=V.useState(!1);return V.useEffect(()=>(document.body.style.overflow=t?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[t]),M.createElement("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60 border-b border-neutral-200"},M.createElement("div",{className:"mx-auto max-w-6xl px-4 md:px-6 lg:px-8 h-16 flex items-center justify-between"},M.createElement(Tp,{to:"/",onClick:()=>e(!1),className:"flex items-center gap-2"},M.createElement(mr.img,{src:o3,alt:"Local Effort Logo",className:"h-9 w-auto",whileHover:{scale:1.03},transition:{type:"spring",stiffness:300,damping:20}})),M.createElement("nav",{className:"hidden md:flex items-center gap-2 font-mono text-[0.9rem]"},bT.map(({path:n,name:r})=>M.createElement(Tp,{key:n,to:n,className:"relative px-2 py-1 rounded"},({isActive:i})=>M.createElement(M.Fragment,null,M.createElement("span",{className:"transition-colors hover:text-neutral-900 text-neutral-700"},r),M.createElement(mr.span,{layoutId:"nav-underline",className:"absolute left-2 right-2 -bottom-0.5 h-0.5 bg-[var(--color-accent)]",initial:!1,animate:{opacity:i?1:0},transition:{duration:.2}})))),VT),M.createElement("button",{onClick:()=>e(n=>!n),className:"md:hidden z-50 w-9 h-7 flex flex-col justify-between","aria-label":"Toggle menu"},M.createElement("span",{className:`block h-0.5 w-full bg-black transition-transform ${t?"rotate-45 translate-y-[10px]":""}`}),M.createElement("span",{className:`block h-0.5 w-full bg-black transition-opacity ${t?"opacity-0":"opacity-100"}`}),M.createElement("span",{className:`block h-0.5 w-full bg-black transition-transform ${t?"-rotate-45 -translate-y-[10px]":""}`}))),M.createElement(uP,null,t&&M.createElement(mr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"md:hidden fixed inset-0 bg-neutral-50"},M.createElement(mr.nav,{initial:"hidden",animate:"show",exit:"hidden",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08,delayChildren:.12}}},className:"flex flex-col items-center justify-center h-full space-y-6 font-mono"},bT.map(n=>M.createElement(mr.div,{key:n.path,variants:{hidden:{y:10,opacity:0},show:{y:0,opacity:1}}},M.createElement(Tp,{to:n.path,onClick:()=>e(!1),className:"text-3xl uppercase"},n.name))),VT))))},l3=()=>M.createElement("footer",{className:"mt-16 border-t border-neutral-200"},M.createElement("div",{className:"mx-auto max-w-6xl px-4 md:px-6 lg:px-8 py-8 font-mono text-sm text-neutral-700"},M.createElement("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},M.createElement("div",null,M.createElement("p",null,"© ",new Date().getFullYear()," Local Effort"),M.createElement("p",{className:"text-neutral-500"},"Roseville, MN · Midwest")),M.createElement("div",{className:"flex gap-4"},M.createElement("a",{href:"https://instagram.com/localeffort",className:"underline underline-offset-4 hover:opacity-80"},"Instagram"),M.createElement("a",{href:"https://facebook.com/localeffort",className:"underline underline-offset-4 hover:opacity-80"},"Facebook"),M.createElement("a",{href:"https://www.thumbtack.com/mn/saint-paul/personal-chefs/weston-smith/service/429294230165643268",className:"underline underline-offset-4 hover:opacity-80"},"Thumbtack"),M.createElement("a",{href:"/partner-portal",className:"underline underline-offset-4 hover:opacity-80"},"Partner Portal"))))),YP=()=>M.createElement(mr.div,{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-red-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},M.createElement("div",{className:"text-center"},M.createElement(mr.div,{className:"w-16 h-16 mx-auto mb-4 border-4 border-orange-200 border-t-orange-500 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),M.createElement(mr.p,{className:"text-gray-600 font-medium",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2}},"Preparing something delicious..."))),Wq=Object.freeze(Object.defineProperty({__proto__:null,LoadingSpinner:YP},Symbol.toStringTag,{value:"Module"})),u3={initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.4,0,.2,1],staggerChildren:.1}},exit:{opacity:0,y:-20,scale:.98,transition:{duration:.4,ease:[.4,0,.2,1]}}},Hq={initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.4,0,.2,1]}},Gq={initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.4,0,.2,1]}},Kq={whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:25}},ct=({children:t})=>M.createElement(mr.div,{variants:u3,initial:"initial",animate:"animate",exit:"exit",className:"optimize-rendering"},t),XP=!(typeof navigator>"u")&&navigator.product==="ReactNative",JP={timeout:XP?6e4:12e4},c3=function(t){const e={...JP,...typeof t=="string"?{url:t}:t};if(e.timeout=ZP(e.timeout),e.query){const{url:n,searchParams:r}=function(i){const s=i.indexOf("?");if(s===-1)return{url:i,searchParams:new URLSearchParams};const o=i.slice(0,s),a=i.slice(s+1);if(!XP)return{url:o,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const l=new URLSearchParams;for(const c of a.split("&")){const[h,f]=c.split("=");h&&l.append(DT(h),DT(f||""))}return{url:o,searchParams:l}}(e.url);for(const[i,s]of Object.entries(e.query)){if(s!==void 0)if(Array.isArray(s))for(const a of s)r.append(i,a);else r.append(i,s);const o=r.toString();o&&(e.url=`${n}?${o}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function DT(t){return decodeURIComponent(t.replace(/\+/g," "))}function ZP(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?ZP(JP.timeout):{connect:e,socket:e}}const h3=/^https?:\/\//i,f3=function(t){if(!h3.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function eR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const d3=["request","response","progress","error","abort"],NT=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function tR(t,e){const n=[],r=NT.reduce((s,o)=>(s[o]=s[o]||[],s),{processOptions:[c3],validateOptions:[f3]});function i(s){const o=d3.reduce((g,v)=>(g[v]=function(){const _=Object.create(null);let S=0;return{publish:function(w){for(const y in _)_[y](w)},subscribe:function(w){const y=S++;return _[y]=w,function(){delete _[y]}}}}(),g),{}),a=(g=>function(v,_,...S){const w=v==="onError";let y=_;for(let E=0;E<g[v].length&&(y=(0,g[v][E])(y,...S),!w||y);E++);return y})(r),l=a("processOptions",s);a("validateOptions",l);const c={options:l,channels:o,applyMiddleware:a};let h;const f=o.request.subscribe(g=>{h=e(g,(v,_)=>((S,w,y)=>{let E=S,x=w;if(!E)try{x=a("onResponse",w,y)}catch(O){x=null,E=O}E=E&&a("onError",E,y),E?o.error.publish(E):x&&o.response.publish(x)})(v,_,g))});o.abort.subscribe(()=>{f(),h&&h.abort()});const d=a("onReturn",o,c);return d===o&&o.request.publish(c),d}return i.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return NT.forEach(o=>{s[o]&&r[o].push(s[o])}),n.push(s),i},i.clone=()=>tR(n,e),t.forEach(i.use),i}var OT,MT,p3=eR(function(){if(MT)return OT;MT=1;var t=function(n){return n.replace(/^\s+|\s+$/g,"")},e=function(n){return Object.prototype.toString.call(n)==="[object Array]"};return OT=function(n){if(!n)return{};for(var r=Object.create(null),i=t(n).split(`
`),s=0;s<i.length;s++){var o=i[s],a=o.indexOf(":"),l=t(o.slice(0,a)).toLowerCase(),c=t(o.slice(a+1));typeof r[l]>"u"?r[l]=c:e(r[l])?r[l].push(c):r[l]=[r[l],c]}return r}}()),eu,tu,Co,nu,ur,ru,iu,jS;let Ag=(jS=class{constructor(){Q(this,"onabort");Q(this,"onerror");Q(this,"onreadystatechange");Q(this,"ontimeout");Q(this,"readyState",0);Q(this,"response");Q(this,"responseText","");Q(this,"responseType","");Q(this,"status");Q(this,"statusText");Q(this,"withCredentials");ie(this,eu);ie(this,tu);ie(this,Co);ie(this,nu,{});ie(this,ur);ie(this,ru,{});ie(this,iu)}open(e,n,r){var i;re(this,eu,e),re(this,tu,n),re(this,Co,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),re(this,ur,void 0)}abort(){b(this,ur)&&b(this,ur).abort()}getAllResponseHeaders(){return b(this,Co)}setRequestHeader(e,n){b(this,nu)[e]=n}setInit(e,n=!0){re(this,ru,e),re(this,iu,n)}send(e){const n=this.responseType!=="arraybuffer",r={...b(this,ru),method:b(this,eu),headers:b(this,nu),body:e};typeof AbortController=="function"&&b(this,iu)&&(re(this,ur,new AbortController),typeof EventTarget<"u"&&b(this,ur).signal instanceof EventTarget&&(r.signal=b(this,ur).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(b(this,tu),r).then(i=>{var s;return i.headers.forEach((o,a)=>{re(this,Co,b(this,Co)+`${a}: ${o}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(s=this.onreadystatechange)==null||s.call(this),n?i.text():i.arrayBuffer()}).then(i=>{var s;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(s=this.onreadystatechange)==null||s.call(this)}).catch(i=>{var s,o;i.name!=="AbortError"?(s=this.onerror)==null||s.call(this,i):(o=this.onabort)==null||o.call(this)})}},eu=new WeakMap,tu=new WeakMap,Co=new WeakMap,nu=new WeakMap,ur=new WeakMap,ru=new WeakMap,iu=new WeakMap,jS);const Cg=typeof XMLHttpRequest=="function"?"xhr":"fetch",m3=Cg==="xhr"?XMLHttpRequest:Ag,g3=(t,e)=>{const n=t.options,r=t.applyMiddleware("finalizeOptions",n),i={},s=t.applyMiddleware("interceptRequest",void 0,{adapter:Cg,context:t});if(s){const _=setTimeout(e,0,null,s);return{abort:()=>clearTimeout(_)}}let o=new m3;o instanceof Ag&&typeof r.fetch=="object"&&o.setInit(r.fetch,r.useAbortSignal??!0);const a=r.headers,l=r.timeout;let c=!1,h=!1,f=!1;if(o.onerror=_=>{v(o instanceof Ag?_ instanceof Error?_:new Error(`Request error while attempting to reach is ${r.url}`,{cause:_}):new Error(`Request error while attempting to reach is ${r.url}${_.lengthComputable?`(${_.loaded} of ${_.total} bytes transferred)`:""}`))},o.ontimeout=_=>{v(new Error(`Request timeout while attempting to reach ${r.url}${_.lengthComputable?`(${_.loaded} of ${_.total} bytes transferred)`:""}`))},o.onabort=()=>{g(!0),c=!0},o.onreadystatechange=function(){l&&(g(),i.socket=setTimeout(()=>d("ESOCKETTIMEDOUT"),l.socket)),!c&&o&&o.readyState===4&&o.status!==0&&function(){if(!(c||h||f)){if(o.status===0)return void v(new Error("Unknown XHR error"));g(),h=!0,e(null,{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:r.url,method:r.method,headers:p3(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}}()},o.open(r.method,r.url,!0),o.withCredentials=!!r.withCredentials,a&&o.setRequestHeader)for(const _ in a)a.hasOwnProperty(_)&&o.setRequestHeader(_,a[_]);return r.rawBody&&(o.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:r,adapter:Cg,request:o,context:t}),o.send(r.body||null),l&&(i.connect=setTimeout(()=>d("ETIMEDOUT"),l.connect)),{abort:function(){c=!0,o&&o.abort()}};function d(_){f=!0,o.abort();const S=new Error(_==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);S.code=_,t.channels.error.publish(S)}function g(_){(_||c||o&&o.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function v(_){if(h)return;g(!0),h=!0,o=null;const S=_||new Error(`Network error while attempting to reach ${r.url}`);S.isNetworkError=!0,S.request=r,e(S)}},y3=(t=[],e=g3)=>tR(t,e);var v3={},LT,FT,UT,jT,$T,Fp={exports:{}};$T||($T=1,function(t,e){e.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let s=0,o=0;r[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(s++,a==="%c"&&(o=s))}),r.splice(o,0,i)},e.save=function(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}},e.load=function(){let r;try{r=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=v3.DEBUG),r},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=(jT?UT:(jT=1,UT=function(r){function i(a){let l,c,h,f=null;function d(...g){if(!d.enabled)return;const v=d,_=Number(new Date),S=_-(l||_);v.diff=S,v.prev=l,v.curr=_,l=_,g[0]=i.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let w=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(y,E)=>{if(y==="%%")return"%";w++;const x=i.formatters[E];if(typeof x=="function"){const O=g[w];y=x.call(v,O),g.splice(w,1),w--}return y}),i.formatArgs.call(v,g),(v.log||i.log).apply(v,g)}return d.namespace=a,d.useColors=i.useColors(),d.color=i.selectColor(a),d.extend=s,d.destroy=i.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(c!==i.namespaces&&(c=i.namespaces,h=i.enabled(a)),h),set:g=>{f=g}}),typeof i.init=="function"&&i.init(d),d}function s(a,l){const c=i(this.namespace+(typeof l>"u"?":":l)+a);return c.log=this.log,c}function o(a,l){let c=0,h=0,f=-1,d=0;for(;c<a.length;)if(h<l.length&&(l[h]===a[c]||l[h]==="*"))l[h]==="*"?(f=h,d=c,h++):(c++,h++);else{if(f===-1)return!1;h=f+1,d++,c=d}for(;h<l.length&&l[h]==="*";)h++;return h===l.length}return i.debug=i,i.default=i,i.coerce=function(a){return a instanceof Error?a.stack||a.message:a},i.disable=function(){const a=[...i.names,...i.skips.map(l=>"-"+l)].join(",");return i.enable(""),a},i.enable=function(a){i.save(a),i.namespaces=a,i.names=[],i.skips=[];const l=(typeof a=="string"?a:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const c of l)c[0]==="-"?i.skips.push(c.slice(1)):i.names.push(c)},i.enabled=function(a){for(const l of i.skips)if(o(a,l))return!1;for(const l of i.names)if(o(a,l))return!0;return!1},i.humanize=function(){if(FT)return LT;FT=1;var a=1e3,l=60*a,c=60*l,h=24*c,f=7*h;function d(g,v,_,S){var w=v>=1.5*_;return Math.round(g/_)+" "+S+(w?"s":"")}return LT=function(g,v){v=v||{};var _,S,w=typeof g;if(w==="string"&&g.length>0)return function(y){if(!((y=String(y)).length>100)){var E=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(E){var x=parseFloat(E[1]);switch((E[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*x;case"weeks":case"week":case"w":return x*f;case"days":case"day":case"d":return x*h;case"hours":case"hour":case"hrs":case"hr":case"h":return x*c;case"minutes":case"minute":case"mins":case"min":case"m":return x*l;case"seconds":case"second":case"secs":case"sec":case"s":return x*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return x;default:return}}}}(g);if(w==="number"&&isFinite(g))return v.long?(_=g,(S=Math.abs(_))>=h?d(_,S,h,"day"):S>=c?d(_,S,c,"hour"):S>=l?d(_,S,l,"minute"):S>=a?d(_,S,a,"second"):_+" ms"):function(y){var E=Math.abs(y);return E>=h?Math.round(y/h)+"d":E>=c?Math.round(y/c)+"h":E>=l?Math.round(y/l)+"m":E>=a?Math.round(y/a)+"s":y+"ms"}(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(a=>{i[a]=r[a]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(a){let l=0;for(let c=0;c<a.length;c++)l=(l<<5)-l+a.charCodeAt(c),l|=0;return i.colors[Math.abs(l)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:n}=t.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(Fp,Fp.exports)),Fp.exports;const _3=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function BT(t){return Object.prototype.toString.call(t)==="[object Object]"}function w3(t){if(BT(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(BT(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}const E3=["boolean","string","number"];function T3(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||_3(e)||E3.indexOf(typeof e)===-1&&!Array.isArray(e)&&!w3(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function I3(t){return{onResponse:n=>{const r=n.headers["content-type"]||"",i=t&&t.force||r.indexOf("application/json")!==-1;return n.body&&r&&i?Object.assign({},n,{body:e(n.body)}):n},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function e(n){try{return JSON.parse(n)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let Ha={};typeof globalThis<"u"?Ha=globalThis:typeof window<"u"?Ha=window:typeof global<"u"?Ha=global:typeof self<"u"&&(Ha=self);var S3=Ha;function A3(t={}){const e=t.implementation||S3.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new e(i=>(n.error.subscribe(s=>i.error(s)),n.progress.subscribe(s=>i.next(Object.assign({type:"progress"},s))),n.response.subscribe(s=>{i.next(Object.assign({type:"response"},s)),i.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function C3(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,n=t.context;function r(i){return s=>{const o=s.lengthComputable?s.loaded/s.total*100:-1;n.channels.progress.publish({stage:i,percent:o,total:s.total,loaded:s.loaded,lengthComputable:s.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"))}}}var nR=(t,e,n)=>(n.method==="GET"||n.method==="HEAD")&&(t.isNetworkError||!1);function P3(t){return 100*Math.pow(2,t)+100*Math.random()}const Vv=(t={})=>(e=>{const n=e.maxRetries||5,r=e.retryDelay||P3,i=e.shouldRetry;return{onError:(s,o)=>{const a=o.options,l=a.maxRetries||n,c=a.retryDelay||r,h=a.shouldRetry||i,f=a.attemptNumber||0;if((d=a.body)!==null&&typeof d=="object"&&typeof d.pipe=="function"||!h(s,f,a)||f>=l)return s;var d;const g=Object.assign({},o,{options:Object.assign({},a,{attemptNumber:f+1})});return setTimeout(()=>o.channels.request.publish(g),c(f)),null}}})({shouldRetry:nR,...t});Vv.shouldRetry=nR;var Pg=function(t,e){return Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Pg(t,e)};function Ur(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function R3(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function rR(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function $o(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function br(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Vr(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function wo(t){return this instanceof wo?(this.v=t,this):new wo(t)}function x3(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(v){return Promise.resolve(v).then(g,f)}}function a(g,v){r[g]&&(i[g]=function(_){return new Promise(function(S,w){s.push([g,_,S,w])>1||l(g,_)})},v&&(i[g]=v(i[g])))}function l(g,v){try{c(r[g](v))}catch(_){d(s[0][3],_)}}function c(g){g.value instanceof wo?Promise.resolve(g.value.v).then(h,f):d(s[0][2],g)}function h(g){l("next",g)}function f(g){l("throw",g)}function d(g,v){g(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function k3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $o=="function"?$o(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function ke(t){return typeof t=="function"}function Dv(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Up=Dv(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function qh(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Su=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=$o(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(_){e={error:_}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var h=this.initialTeardown;if(ke(h))try{h()}catch(_){s=_ instanceof Up?_.errors:[_]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=$o(f),g=d.next();!g.done;g=d.next()){var v=g.value;try{zT(v)}catch(_){s=s??[],_ instanceof Up?s=Vr(Vr([],br(s)),br(_.errors)):s.push(_)}}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new Up(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)zT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&qh(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&qh(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),iR=Su.EMPTY;function sR(t){return t instanceof Su||t&&"closed"in t&&ke(t.remove)&&ke(t.add)&&ke(t.unsubscribe)}function zT(t){ke(t)?t():t.unsubscribe()}var b3={Promise:void 0},V3={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Vr([t,e],br(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function oR(t){V3.setTimeout(function(){throw t})}function qT(){}function Jc(t){t()}var Nv=function(t){Ur(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,sR(n)&&n.add(r)):r.destination=O3,r}return e.create=function(n,r,i){return new Bo(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Su),D3=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Pc(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Pc(r)}else Pc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Pc(n)}},t}(),Bo=function(t){Ur(e,t);function e(n,r,i){var s=t.call(this)||this,o;return ke(n)||!n?o={next:n??void 0,error:r??void 0,complete:i??void 0}:o=n,s.destination=new D3(o),s}return e}(Nv);function Pc(t){oR(t)}function N3(t){throw t}var O3={closed:!0,next:qT,error:N3,complete:qT},Ov=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function qf(t){return t}function M3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return aR(t)}function aR(t){return t.length===0?qf:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Be=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=F3(e)?e:new Bo(e,n,r);return Jc(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=WT(n),new n(function(i,s){var o=new Bo({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[Ov]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return aR(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=WT(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function WT(t){var e;return(e=t??b3.Promise)!==null&&e!==void 0?e:Promise}function L3(t){return t&&ke(t.next)&&ke(t.error)&&ke(t.complete)}function F3(t){return t&&t instanceof Nv||L3(t)&&sR(t)}function U3(t){return ke(t==null?void 0:t.lift)}function Zn(t){return function(e){if(U3(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pi(t,e,n,r,i){return new j3(t,e,n,r,i)}var j3=function(t){Ur(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(c){try{r(c)}catch(h){n.error(h)}}:t.prototype._next,l._error=s?function(c){try{s(c)}catch(h){n.error(h)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Nv),$3=Dv(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Mv=function(t){Ur(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new HT(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new $3},e.prototype.next=function(n){var r=this;Jc(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=$o(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Jc(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Jc(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?iR:(this.currentObservers=null,a.push(n),new Su(function(){r.currentObservers=null,qh(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new Be;return n.source=this,n},e.create=function(n,r){return new HT(n,r)},e}(Be),HT=function(t){Ur(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:iR},e}(Mv),Lv={now:function(){return(Lv.delegate||Date).now()},delegate:void 0},B3=function(t){Ur(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Lv);var s=t.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+l)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),l=0;l<a.length&&!n.closed;l+=s?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=i.now(),c=0,h=1;h<s.length&&s[h]<=l;h+=2)c=h;c&&s.splice(0,c+1)}},e}(Mv),z3=function(t){Ur(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Su),GT={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Vr([t,e],br(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},q3=function(t){Ur(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),GT.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&GT.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,qh(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(z3),KT=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=Lv.now,t}(),W3=function(t){Ur(e,t);function e(n,r){r===void 0&&(r=KT.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(KT),H3=new W3(q3),G3=H3,lR=new Be(function(t){return t.complete()});function K3(t){return t&&ke(t.schedule)}function Fv(t){return t[t.length-1]}function Q3(t){return ke(Fv(t))?t.pop():void 0}function Uv(t){return K3(Fv(t))?t.pop():void 0}function Y3(t,e){return typeof Fv(t)=="number"?t.pop():e}var uR=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function cR(t){return ke(t==null?void 0:t.then)}function hR(t){return ke(t[Ov])}function fR(t){return Symbol.asyncIterator&&ke(t==null?void 0:t[Symbol.asyncIterator])}function dR(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function X3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pR=X3();function mR(t){return ke(t==null?void 0:t[pR])}function gR(t){return x3(this,arguments,function(){var n,r,i,s;return rR(this,function(o){switch(o.label){case 0:n=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,wo(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,wo(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,wo(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function yR(t){return ke(t==null?void 0:t.getReader)}function er(t){if(t instanceof Be)return t;if(t!=null){if(hR(t))return J3(t);if(uR(t))return Z3(t);if(cR(t))return eU(t);if(fR(t))return vR(t);if(mR(t))return tU(t);if(yR(t))return nU(t)}throw dR(t)}function J3(t){return new Be(function(e){var n=t[Ov]();if(ke(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Z3(t){return new Be(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function eU(t){return new Be(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,oR)})}function tU(t){return new Be(function(e){var n,r;try{for(var i=$o(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function vR(t){return new Be(function(e){rU(t,e).catch(function(n){return e.error(n)})})}function nU(t){return vR(gR(t))}function rU(t,e){var n,r,i,s;return R3(this,void 0,void 0,function(){var o,a;return rR(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=k3(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ps(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function _R(t,e){return e===void 0&&(e=0),Zn(function(n,r){n.subscribe(Pi(r,function(i){return ps(r,t,function(){return r.next(i)},e)},function(){return ps(r,t,function(){return r.complete()},e)},function(i){return ps(r,t,function(){return r.error(i)},e)}))})}function wR(t,e){return e===void 0&&(e=0),Zn(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function iU(t,e){return er(t).pipe(wR(e),_R(e))}function sU(t,e){return er(t).pipe(wR(e),_R(e))}function oU(t,e){return new Be(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function aU(t,e){return new Be(function(n){var r;return ps(n,e,function(){r=t[pR](),ps(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return ke(r==null?void 0:r.return)&&r.return()}})}function ER(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(function(n){ps(n,e,function(){var r=t[Symbol.asyncIterator]();ps(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function lU(t,e){return ER(gR(t),e)}function uU(t,e){if(t!=null){if(hR(t))return iU(t,e);if(uR(t))return oU(t,e);if(cR(t))return sU(t,e);if(fR(t))return ER(t,e);if(mR(t))return aU(t,e);if(yR(t))return lU(t,e)}throw dR(t)}function Au(t,e){return e?uU(t,e):er(t)}function Wf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Uv(t);return Au(t,n)}function TR(t,e){var n=ke(t)?t:function(){return t},r=function(i){return i.error(n())};return new Be(r)}function cU(t){return!!t&&(t instanceof Be||ke(t.lift)&&ke(t.subscribe))}var IR=Dv(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function oe(t,e){return new Promise(function(n,r){var i=!1,s;t.subscribe({next:function(o){s=o,i=!0},error:r,complete:function(){i?n(s):r(new IR)}})})}function jp(t,e){return new Promise(function(n,r){var i=new Bo({next:function(s){n(s),i.unsubscribe()},error:r,complete:function(){r(new IR)}});t.subscribe(i)})}function hU(t){return t instanceof Date&&!isNaN(t)}function xt(t,e){return Zn(function(n,r){var i=0;n.subscribe(Pi(r,function(s){r.next(t.call(e,s,i++))}))})}var fU=Array.isArray;function dU(t,e){return fU(e)?t.apply(void 0,Vr([],br(e))):t(e)}function pU(t){return xt(function(e){return dU(t,e)})}function mU(t,e,n){return n===void 0&&(n=qf),function(r){QT(e,function(){for(var i=t.length,s=new Array(i),o=i,a=i,l=function(h){QT(e,function(){var f=Au(t[h],e),d=!1;f.subscribe(Pi(r,function(g){s[h]=g,d||(d=!0,a--),a||r.next(n(s.slice()))},function(){--o||r.complete()}))},r)},c=0;c<i;c++)l(c)})}}function QT(t,e,n){e()}function gU(t,e,n,r,i,s,o,a){var l=[],c=0,h=0,f=!1,d=function(){f&&!l.length&&!c&&e.complete()},g=function(_){return c<r?v(_):l.push(_)},v=function(_){c++;var S=!1;er(n(_,h++)).subscribe(Pi(e,function(w){e.next(w)},function(){S=!0},void 0,function(){if(S)try{c--;for(var w=function(){var y=l.shift();o||v(y)};l.length&&c<r;)w();d()}catch(y){e.error(y)}}))};return t.subscribe(Pi(e,g,function(){f=!0,d()})),function(){}}function Cu(t,e,n){return n===void 0&&(n=1/0),ke(e)?Cu(function(r,i){return xt(function(s,o){return e(r,s,i,o)})(er(t(r,i)))},n):(typeof e=="number"&&(n=e),Zn(function(r,i){return gU(r,i,t,n)}))}function SR(t){return t===void 0&&(t=1/0),Cu(qf,t)}function yU(){return SR(1)}function AR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return yU()(Au(t,Uv(t)))}function CR(t){return new Be(function(e){er(t()).subscribe(e)})}function vU(t,e,n){return n===void 0&&(n=G3),new Be(function(r){var i=hU(t)?+t-n.now():t;i<0&&(i=0);var s=0;return n.schedule(function(){r.closed||(r.next(s++),r.complete())},i)})}function _U(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Uv(t),r=Y3(t,1/0),i=t;return i.length?i.length===1?er(i[0]):SR(r)(Au(i,n)):lR}var wU=Array.isArray;function EU(t){return t.length===1&&wU(t[0])?t[0]:t}function la(t,e){return Zn(function(n,r){var i=0;n.subscribe(Pi(r,function(s){return t.call(e,s,i++)&&r.next(s)}))})}function jv(t){return Zn(function(e,n){var r=null,i=!1,s;r=e.subscribe(Pi(n,void 0,void 0,function(o){s=er(t(o,jv(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function PR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Q3(t);return n?M3(PR.apply(void 0,Vr([],br(t))),pU(n)):Zn(function(r,i){mU(Vr([r],br(EU(t))))(i)})}function TU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return PR.apply(void 0,Vr([],br(t)))}function RR(t){return Zn(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function xR(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new Mv}:e,r=t.resetOnError,i=r===void 0?!0:r,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,l=a===void 0?!0:a;return function(c){var h,f,d,g=0,v=!1,_=!1,S=function(){f==null||f.unsubscribe(),f=void 0},w=function(){S(),h=d=void 0,v=_=!1},y=function(){var E=h;w(),E==null||E.unsubscribe()};return Zn(function(E,x){g++,!_&&!v&&S();var O=d=d??n();x.add(function(){g--,g===0&&!_&&!v&&(f=$p(y,l))}),O.subscribe(x),!h&&g>0&&(h=new Bo({next:function(F){return O.next(F)},error:function(F){_=!0,S(),f=$p(w,i,F),O.error(F)},complete:function(){v=!0,S(),f=$p(w,o),O.complete()}}),er(E).subscribe(h))})(c)}}function $p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new Bo({next:function(){i.unsubscribe(),t()}});return er(e.apply(void 0,Vr([],br(n)))).subscribe(i)}}function IU(t,e,n){var r,i=!1;return r=t,xR({connector:function(){return new B3(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function SU(t,e,n){var r=ke(t)||e||n?{next:t,error:e,complete:n}:t;return r?Zn(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(Pi(s,function(l){var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},function(){var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):qf}function kR(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var bR={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},$v={0:8203,1:8204,2:8205,3:65279},AU=new Array(4).fill(String.fromCodePoint($v[0])).join("");function CU(t){let e=JSON.stringify(t);return`${AU}${Array.from(e).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint($v[i])).join("")}).join("")}`}function PU(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function RU(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function Yq(t,e,n="auto"){return n===!0||n==="auto"&&(PU(t)||RU(t))?t:`${t}${CU(e)}`}Object.fromEntries(Object.entries($v).map(t=>t.reverse()));Object.fromEntries(Object.entries(bR).map(t=>t.reverse()));var xU=`${Object.values(bR).map(t=>`\\u{${t.toString(16)}}`).join("")}`,YT=new RegExp(`[${xU}]{4,}`,"gu");function kU(t){var e;return{cleaned:t.replace(YT,""),encoded:((e=t.match(YT))==null?void 0:e[0])||""}}function bU(t){return t&&JSON.parse(kU(JSON.stringify(t)).cleaned)}function VU(t){return bU(t)}const DU="drafts",NU="versions",zo=".",Wh=`${DU}${zo}`,VR=`${NU}${zo}`;function Hf(t){return t.startsWith(Wh)}function Gf(t){return t.startsWith(VR)}function DR(t){if(Gf(t)){const e=Kf(t);return Wh+e}return Hf(t)?t:Wh+t}function Pu(t,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${VR}${e}${zo}${Kf(t)}`}function NR(t){if(!Gf(t))return;const[e,n,...r]=t.split(zo);return n}function Kf(t){return Gf(t)?t.split(zo).slice(2).join(zo):Hf(t)?t.slice(Wh.length):t}let OU=t=>crypto.getRandomValues(new Uint8Array(t)),MU=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(s=e)=>{let o="";for(;;){let a=n(i),l=i|0;for(;l--;)if(o+=t[a[l]&r]||"",o.length===s)return o}}},LU=(t,e=21)=>MU(t,e,OU);const XT=/\r\n|[\n\r\u2028\u2029]/;function FU(t,e,n){const r=t.split(XT),i={start:JT(e.start,r),end:e.end?JT(e.end,r):void 0},{start:s,end:o,markerLines:a}=UU(i,r),l=`${o}`.length;return t.split(XT,o).slice(s,o).map((c,h)=>{const f=s+1+h,d=` ${` ${f}`.slice(-l)} |`,g=a[f],v=!a[f+1];if(!g)return` ${d}${c.length>0?` ${c}`:""}`;let _="";if(Array.isArray(g)){const S=c.slice(0,Math.max(g[0]-1,0)).replace(/[^\t]/g," "),w=g[1]||1;_=[`
 `,d.replace(/\d/g," ")," ",S,"^".repeat(w)].join(""),v&&n&&(_+=" "+n)}return[">",d,c.length>0?` ${c}`:"",_].join("")}).join(`
`)}function UU(t,e){const n={...t.start},r={...n,...t.end},i=2,s=3,o=n.line??-1,a=n.column??0,l=r.line,c=r.column;let h=Math.max(o-(i+1),0),f=Math.min(e.length,l+s);o===-1&&(h=0),l===-1&&(f=e.length);const d=l-o,g={};if(d)for(let v=0;v<=d;v++){const _=v+o;if(!a)g[_]=!0;else if(v===0){const S=e[_-1].length;g[_]=[a,S-a+1]}else if(v===d)g[_]=[0,c];else{const S=e[_-v].length;g[_]=[0,S]}}else a===c?a?g[o]=[a,0]:g[o]=!0:g[o]=[a,c-a];return{start:h,end:f,markerLines:g}}function JT(t,e){var r;let n=0;for(let i=0;i<e.length;i++){const s=e[i].length+1;if(n+s>t)return{line:i+1,column:t-n};n+=s}return{line:e.length,column:((r=e[e.length-1])==null?void 0:r.length)??0}}const Bp=5;class jU extends Error{constructor(n,r){const i=OR(n,r);super(i.message);Q(this,"response");Q(this,"statusCode",400);Q(this,"responseBody");Q(this,"details");Object.assign(this,i)}}class $U extends Error{constructor(n){const r=OR(n);super(r.message);Q(this,"response");Q(this,"statusCode",500);Q(this,"responseBody");Q(this,"details");Object.assign(this,r)}}function OR(t,e){var s,o;const n=t.body,r={response:t,statusCode:t.statusCode,responseBody:qU(n,t),message:"",details:void 0};if(!kR(n))return r.message=zp(t,n),r;const i=n.error;if(typeof i=="string"&&typeof n.message=="string")return r.message=`${i} - ${n.message}`,r;if(typeof i!="object"||i===null)return typeof i=="string"?r.message=i:typeof n.message=="string"?r.message=n.message:r.message=zp(t,n),r;if(BU(i)||zU(i)){const a=i.items||[],l=a.slice(0,Bp).map(h=>{var f;return(f=h.error)==null?void 0:f.description}).filter(Boolean);let c=l.length?`:
- ${l.join(`
- `)}`:"";return a.length>Bp&&(c+=`
...and ${a.length-Bp} more`),r.message=`${i.description}${c}`,r.details=n.error,r}if(MR(i)){const a=(o=(s=e==null?void 0:e.options)==null?void 0:s.query)==null?void 0:o.tag;return r.message=LR(i,a),r.details=n.error,r}return"description"in i&&typeof i.description=="string"?(r.message=i.description,r.details=i,r):(r.message=zp(t,n),r)}function BU(t){return"type"in t&&t.type==="mutationError"&&"description"in t&&typeof t.description=="string"}function zU(t){return"type"in t&&t.type==="actionError"&&"description"in t&&typeof t.description=="string"}function MR(t){return kR(t)&&t.type==="queryParseError"&&typeof t.query=="string"&&typeof t.start=="number"&&typeof t.end=="number"}function LR(t,e){const{query:n,start:r,end:i,description:s}=t;if(!n||typeof r>"u")return`GROQ query parse error: ${s}`;const o=e?`

Tag: ${e}`:"";return`GROQ query parse error:
${FU(n,{start:r,end:i},s)}${o}`}function zp(t,e){const n=typeof e=="string"?` (${WU(e,100)})`:"",r=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${r}${n}`}function qU(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}function WU(t,e){return t.length>e?`${t.slice(0,e)}…`:t}class HU extends Error{constructor({projectId:n}){super("CorsOriginError");Q(this,"projectId");Q(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=n;const r=new URL(`https://sanity.io/manage/project/${n}/api`);if(typeof location<"u"){const{origin:i}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",i),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}}const GU={onResponse:(t,e)=>{if(t.statusCode>=500)throw new $U(t);if(t.statusCode>=400)throw new jU(t,e);return t}};function KU(t={}){const e={},n=r=>t.ignoreWarnings===void 0?!1:(Array.isArray(t.ignoreWarnings)?t.ignoreWarnings:[t.ignoreWarnings]).some(i=>typeof i=="string"?r.includes(i):i instanceof RegExp?i.test(r):!1);return{onResponse:r=>{const i=r.headers["x-sanity-warning"],s=Array.isArray(i)?i:[i];for(const o of s)!o||e[o]||n(o)||(e[o]=!0,console.warn(o));return r}}}function ZT(t,e={}){return y3([Vv({shouldRetry:QU}),...t,KU(e),T3(),I3(),C3(),GU,A3({implementation:Be})])}function QU(t,e,n){if(n.maxRetries===0)return!1;const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(r||i)&&s?!0:Vv.shouldRetry(t,e,n)}const YU="https://www.sanity.io/help/";function Bv(t){return YU+t}const eI=["image","file"],tI=["before","after","replace"],FR=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},XU=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},JU=t=>{if(eI.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${eI.join(", ")}`)},hl=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},Hh=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},qo=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);Hh(t,e._id)},ZU=(t,e)=>{if(typeof e!="string")throw new Error(`\`${t}()\`: \`${e}\` is not a valid document type`)},UR=(t,e)=>{if(!e._type)throw new Error(`\`${t}()\` requires that the document contains a type (\`_type\` property)`);ZU(t,e._type)},e6=(t,e)=>{if(e._id&&e._id!==t)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${t}\`)`)},t6=(t,e,n)=>{const r="insert(at, selector, items)";if(tI.indexOf(t)===-1){const i=tI.map(s=>`"${s}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)},Vs=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},jR=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},$R=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{if(n.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},rs=(t,e)=>{if(e["~experimental_resource"])throw new Error(`\`${t}\` does not support resource-based operations`)};function n6(t){let e=!1,n;return(...r)=>(e||(n=t(...r),e=!0),n)}const Ui=t=>n6((...e)=>console.warn(t.join(" "),...e)),r6=Ui(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),i6=Ui(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),s6=Ui(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),o6=Ui(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),a6=Ui(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Bv("js-client-browser-token")} for more information and how to hide this warning.`]),l6=Ui(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),u6=Ui(["Using the Sanity client without specifying an API version is deprecated.",`See ${Bv("js-client-api-version")}`]),c6=Ui(["You have called `createVersion()` with a defined `document`. The recommended approach is to provide a `baseId` and `releaseId` instead."]),h6="apicdn.sanity.io",fl={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},f6=["localhost","127.0.0.1","0.0.0.0"],d6=t=>f6.indexOf(t)!==-1;function p6(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function BR(t){if(Array.isArray(t)&&t.length>1&&t.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const zR=(t,e)=>{const n={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||fl.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};n.apiVersion||u6();const r={...fl,...n},i=r.useProjectHostname&&!r["~experimental_resource"];if(typeof Promise>"u"){const d=Bv("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${d}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(r["~experimental_resource"]&&$R(r),typeof r.perspective<"u"&&BR(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const s=typeof window<"u"&&window.location&&window.location.hostname,o=s&&d6(window.location.hostname),a=!!r.token;r.withCredentials&&a&&(l6(),r.withCredentials=!1),s&&o&&a&&r.ignoreBrowserTokenWarning!==!0?a6():typeof r.useCdn>"u"&&i6(),i&&XU(r.projectId),r.dataset&&FR(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?jR(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===fl.apiHost,r.useCdn===!0&&r.withCredentials&&r6(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,p6(r.apiVersion);const l=r.apiHost.split("://",2),c=l[0],h=l[1],f=r.isDefaultApi?h6:h;return i?(r.url=`${c}://${r.projectId}.${h}/v${r.apiVersion}`,r.cdnUrl=`${c}://${r.projectId}.${f}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};class qR extends Error{constructor(){super(...arguments);Q(this,"name","ConnectionFailedError")}}class m6 extends Error{constructor(n,r,i={}){super(n,i);Q(this,"name","DisconnectError");Q(this,"reason");this.reason=r}}class g6 extends Error{constructor(n,r){super(n);Q(this,"name","ChannelError");Q(this,"data");this.data=r}}class y6 extends Error{constructor(n,r,i={}){super(n,i);Q(this,"name","MessageError");Q(this,"data");this.data=r}}class nI extends Error{constructor(){super(...arguments);Q(this,"name","MessageParseError")}}const v6=["channelError","disconnect"];function WR(t,e){return CR(()=>{const n=t();return cU(n)?n:Wf(n)}).pipe(Cu(n=>_6(n,e)))}function _6(t,e){return new Be(n=>{const r=e.includes("open"),i=e.includes("reconnect");function s(c){if("data"in c){const[h,f]=rI(c);n.error(h?new nI("Unable to parse EventSource error message",{cause:f}):new y6((f==null?void 0:f.data).message,f));return}t.readyState===t.CLOSED?n.error(new qR("EventSource connection failed")):i&&n.next({type:"reconnect"})}function o(){n.next({type:"open"})}function a(c){var d;const[h,f]=rI(c);if(h){n.error(new nI("Unable to parse EventSource message",{cause:h}));return}if(c.type==="channelError"){const g=new URL(t.url).searchParams.get("tag");n.error(new g6(w6(f==null?void 0:f.data,g),f.data));return}if(c.type==="disconnect"){n.error(new m6(`Server disconnected client: ${((d=f.data)==null?void 0:d.reason)||"unknown error"}`));return}n.next({type:c.type,id:c.lastEventId,...f.data?{data:f.data}:{}})}t.addEventListener("error",s),r&&t.addEventListener("open",o);const l=[...new Set([...v6,...e])].filter(c=>c!=="error"&&c!=="open"&&c!=="reconnect");return l.forEach(c=>t.addEventListener(c,a)),()=>{t.removeEventListener("error",s),r&&t.removeEventListener("open",o),l.forEach(c=>t.removeEventListener(c,a)),t.close()}})}function rI(t){try{const e=typeof t.data=="string"&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,...E6(e)?{}:{data:e}}]}catch(e){return[e,null]}}function w6(t,e){const n=t.error;return n?MR(n)?LR(n,e):n.description?n.description:typeof n=="string"?n:JSON.stringify(n,null,2):t.message||"Unknown listener error"}function E6(t){for(const e in t)return!1;return!0}function HR(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class GR{constructor(e,n={}){Q(this,"selection");Q(this,"operations");this.selection=e,this.operations=n}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return hl("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,n,r){return t6(e,n,r),this._assign("insert",{[e]:n,items:r})}append(e,n){return this.insert("after",`${e}[-1]`,n)}prepend(e,n){return this.insert("before",`${e}[0]`,n)}splice(e,n,r,i){const s=typeof r>"u"||r===-1,o=n<0?n-1:n,a=s?-1:Math.max(0,n+r),l=o<0&&a>=0?"":a,c=`${e}[${o}:${l}]`;return this.insert("replace",c,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...HR(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,n,r=!0){return hl(e,n),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},n)}),this}_set(e,n){return this._assign(e,n,!1)}}var os;const q_=class q_ extends GR{constructor(n,r,i){super(n,r);ie(this,os);re(this,os,i)}clone(){return new q_(this.selection,{...this.operations},b(this,os))}commit(n){if(!b(this,os))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return b(this,os).mutate({patch:this.serialize()},i)}};os=new WeakMap;let ms=q_;var as;const W_=class W_ extends GR{constructor(n,r,i){super(n,r);ie(this,as);re(this,as,i)}clone(){return new W_(this.selection,{...this.operations},b(this,as))}commit(n){if(!b(this,as))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return b(this,as).mutate({patch:this.serialize()},i)}};as=new WeakMap;let ai=W_;const KR={returnDocuments:!1};class QR{constructor(e=[],n){Q(this,"operations");Q(this,"trxId");this.operations=e,this.trxId=n}create(e){return hl("create",e),this._add({create:e})}createIfNotExists(e){const n="createIfNotExists";return hl(n,e),qo(n,e),this._add({[n]:e})}createOrReplace(e){const n="createOrReplace";return hl(n,e),qo(n,e),this._add({[n]:e})}delete(e){return Hh("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var cr;const H_=class H_ extends QR{constructor(n,r,i){super(n,i);ie(this,cr);re(this,cr,r)}clone(){return new H_([...this.operations],b(this,cr),this.trxId)}commit(n){if(!b(this,cr))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return b(this,cr).mutate(this.serialize(),Object.assign({transactionId:this.trxId},KR,n||{}))}patch(n,r){const i=typeof r=="function",s=typeof n!="string"&&n instanceof ai,o=typeof n=="object"&&("query"in n||"id"in n);if(s)return this._add({patch:n.serialize()});if(i){const a=r(new ai(n,{},b(this,cr)));if(!(a instanceof ai))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}if(o){const a=new ai(n,r||{},b(this,cr));return this._add({patch:a.serialize()})}return this._add({patch:{id:n,...r}})}};cr=new WeakMap;let Gh=H_;var ei;const G_=class G_ extends QR{constructor(n,r,i){super(n,i);ie(this,ei);re(this,ei,r)}clone(){return new G_([...this.operations],b(this,ei),this.trxId)}commit(n){if(!b(this,ei))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return b(this,ei).mutate(this.serialize(),Object.assign({transactionId:this.trxId},KR,n||{}))}patch(n,r){const i=typeof r=="function";if(typeof n!="string"&&n instanceof ms)return this._add({patch:n.serialize()});if(i){const s=r(new ms(n,{},b(this,ei)));if(!(s instanceof ms))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:n,...r}})}};ei=new WeakMap;let Kh=G_;const T6="X-Sanity-Project-ID";function I6(t,e={}){const n={};t.headers&&Object.assign(n,t.headers);const r=e.token||t.token;r&&(n.Authorization=`Bearer ${r}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(n[T6]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.withCredentials:e.withCredentials),s=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},n,e.headers||{}),timeout:typeof s>"u"?5*60*1e3:s,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const YR=({query:t,params:e={},options:n={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:s,returnQuery:o,...a}=n;i&&r.append("tag",i),r.append("query",t);for(const[l,c]of Object.entries(e))c!==void 0&&r.append(`$${l}`,JSON.stringify(c));for(const[l,c]of Object.entries(a))c&&r.append(l,`${c}`);return o===!1&&r.append("returnQuery","false"),s===!1&&r.append("includeMutations","false"),`?${r}`},S6=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,A6=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:S6(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),zv=t=>t.type==="response",C6=t=>t.body,P6=(t,e)=>t.reduce((n,r)=>(n[e(r)]=r,n),Object.create(null)),R6=11264;function XR(t,e,n,r,i={},s={}){const o="stega"in s?{...n||{},...typeof s.stega=="boolean"?{enabled:s.stega}:s.stega||{}}:n,a=o.enabled?VU(i):i,l=s.filterResponse===!1?v=>v:v=>v.result,{cache:c,next:h,...f}={useAbortSignal:typeof s.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":s.resultSourceMap,...s,returnQuery:s.filterResponse===!1&&s.returnQuery!==!1},d=typeof c<"u"||typeof h<"u"?{...f,fetch:{cache:c,next:h}}:f,g=Ds(t,e,"query",{query:r,params:a},d);return o.enabled?g.pipe(TU(Au(nt(()=>import("./stegaEncodeSourceMap-DRS6DD4O.js"),[]).then(function(v){return v.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:v})=>v))),xt(([v,_])=>{const S=_(v.result,v.resultSourceMap,o);return l({...v,result:S})})):g.pipe(xt(l))}function Qf(t,e,n,r={}){const i=(()=>{if(!r.releaseId)return n;const o=NR(n);if(!o){if(Hf(n))throw new Error(`The document ID (\`${n}\`) is a draft, but \`options.releaseId\` is set as \`${r.releaseId}\``);return Pu(n,r.releaseId)}if(o!==r.releaseId)throw new Error(`The document ID (\`${n}\`) is already a version of \`${o}\` release, but this does not match the provided \`options.releaseId\` (\`${r.releaseId}\`)`);return n})(),s={uri:En(t,"doc",i),json:!0,tag:r.tag,signal:r.signal};return xu(t,e,s).pipe(la(zv),xt(o=>o.body.documents&&o.body.documents[0]))}function JR(t,e,n,r={}){const i={uri:En(t,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal};return xu(t,e,i).pipe(la(zv),xt(s=>{const o=P6(s.body.documents||[],a=>a._id);return n.map(a=>o[a]||null)}))}function ZR(t,e,n,r={}){return Ds(t,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:n}},r)}function ex(t,e,n,r){return qo("createIfNotExists",n),Yf(t,e,n,"createIfNotExists",r)}function tx(t,e,n,r){return qo("createOrReplace",n),Yf(t,e,n,"createOrReplace",r)}function nx(t,e,n,r,i){return qo("createVersion",n),UR("createVersion",n),c6(),Ve(t,e,{actionType:"sanity.action.document.version.create",publishedId:r,document:n},i)}function rx(t,e,n,r,i,s,o){if(!r)throw new Error("`createVersion()` requires `baseId` when no `document` is provided");if(!n)throw new Error("`createVersion()` requires `publishedId` when `baseId` is provided");Hh("createVersion",r),Hh("createVersion",n);const a={actionType:"sanity.action.document.version.create",publishedId:n,baseId:r,versionId:i?Pu(n,i):DR(n),ifBaseRevisionId:s};return Ve(t,e,a,o)}function ix(t,e,n,r){return Ds(t,e,"mutate",{mutations:[{delete:HR(n)}]},r)}function sx(t,e,n,r=!1,i){return Ve(t,e,{actionType:"sanity.action.document.version.discard",versionId:n,purge:r},i)}function ox(t,e,n,r){return qo("replaceVersion",n),UR("replaceVersion",n),Ve(t,e,{actionType:"sanity.action.document.version.replace",document:n},r)}function ax(t,e,n,r,i){return Ve(t,e,{actionType:"sanity.action.document.version.unpublish",versionId:n,publishedId:r},i)}function lx(t,e,n,r){let i;n instanceof ai||n instanceof ms?i={patch:n.serialize()}:n instanceof Gh||n instanceof Kh?i=n.serialize():i=n;const s=Array.isArray(i)?i:[i],o=r&&r.transactionId||void 0;return Ds(t,e,"mutate",{mutations:s,transactionId:o},r)}function Ve(t,e,n,r){const i=Array.isArray(n)?n:[n],s=r&&r.transactionId||void 0,o=r&&r.skipCrossDatasetReferenceValidation||void 0,a=r&&r.dryRun||void 0;return Ds(t,e,"actions",{actions:i,transactionId:s,skipCrossDatasetReferenceValidation:o,dryRun:a},r)}function Ds(t,e,n,r,i={}){const s=n==="mutate",o=n==="actions",a=n==="query",l=s||o?"":YR(r),c=!s&&!o&&l.length<R6,h=c?l:"",f=i.returnFirst,{timeout:d,token:g,tag:v,headers:_,returnQuery:S,lastLiveEventId:w,cacheMode:y}=i,E=En(t,n,h),x={method:c?"GET":"POST",uri:E,json:!0,body:c?void 0:r,query:s&&A6(i),timeout:d,headers:_,token:g,tag:v,returnQuery:S,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(w)?w[0]:w,cacheMode:y,canUseCdn:a,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return xu(t,e,x).pipe(la(zv),xt(C6),xt(O=>{if(!s)return O;const F=O.results||[];if(i.returnDocuments)return f?F[0]&&F[0].document:F.map(C=>C.document);const A=f?"documentId":"documentIds",T=f?F[0]&&F[0].id:F.map(C=>C.id);return{transactionId:O.transactionId,results:F,[A]:T}}))}function Yf(t,e,n,r,i={}){const s={[r]:n},o=Object.assign({returnFirst:!0,returnDocuments:!0},i);return Ds(t,e,"mutate",{mutations:[s]},o)}const Ru=t=>t.config().dataset!==void 0&&t.config().projectId!==void 0||t.config()["~experimental_resource"]!==void 0,ux=(t,e)=>Ru(t)&&e.startsWith(En(t,"query")),x6=(t,e)=>Ru(t)&&e.startsWith(En(t,"mutate")),k6=(t,e)=>Ru(t)&&e.startsWith(En(t,"doc","")),b6=(t,e)=>Ru(t)&&e.startsWith(En(t,"listen")),V6=(t,e)=>Ru(t)&&e.startsWith(En(t,"history","")),D6=(t,e)=>e.startsWith("/data/")||ux(t,e)||x6(t,e)||k6(t,e)||b6(t,e)||V6(t,e);function xu(t,e,n){const r=n.url||n.uri,i=t.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&D6(t,r):n.canUseCdn;let o=(n.useCdn??i.useCdn)&&s;const a=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(a&&n.tag!==null&&(n.query={tag:jR(a),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&ux(t,r)){const h=n.resultSourceMap??i.resultSourceMap;h!==void 0&&h!==!1&&(n.query={resultSourceMap:h,...n.query});const f=n.perspective||i.perspective;typeof f<"u"&&(f==="previewDrafts"&&o6(),BR(f),n.query={perspective:Array.isArray(f)?f.join(","):f,...n.query},(Array.isArray(f)&&f.length>0||f==="previewDrafts"||f==="drafts")&&o&&(o=!1,s6())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),n.returnQuery===!1&&(n.query={returnQuery:"false",...n.query}),o&&n.cacheMode=="noStale"&&(n.query={cacheMode:"noStale",...n.query})}const l=I6(i,Object.assign({},n,{url:qv(t,r,o)})),c=new Be(h=>e(l,i.requester).subscribe(h));return n.signal?c.pipe(N6(n.signal)):c}function kt(t,e,n){return xu(t,e,n).pipe(la(r=>r.type==="response"),xt(r=>r.body))}function En(t,e,n){const r=t.config();if(r["~experimental_resource"]){$R(r);const o=L6(r),a=n!==void 0?`${e}/${n}`:e;return`${o}/${a}`.replace(/\/($|\?)/,"$1")}const i=Vs(r),s=`/${e}/${i}`;return`/data${n!==void 0?`${s}/${n}`:s}`.replace(/\/($|\?)/,"$1")}function qv(t,e,n=!1){const{url:r,cdnUrl:i}=t.config();return`${n?i:r}/${e.replace(/^\//,"")}`}function N6(t){return e=>new Be(n=>{const r=()=>n.error(M6(t));if(t&&t.aborted){r();return}const i=e.subscribe(n);return t.addEventListener("abort",r),()=>{t.removeEventListener("abort",r),i.unsubscribe()}})}const O6=!!globalThis.DOMException;function M6(t){if(O6)return new DOMException((t==null?void 0:t.reason)??"The operation was aborted.","AbortError");const e=new Error((t==null?void 0:t.reason)??"The operation was aborted.");return e.name="AbortError",e}const L6=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{const r=n.split(".");if(r.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${r[0]}/datasets/${r[1]}`}case"canvas":return`/canvases/${n}`;case"media-library":return`/media-libraries/${n}`;case"dashboard":return`/dashboards/${n}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function cx(t,e,n){const r=Vs(t.config());return kt(t,e,{method:"POST",uri:`/agent/action/generate/${r}`,body:n})}function F6(t,e,n){const r=Vs(t.config());return kt(t,e,{method:"POST",uri:`/agent/action/patch/${r}`,body:n})}function U6(t,e,n){const r=Vs(t.config());return kt(t,e,{method:"POST",uri:`/agent/action/prompt/${r}`,body:n})}function hx(t,e,n){const r=Vs(t.config());return kt(t,e,{method:"POST",uri:`/agent/action/transform/${r}`,body:n})}function fx(t,e,n){const r=Vs(t.config());return kt(t,e,{method:"POST",uri:`/agent/action/translate/${r}`,body:n})}var ls,us;class j6{constructor(e,n){ie(this,ls);ie(this,us);re(this,ls,e),re(this,us,n)}generate(e){return cx(b(this,ls),b(this,us),e)}transform(e){return hx(b(this,ls),b(this,us),e)}translate(e){return fx(b(this,ls),b(this,us),e)}}ls=new WeakMap,us=new WeakMap;var hr,fr;class $6{constructor(e,n){ie(this,hr);ie(this,fr);re(this,hr,e),re(this,fr,n)}generate(e){return oe(cx(b(this,hr),b(this,fr),e))}transform(e){return oe(hx(b(this,hr),b(this,fr),e))}translate(e){return oe(fx(b(this,hr),b(this,fr),e))}prompt(e){return oe(U6(b(this,hr),b(this,fr),e))}patch(e){return oe(F6(b(this,hr),b(this,fr),e))}}hr=new WeakMap,fr=new WeakMap;var su,ou;class B6{constructor(e,n){ie(this,su);ie(this,ou);re(this,su,e),re(this,ou,n)}upload(e,n,r){return dx(b(this,su),b(this,ou),e,n,r)}}su=new WeakMap,ou=new WeakMap;var au,lu;class z6{constructor(e,n){ie(this,au);ie(this,lu);re(this,au,e),re(this,lu,n)}upload(e,n,r){const i=dx(b(this,au),b(this,lu),e,n,r);return oe(i.pipe(la(s=>s.type==="response"),xt(s=>s.body.document)))}}au=new WeakMap,lu=new WeakMap;function dx(t,e,n,r,i={}){JU(n);let s=i.extract||void 0;s&&!s.length&&(s=["none"]);const o=t.config(),a=W6(i,r),{tag:l,label:c,title:h,description:f,creditLine:d,filename:g,source:v}=a,_={label:c,title:h,description:f,filename:g,meta:s,creditLine:d};return v&&(_.sourceId=v.id,_.sourceName=v.name,_.sourceUrl=v.url),xu(t,e,{tag:l,method:"POST",timeout:a.timeout||0,uri:q6(o,n),headers:a.contentType?{"Content-Type":a.contentType}:{},query:_,body:r})}function q6(t,e){const n=e==="image"?"images":"files";if(t["~experimental_resource"]){const{type:i,id:s}=t["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${s}/assets/${n}`;case"media-library":return`/media-libraries/${s}/upload`;case"dashboard":return`/dashboards/${s}/assets/${n}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const r=Vs(t);return`assets/${n}/${r}`}function W6(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var H6=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((n,r)=>(n[r]=typeof t[r]>"u"?e[r]:t[r],n),{});const G6=(t,e)=>e.reduce((n,r)=>(typeof t[r]>"u"||(n[r]=t[r]),n),{}),px=CR(()=>nt(()=>import("./browser-CdNwSEkz.js").then(t=>t.b),[])).pipe(xt(({default:t})=>t),IU(1));function mx(){return function(t){return t.pipe(jv((e,n)=>e instanceof qR?AR(Wf({type:"reconnect"}),vU(1e3).pipe(Cu(()=>n))):TR(()=>e)))}}const K6=14800,Q6=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],Y6={includeResult:!0};function gx(t,e,n={}){const{url:r,token:i,withCredentials:s,requestTagPrefix:o,headers:a}=this.config(),l=n.tag&&o?[o,n.tag].join("."):n.tag,c={...H6(n,Y6),tag:l},h=G6(c,Q6),f=YR({query:t,params:e,options:{tag:l,...h}}),d=`${r}${En(this,"listen",f)}`;if(d.length>K6)return TR(()=>new Error("Query too large for listener"));const g=c.events?c.events:["mutation"],v={};return s&&(v.withCredentials=!0),(i||a)&&(v.headers={},i&&(v.headers.Authorization=`Bearer ${i}`),a&&Object.assign(v.headers,a)),WR(()=>(typeof EventSource>"u"||v.headers?px:Wf(EventSource)).pipe(xt(_=>new _(d,v))),g).pipe(mx(),la(_=>g.includes(_.type)),xt(_=>({type:_.type,..."data"in _?_.data:{}})))}function X6(t,e){return J6(typeof t=="function"?{predicate:t,...e}:t)}function J6(t){return e=>{let n,r=!1;const{predicate:i,...s}=t,o=e.pipe(SU(l=>{t.predicate(l)&&(r=!0,n=l)}),RR(()=>{r=!1,n=void 0}),xR(s)),a=new Be(l=>{r&&l.next(n),l.complete()});return _U(o,a)}}const iI="2021-03-25";var ti;class yx{constructor(e){ie(this,ti);re(this,ti,e)}events({includeDrafts:e=!1,tag:n}={}){rs("live",b(this,ti).config());const{projectId:r,apiVersion:i,token:s,withCredentials:o,requestTagPrefix:a,headers:l}=b(this,ti).config(),c=i.replace(/^v/,"");if(c!=="X"&&c<iI)throw new Error(`The live events API requires API version ${iI} or later. The current API version is ${c}. Please update your API version to use this feature.`);if(e&&!s&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const h=En(b(this,ti),"live/events"),f=new URL(b(this,ti).getUrl(h,!1)),d=n&&a?[a,n].join("."):n;d&&f.searchParams.set("tag",d),e&&f.searchParams.set("includeDrafts","true");const g={};e&&o&&(g.withCredentials=!0),(e&&s||l)&&(g.headers={},e&&s&&(g.headers.Authorization=`Bearer ${s}`),l&&Object.assign(g.headers,l));const v=`${f.href}::${JSON.stringify(g)}`,_=qp.get(v);if(_)return _;const S=WR(()=>(typeof EventSource>"u"||g.headers?px:Wf(EventSource)).pipe(xt(E=>new E(f.href,g))),["message","restart","welcome","reconnect","goaway"]).pipe(mx(),xt(E=>{if(E.type==="message"){const{data:x,...O}=E;return{...O,tags:x.tags}}return E})),w=Z6(f,{method:"OPTIONS",mode:"cors",credentials:g.withCredentials?"include":"omit",headers:g.headers}).pipe(Cu(()=>lR),jv(()=>{throw new HU({projectId:r})})),y=AR(w,S).pipe(RR(()=>qp.delete(v)),X6({predicate:E=>E.type==="welcome"}));return qp.set(v,y),y}}ti=new WeakMap;function Z6(t,e){return new Be(n=>{const r=new AbortController,i=r.signal;return fetch(t,{...e,signal:r.signal}).then(s=>{n.next(s),n.complete()},s=>{i.aborted||n.error(s)}),()=>r.abort()})}const qp=new Map;var Un,ni;class ej{constructor(e,n){ie(this,Un);ie(this,ni);re(this,Un,e),re(this,ni,n)}create(e,n){return Eo(b(this,Un),b(this,ni),"PUT",e,n)}edit(e,n){return Eo(b(this,Un),b(this,ni),"PATCH",e,n)}delete(e){return Eo(b(this,Un),b(this,ni),"DELETE",e)}list(){rs("dataset",b(this,Un).config());const e=b(this,Un).config(),n=e.projectId;let r="/datasets";return e.useProjectHostname===!1&&(r=`/projects/${n}/datasets`),kt(b(this,Un),b(this,ni),{uri:r,tag:null})}}Un=new WeakMap,ni=new WeakMap;var en,ri;class tj{constructor(e,n){ie(this,en);ie(this,ri);re(this,en,e),re(this,ri,n)}create(e,n){return rs("dataset",b(this,en).config()),oe(Eo(b(this,en),b(this,ri),"PUT",e,n))}edit(e,n){return rs("dataset",b(this,en).config()),oe(Eo(b(this,en),b(this,ri),"PATCH",e,n))}delete(e){return rs("dataset",b(this,en).config()),oe(Eo(b(this,en),b(this,ri),"DELETE",e))}list(){rs("dataset",b(this,en).config());const e=b(this,en).config(),n=e.projectId;let r="/datasets";return e.useProjectHostname===!1&&(r=`/projects/${n}/datasets`),oe(kt(b(this,en),b(this,ri),{uri:r,tag:null}))}}en=new WeakMap,ri=new WeakMap;function Eo(t,e,n,r,i){return rs("dataset",t.config()),FR(r),kt(t,e,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}var Po,Ro;class nj{constructor(e,n){ie(this,Po);ie(this,Ro);re(this,Po,e),re(this,Ro,n)}list(e){const n={},r="/projects";return(e==null?void 0:e.includeMembers)===!1&&(n.includeMembers="false"),e!=null&&e.organizationId&&(n.organizationId=e.organizationId),kt(b(this,Po),b(this,Ro),{uri:r,query:n})}getById(e){return kt(b(this,Po),b(this,Ro),{uri:`/projects/${e}`})}}Po=new WeakMap,Ro=new WeakMap;var xo,ko;class rj{constructor(e,n){ie(this,xo);ie(this,ko);re(this,xo,e),re(this,ko,n)}list(e){const n={},r="/projects";return(e==null?void 0:e.includeMembers)===!1&&(n.includeMembers="false"),e!=null&&e.organizationId&&(n.organizationId=e.organizationId),oe(kt(b(this,xo),b(this,ko),{uri:r,query:n}))}getById(e){return oe(kt(b(this,xo),b(this,ko),{uri:`/projects/${e}`}))}}xo=new WeakMap,ko=new WeakMap;const sI=LU("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),Qh=(t,e)=>e?Pu(t,e):DR(t);function Yh(t,{releaseId:e,publishedId:n,document:r}){if(n&&r._id){const i=Qh(n,e);return e6(i,r),i}if(r._id){const i=Hf(r._id),s=Gf(r._id);if(!i&&!s)throw new Error(`\`${t}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(i)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);const o=NR(r._id);if(o!==e)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${o}\`).`)}return r._id}if(n)return Qh(n,e);throw new Error(`\`${t}()\` requires either a publishedId or a document with an \`_id\``)}const ij=(t,e)=>{if(typeof t=="object"&&t!==null&&("releaseId"in t||"metadata"in t)){const{releaseId:n=sI(),metadata:r={}}=t;return[n,r,e]}return[sI(),{},t]},vx=(t,e)=>{const[n,r,i]=ij(t,e),s={...r,releaseType:r.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:n,metadata:s},options:i}};var jt,$t;class sj{constructor(e,n){ie(this,jt);ie(this,$t);re(this,jt,e),re(this,$t,n)}get({releaseId:e},n){return Qf(b(this,jt),b(this,$t),`_.releases.${e}`,n)}create(e,n){const{action:r,options:i}=vx(e,n),{releaseId:s,metadata:o}=r;return Ve(b(this,jt),b(this,$t),r,i).pipe(xt(a=>({...a,releaseId:s,metadata:o})))}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return Ve(b(this,jt),b(this,$t),i,r)}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return Ve(b(this,jt),b(this,$t),r,n)}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return Ve(b(this,jt),b(this,$t),r,n)}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return Ve(b(this,jt),b(this,$t),r,n)}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return Ve(b(this,jt),b(this,$t),i,r)}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return Ve(b(this,jt),b(this,$t),r,n)}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return Ve(b(this,jt),b(this,$t),r,n)}fetchDocuments({releaseId:e},n){return ZR(b(this,jt),b(this,$t),e,n)}}jt=new WeakMap,$t=new WeakMap;var Bt,zt;class oj{constructor(e,n){ie(this,Bt);ie(this,zt);re(this,Bt,e),re(this,zt,n)}get({releaseId:e},n){return oe(Qf(b(this,Bt),b(this,zt),`_.releases.${e}`,n))}async create(e,n){const{action:r,options:i}=vx(e,n),{releaseId:s,metadata:o}=r;return{...await oe(Ve(b(this,Bt),b(this,zt),r,i)),releaseId:s,metadata:o}}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return oe(Ve(b(this,Bt),b(this,zt),i,r))}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return oe(Ve(b(this,Bt),b(this,zt),r,n))}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return oe(Ve(b(this,Bt),b(this,zt),r,n))}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return oe(Ve(b(this,Bt),b(this,zt),r,n))}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return oe(Ve(b(this,Bt),b(this,zt),i,r))}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return oe(Ve(b(this,Bt),b(this,zt),r,n))}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return oe(Ve(b(this,Bt),b(this,zt),r,n))}fetchDocuments({releaseId:e},n){return oe(ZR(b(this,Bt),b(this,zt),e,n))}}Bt=new WeakMap,zt=new WeakMap;var uu,cu;class aj{constructor(e,n){ie(this,uu);ie(this,cu);re(this,uu,e),re(this,cu,n)}getById(e){return kt(b(this,uu),b(this,cu),{uri:`/users/${e}`})}}uu=new WeakMap,cu=new WeakMap;var hu,fu;class lj{constructor(e,n){ie(this,hu);ie(this,fu);re(this,hu,e),re(this,fu,n)}getById(e){return oe(kt(b(this,hu),b(this,fu),{uri:`/users/${e}`}))}}hu=new WeakMap,fu=new WeakMap;var dr,we;const _f=class _f{constructor(e,n=fl){Q(this,"assets");Q(this,"datasets");Q(this,"live");Q(this,"projects");Q(this,"users");Q(this,"agent");Q(this,"releases");ie(this,dr);ie(this,we);Q(this,"listen",gx);this.config(n),re(this,we,e),this.assets=new B6(this,b(this,we)),this.datasets=new ej(this,b(this,we)),this.live=new yx(this),this.projects=new nj(this,b(this,we)),this.users=new aj(this,b(this,we)),this.agent={action:new j6(this,b(this,we))},this.releases=new sj(this,b(this,we))}clone(){return new _f(b(this,we),this.config())}config(e){if(e===void 0)return{...b(this,dr)};if(b(this,dr)&&b(this,dr).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return re(this,dr,zR(e,b(this,dr)||{})),this}withConfig(e){const n=this.config();return new _f(b(this,we),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return XR(this,b(this,we),b(this,dr).stega,e,n,r)}getDocument(e,n){return Qf(this,b(this,we),e,n)}getDocuments(e,n){return JR(this,b(this,we),e,n)}create(e,n){return Yf(this,b(this,we),e,"create",n)}createIfNotExists(e,n){return ex(this,b(this,we),e,n)}createOrReplace(e,n){return tx(this,b(this,we),e,n)}createVersion({document:e,publishedId:n,releaseId:r,baseId:i,ifBaseRevisionId:s},o){if(!e)return rx(this,b(this,we),n,i,r,s,o);const a=Yh("createVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a},c=n||Kf(e._id);return nx(this,b(this,we),l,c,o)}delete(e,n){return ix(this,b(this,we),e,n)}discardVersion({releaseId:e,publishedId:n},r,i){const s=Qh(n,e);return sx(this,b(this,we),s,r,i)}replaceVersion({document:e,publishedId:n,releaseId:r},i){const s=Yh("replaceVersion",{document:e,publishedId:n,releaseId:r}),o={...e,_id:s};return ox(this,b(this,we),o,i)}unpublishVersion({releaseId:e,publishedId:n},r){const i=Pu(n,e);return ax(this,b(this,we),i,n,r)}mutate(e,n){return lx(this,b(this,we),e,n)}patch(e,n){return new ms(e,n,this)}transaction(e){return new Kh(e,this)}action(e,n){return Ve(this,b(this,we),e,n)}request(e){return kt(this,b(this,we),e)}getUrl(e,n){return qv(this,e,n)}getDataUrl(e,n){return En(this,e,n)}};dr=new WeakMap,we=new WeakMap;let Rg=_f;var pr,ge;const wf=class wf{constructor(e,n=fl){Q(this,"assets");Q(this,"datasets");Q(this,"live");Q(this,"projects");Q(this,"users");Q(this,"agent");Q(this,"releases");Q(this,"observable");ie(this,pr);ie(this,ge);Q(this,"listen",gx);this.config(n),re(this,ge,e),this.assets=new z6(this,b(this,ge)),this.datasets=new tj(this,b(this,ge)),this.live=new yx(this),this.projects=new rj(this,b(this,ge)),this.users=new lj(this,b(this,ge)),this.agent={action:new $6(this,b(this,ge))},this.releases=new oj(this,b(this,ge)),this.observable=new Rg(e,n)}clone(){return new wf(b(this,ge),this.config())}config(e){if(e===void 0)return{...b(this,pr)};if(b(this,pr)&&b(this,pr).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),re(this,pr,zR(e,b(this,pr)||{})),this}withConfig(e){const n=this.config();return new wf(b(this,ge),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return oe(XR(this,b(this,ge),b(this,pr).stega,e,n,r))}getDocument(e,n){return oe(Qf(this,b(this,ge),e,n))}getDocuments(e,n){return oe(JR(this,b(this,ge),e,n))}create(e,n){return oe(Yf(this,b(this,ge),e,"create",n))}createIfNotExists(e,n){return oe(ex(this,b(this,ge),e,n))}createOrReplace(e,n){return oe(tx(this,b(this,ge),e,n))}createVersion({document:e,publishedId:n,releaseId:r,baseId:i,ifBaseRevisionId:s},o){if(!e)return jp(rx(this,b(this,ge),n,i,r,s,o));const a=Yh("createVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a},c=n||Kf(e._id);return jp(nx(this,b(this,ge),l,c,o))}delete(e,n){return oe(ix(this,b(this,ge),e,n))}discardVersion({releaseId:e,publishedId:n},r,i){const s=Qh(n,e);return oe(sx(this,b(this,ge),s,r,i))}replaceVersion({document:e,publishedId:n,releaseId:r},i){const s=Yh("replaceVersion",{document:e,publishedId:n,releaseId:r}),o={...e,_id:s};return jp(ox(this,b(this,ge),o,i))}unpublishVersion({releaseId:e,publishedId:n},r){const i=Pu(n,e);return oe(ax(this,b(this,ge),i,n,r))}mutate(e,n){return oe(lx(this,b(this,ge),e,n))}patch(e,n){return new ai(e,n,this)}transaction(e){return new Gh(e,this)}action(e,n){return oe(Ve(this,b(this,ge),e,n))}request(e){return oe(kt(this,b(this,ge),e))}dataRequest(e,n,r){return oe(Ds(this,b(this,ge),e,n,r))}getUrl(e,n){return qv(this,e,n)}getDataUrl(e,n){return En(this,e,n)}};pr=new WeakMap,ge=new WeakMap;let xg=wf;function uj(t,e){return{requester:ZT(t),createClient:n=>{const r=ZT(t,{ignoreWarnings:n.ignoreWarnings});return new e((i,s)=>(s||r)({maxRedirects:0,maxRetries:n.maxRetries,retryDelay:n.retryDelay,...i}),n)}}}var cj=[];const hj=uj(cj,xg),fj=hj.createClient,dj={VITE_APP_SANITY_DATASET:"localeffort",VITE_APP_SANITY_PROJECT_ID:"d6l9d0ea"},Xh=(typeof import.meta<"u"?dj:{})||{},oI=Xh.VITE_APP_SANITY_PROJECT_ID||Xh.VITE_SANITY_PROJECT_ID,aI=Xh.VITE_APP_SANITY_DATASET||Xh.VITE_SANITY_DATASET;let Zc=null;try{oI&&aI?Zc=fj({projectId:oI,dataset:aI,useCdn:!0,apiVersion:"2023-05-03"}):Zc={fetch:async()=>{throw new Error("Sanity client unavailable")}}}catch(t){console.warn("Failed to initialize Sanity client:",t&&(t.message||t)),Zc={fetch:async()=>{throw new Error("Sanity client unavailable")}}}const pj=Zc;function mj(){var _,S;const[t,e]=V.useState(!1),[n,r]=V.useState(""),[i,s]=V.useState(null),[o,a]=V.useState([]),[l,c]=V.useState(!1),[h,f]=V.useState(null),d=((S=(_=import.meta)==null?void 0:_.env)==null?void 0:S.VITE_SUPPORT_KB_API)!=="false",g=async()=>{f(null),s(null),a([]);const w=(n||"").trim();if(w){c(!0);try{if(d){const y=await fetch(`/api/support/search?q=${encodeURIComponent(w)}`);if(!y.ok)throw new Error(await y.text());const E=await y.json();if(E.cached)a([]),s(E.answer);else{const x=(E.results||[]).map(O=>({_id:O.id||O.chunk_id,question:O.heading||"Result",answer:O.text}));a(x),(!x||x.length===0)&&/estimate|price|cost|calculator|budget/i.test(w)&&s("Try the Pricing estimator on the Pricing page for a tailored ballpark.")}}else{const y=`*${w}*`,E=await pj.fetch('*[_type == "pricingFaq" && (question match $q || answer match $q)] | order(_updatedAt desc)[0...10]{ _id, question, answer }',{q:y});a(Array.isArray(E)?E:[])}(!o||o.length===0)&&s("We couldn't find an instant answer. Send us a note and we'll reply fast.")}catch(y){f((y==null?void 0:y.message)||"Search failed"),s("Search is temporarily unavailable. Send us a note and we'll reply fast.")}finally{c(!1)}}},v=async w=>{w.preventDefault();const y=new FormData(w.target),E=Object.fromEntries(y.entries());(await fetch("/api/messages/submit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(E)})).ok&&(s("Thanks! We'll get back to you shortly."),w.target.reset())};return M.createElement("div",{className:"fixed bottom-4 right-4 z-50"},t&&M.createElement("div",{className:"w-80 rounded-lg shadow-xl border bg-white p-3"},M.createElement("div",{className:"flex justify-between items-center mb-2"},M.createElement("h3",{className:"font-semibold"},"Need help?"),M.createElement("button",{onClick:()=>e(!1),className:"text-sm text-gray-500"},"Close")),M.createElement("div",{className:"space-y-2"},M.createElement("div",null,M.createElement("input",{className:"w-full border p-2",placeholder:"Search FAQs",value:n,onChange:w=>r(w.target.value)}),M.createElement("button",{className:"mt-1 px-3 py-1 bg-black text-white rounded",onClick:g,disabled:l},l?"Searching…":"Search"),h&&M.createElement("p",{className:"text-sm text-red-700 mt-1"},h),o.length>0&&M.createElement("ul",{className:"mt-2 space-y-2 max-h-48 overflow-auto"},o.map(w=>M.createElement("li",{key:w._id,className:"border rounded p-2"},M.createElement("p",{className:"font-medium text-sm"},w.question),w.answer&&M.createElement("p",{className:"text-sm text-gray-700 mt-1 whitespace-pre-wrap"},w.answer)))),i&&o.length===0&&M.createElement("p",{className:"text-sm text-gray-700 mt-1"},i),!i&&o.length===0&&!l&&M.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Tip: try keywords like “meal prep”, “events”, or “pricing”.")),M.createElement("form",{className:"space-y-2",onSubmit:v},M.createElement("input",{name:"name",className:"w-full border p-2",placeholder:"Your name"}),M.createElement("input",{name:"email",type:"email",required:!0,className:"w-full border p-2",placeholder:"Email"}),M.createElement("input",{name:"subject",className:"w-full border p-2",placeholder:"Subject"}),M.createElement("textarea",{name:"message",required:!0,className:"w-full border p-2 h-24",placeholder:"How can we help?"}),M.createElement("button",{className:"px-3 py-2 bg-emerald-600 text-white rounded",type:"submit"},"Send")))),M.createElement("button",{onClick:()=>e(!t),className:"px-4 py-2 rounded-full bg-black text-white shadow","aria-label":"get help"},"get help"))}const gj=()=>{};var lI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(d=64)),r.push(n[h],n[f],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_x(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new vj;const d=s<<2|a>>4;if(r.push(d),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _j=function(t){const e=_x(t);return wx.encodeByteArray(e,!0)},Jh=function(t){return _j(t).replace(/\./g,"")},Ex=function(t){try{return wx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=()=>wj().__FIREBASE_DEFAULTS__,Tj=()=>{if(typeof process>"u"||typeof lI>"u")return;const t=lI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ij=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ex(t[1]);return e&&JSON.parse(e)},Xf=()=>{try{return gj()||Ej()||Tj()||Ij()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tx=t=>{var e,n;return(n=(e=Xf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Sj=t=>{const e=Tx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ix=()=>{var t;return(t=Xf())==null?void 0:t.config},Sx=t=>{var e;return(e=Xf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ax(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jh(JSON.stringify(n)),Jh(JSON.stringify(o)),""].join(".")}const dl={};function Pj(){const t={prod:[],emulator:[]};for(const e of Object.keys(dl))dl[e]?t.emulator.push(e):t.prod.push(e);return t}function Rj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let uI=!1;function Cx(t,e){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||dl[t]===e||dl[t]||uI)return;dl[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=Pj().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,g){d.setAttribute("width","24"),d.setAttribute("id",g),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{uI=!0,o()},d}function h(d,g){d.setAttribute("id",g),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=Rj(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),_=n("learnmore"),S=document.getElementById(_)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const E=d.element;a(E),h(S,_);const x=c();l(y,w),E.append(y,v,S,x),document.body.appendChild(E)}s?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function kj(){var e;const t=(e=Xf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Dj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nj(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Oj(){return!kj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mj(){try{return typeof indexedDB=="object"}catch{return!1}}function Lj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="FirebaseError";class jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Fj,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Uj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new jr(i,a,r)}}function Uj(t,e){return t.replace(jj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jj=/\{\$([^}]+)}/g;function $j(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ss(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(cI(s)&&cI(o)){if(!Ss(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bj(t,e){const n=new zj(t,e);return n.subscribe.bind(n)}class zj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wp),i.error===void 0&&(i.error=Wp),i.complete===void 0&&(i.complete=Wp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Aj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gj(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hj(t){return t===Xi?void 0:t}function Gj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Wj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const Qj={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Yj=ae.INFO,Xj={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Jj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Xj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wv{constructor(e){this.name=e,this._logLevel=Yj,this._logHandler=Jj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const Zj=(t,e)=>e.some(n=>t instanceof n);let hI,fI;function e$(){return hI||(hI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t$(){return fI||(fI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Px=new WeakMap,kg=new WeakMap,Rx=new WeakMap,Hp=new WeakMap,Hv=new WeakMap;function n$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Px.set(n,t)}).catch(()=>{}),Hv.set(e,t),e}function r$(t){if(kg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kg.set(t,e)}let bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function i$(t){bg=t(bg)}function s$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gp(this),e,...n);return Rx.set(r,e.sort?e.sort():[e]),vi(r)}:t$().includes(t)?function(...e){return t.apply(Gp(this),e),vi(Px.get(this))}:function(...e){return vi(t.apply(Gp(this),e))}}function o$(t){return typeof t=="function"?s$(t):(t instanceof IDBTransaction&&r$(t),Zj(t,e$())?new Proxy(t,bg):t)}function vi(t){if(t instanceof IDBRequest)return n$(t);if(Hp.has(t))return Hp.get(t);const e=o$(t);return e!==t&&(Hp.set(t,e),Hv.set(e,t)),e}const Gp=t=>Hv.get(t);function a$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vi(o.result),l.oldVersion,l.newVersion,vi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const l$=["get","getKey","getAll","getAllKeys","count"],u$=["put","add","delete","clear"],Kp=new Map;function dI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=u$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||l$.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Kp.set(e,s),s}i$(t=>({...t,get:(e,n,r)=>dI(e,n)||t.get(e,n,r),has:(e,n)=>!!dI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function h$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vg="@firebase/app",pI="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Wv("@firebase/app"),f$="@firebase/app-compat",d$="@firebase/analytics-compat",p$="@firebase/analytics",m$="@firebase/app-check-compat",g$="@firebase/app-check",y$="@firebase/auth",v$="@firebase/auth-compat",_$="@firebase/database",w$="@firebase/data-connect",E$="@firebase/database-compat",T$="@firebase/functions",I$="@firebase/functions-compat",S$="@firebase/installations",A$="@firebase/installations-compat",C$="@firebase/messaging",P$="@firebase/messaging-compat",R$="@firebase/performance",x$="@firebase/performance-compat",k$="@firebase/remote-config",b$="@firebase/remote-config-compat",V$="@firebase/storage",D$="@firebase/storage-compat",N$="@firebase/firestore",O$="@firebase/ai",M$="@firebase/firestore-compat",L$="firebase",F$="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="[DEFAULT]",U$={[Vg]:"fire-core",[f$]:"fire-core-compat",[p$]:"fire-analytics",[d$]:"fire-analytics-compat",[g$]:"fire-app-check",[m$]:"fire-app-check-compat",[y$]:"fire-auth",[v$]:"fire-auth-compat",[_$]:"fire-rtdb",[w$]:"fire-data-connect",[E$]:"fire-rtdb-compat",[T$]:"fire-fn",[I$]:"fire-fn-compat",[S$]:"fire-iid",[A$]:"fire-iid-compat",[C$]:"fire-fcm",[P$]:"fire-fcm-compat",[R$]:"fire-perf",[x$]:"fire-perf-compat",[k$]:"fire-rc",[b$]:"fire-rc-compat",[V$]:"fire-gcs",[D$]:"fire-gcs-compat",[N$]:"fire-fst",[M$]:"fire-fst-compat",[O$]:"fire-vertex","fire-js":"fire-js",[L$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,j$=new Map,Ng=new Map;function mI(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wo(t){const e=t.name;if(Ng.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,t);for(const n of Zh.values())mI(n,t);for(const n of j$.values())mI(n,t);return!0}function Gv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new ku("app","Firebase",$$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=F$;function xx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Dg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw _i.create("bad-app-name",{appName:String(i)});if(n||(n=Ix()),!n)throw _i.create("no-options");const s=Zh.get(i);if(s){if(Ss(n,s.options)&&Ss(r,s.config))return s;throw _i.create("duplicate-app",{appName:i})}const o=new Kj(i);for(const l of Ng.values())o.addComponent(l);const a=new B$(n,r,o);return Zh.set(i,a),a}function kx(t=Dg){const e=Zh.get(t);if(!e&&t===Dg&&Ix())return xx();if(!e)throw _i.create("no-app",{appName:t});return e}function wi(t,e,n){let r=U$[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(o.join(" "));return}Wo(new As(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$="firebase-heartbeat-database",q$=1,ql="firebase-heartbeat-store";let Qp=null;function bx(){return Qp||(Qp=a$(z$,q$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),Qp}async function W$(t){try{const n=(await bx()).transaction(ql),r=await n.objectStore(ql).get(Vx(t));return await n.done,r}catch(e){if(e instanceof jr)Dr.warn(e.message);else{const n=_i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(n.message)}}}async function gI(t,e){try{const r=(await bx()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,Vx(t)),await r.done}catch(n){if(n instanceof jr)Dr.warn(n.message);else{const r=_i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(r.message)}}}function Vx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=1024,G$=30;class K${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>G$){const o=X$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yI(),{heartbeatsToSend:r,unsentEntries:i}=Q$(this._heartbeatsCache.heartbeats),s=Jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dr.warn(n),""}}}function yI(){return new Date().toISOString().substring(0,10)}function Q$(t,e=H$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Y${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mj()?Lj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vI(t){return Jh(JSON.stringify({version:2,heartbeats:t})).length}function X$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t){Wo(new As("platform-logger",e=>new c$(e),"PRIVATE")),Wo(new As("heartbeat",e=>new K$(e),"PRIVATE")),wi(Vg,pI,t),wi(Vg,pI,"esm2020"),wi("fire-js","")}J$("");function Dx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z$=Dx,Nx=new ku("auth","Firebase",Dx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Wv("@firebase/auth");function e9(t,...e){ef.logLevel<=ae.WARN&&ef.warn(`Auth (${ca}): ${t}`,...e)}function eh(t,...e){ef.logLevel<=ae.ERROR&&ef.error(`Auth (${ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw Qv(t,...e)}function Vn(t,...e){return Qv(t,...e)}function Kv(t,e,n){const r={...Z$(),[e]:n};return new ku("auth","Firebase",r).create(e,{appName:t.name})}function gs(t){return Kv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xn(t,"argument-error"),Kv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Nx.create(t,...e)}function ee(t,e,...n){if(!t)throw Qv(e,...n)}function _r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw eh(e),new Error(e)}function Nr(t,e){t||_r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function n9(){return _I()==="http:"||_I()==="https:"}function _I(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n9()||Vj()||"connection"in navigator)?navigator.onLine:!0}function i9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=xj()||Dj()}get(){return r9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e){Nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a9=new Vu(3e4,6e4);function Xv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ha(t,e,n,r,i={}){return Mx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=bu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return bj()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ua(t.emulatorConfig.host)&&(c.credentials="include"),Ox.fetch()(await Lx(t,t.config.apiHost,n,a),c)})}async function Mx(t,e,n){t._canInitEmulator=!1;const r={...s9,...e};try{const i=new u9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Rc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Rc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Rc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Kv(t,h,c);Xn(t,h)}}catch(i){if(i instanceof jr)throw i;Xn(t,"network-request-failed",{message:String(i)})}}async function l9(t,e,n,r,i={}){const s=await ha(t,e,n,r,i);return"mfaPendingCredential"in s&&Xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Lx(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Yv(t.config,i):`${t.config.apiScheme}://${i}`;return o9.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class u9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vn(this.auth,"network-request-failed")),a9.get())})}}function Rc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t,e){return ha(t,"POST","/v1/accounts:delete",e)}async function tf(t,e){return ha(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h9(t,e=!1){const n=lt(t),r=await n.getIdToken(e),i=Jv(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pl(Yp(i.auth_time)),issuedAtTime:pl(Yp(i.iat)),expirationTime:pl(Yp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yp(t){return Number(t)*1e3}function Jv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ex(n);return i?JSON.parse(i):(eh("Failed to decode base64 JWT payload"),null)}catch(i){return eh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wI(t){const e=Jv(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof jr&&f9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Wl(t,tf(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?Fx(i.providerUserInfo):[],o=m9(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Mg(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function p9(t){const e=lt(t);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Fx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e){const n=await Mx(t,{},async()=>{const r=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Lx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ua(t.emulatorConfig.host)&&(l.credentials="include"),Ox.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y9(t,e){return ha(t,"POST","/v2/accounts:revokeToken",Xv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=wI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await g9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new To;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new d9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Mg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h9(this,e)}reload(){return p9(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await Wl(this,c9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:g,providerData:v,stsTokenManager:_}=n;ee(f&&_,e,"internal-error");const S=To.fromJSON(this.name,_);ee(typeof f=="string",e,"internal-error"),Wr(r,e.name),Wr(i,e.name),ee(typeof d=="boolean",e,"internal-error"),ee(typeof g=="boolean",e,"internal-error"),Wr(s,e.name),Wr(o,e.name),Wr(a,e.name),Wr(l,e.name),Wr(c,e.name),Wr(h,e.name);const w=new xn({uid:f,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:S,createdAt:c,lastLoginAt:h});return v&&Array.isArray(v)&&(w.providerData=v.map(y=>({...y}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new To;i.updateFromServerResponse(n);const s=new xn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Fx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new To;a.updateFromIdToken(r);const l=new xn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Mg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Map;function wr(t){Nr(t instanceof Function,"Expected a class definition");let e=EI.get(t);return e?(Nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ux.type="NONE";const TI=Ux;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=th(this.userKey,i.apiKey,s),this.fullPersistenceKey=th("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tf(this.auth,{idToken:e}).catch(()=>{});return n?xn._fromGetAccountInfoResponse(this.auth,n,e):null}return xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(wr(TI),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||wr(TI);const o=th(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let f;if(typeof h=="string"){const d=await tf(e,{idToken:h}).catch(()=>{});if(!d)break;f=await xn._fromGetAccountInfoResponse(e,d,h)}else f=xn._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Io(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Io(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wx(e))return"Blackberry";if(Hx(e))return"Webos";if($x(e))return"Safari";if((e.includes("chrome/")||Bx(e))&&!e.includes("edge/"))return"Chrome";if(qx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jx(t=bt()){return/firefox\//i.test(t)}function $x(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bx(t=bt()){return/crios\//i.test(t)}function zx(t=bt()){return/iemobile/i.test(t)}function qx(t=bt()){return/android/i.test(t)}function Wx(t=bt()){return/blackberry/i.test(t)}function Hx(t=bt()){return/webos/i.test(t)}function Zv(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function v9(t=bt()){var e;return Zv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _9(){return Nj()&&document.documentMode===10}function Gx(t=bt()){return Zv(t)||qx(t)||Hx(t)||Wx(t)||/windows phone/i.test(t)||zx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e=[]){let n;switch(t){case"Browser":n=II(bt());break;case"Worker":n=`${II(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e={}){return ha(t,"GET","/v2/passwordPolicy",Xv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=6;class I9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??T9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SI(this),this.idTokenSubscription=new SI(this),this.beforeStateQueue=new w9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tf(this,{idToken:e}),r=await xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(gs(this));const n=e?lt(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E9(this),n=new I9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&e9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Jf(t){return lt(t)}class SI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bj(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A9(t){e_=t}function C9(t){return e_.loadJS(t)}function P9(){return e_.gapiScript}function R9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t,e){const n=Gv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ss(s,e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}function k9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b9(t,e,n){const r=Jf(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Qx(e),{host:o,port:a}=V9(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Ss(c,r.config.emulator)&&Ss(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ua(o)?(Ax(`${s}//${o}${l}`),Cx("Auth",!0)):D9()}function Qx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V9(t){const e=Qx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:AI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:AI(o)}}}function AI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,n){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e){return l9(t,"POST","/v1/accounts:signInWithIdp",Xv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="http://localhost";class Cs extends Yx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Cs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:N9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends t_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Du{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Du{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Du{constructor(){super("twitter.com")}static credential(e,n){return Cs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await xn._fromIdTokenResponse(e,r,i),o=CI(r);return new Ho({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=CI(r);return new Ho({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function CI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends jr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rf(e,n,r,i)}}function Xx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(t,s,e,r):s})}async function O9(t,e,n=!1){const r=await Wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ho._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t,e,n=!1){const{auth:r}=t;if(Rn(r.app))return Promise.reject(gs(r));const i="reauthenticate";try{const s=await Wl(t,Xx(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=Jv(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),Ho._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(t,e,n=!1){if(Rn(t.app))return Promise.reject(gs(t));const r="signIn",i=await Xx(t,r,e),s=await Ho._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function F9(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function U9(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function Jx(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function j9(t){return lt(t).signOut()}const sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sf,"1"),this.storage.removeItem(sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=1e3,B9=10;class ek extends Zx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);_9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,B9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ek.type="LOCAL";const z9=ek;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends Zx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tk.type="SESSION";const nk=tk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Zf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await q9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=n_("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function H9(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function G9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Q9(){return rk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="firebaseLocalStorageDb",Y9=1,of="firebaseLocalStorage",sk="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(t,e){return t.transaction([of],e?"readwrite":"readonly").objectStore(of)}function X9(){const t=indexedDB.deleteDatabase(ik);return new Nu(t).toPromise()}function Lg(){const t=indexedDB.open(ik,Y9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(of,{keyPath:sk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(of)?e(r):(r.close(),await X9(),e(await Lg()))})})}async function PI(t,e,n){const r=ed(t,!0).put({[sk]:e,value:n});return new Nu(r).toPromise()}async function J9(t,e){const n=ed(t,!1).get(e),r=await new Nu(n).toPromise();return r===void 0?null:r.value}function RI(t,e){const n=ed(t,!0).delete(e);return new Nu(n).toPromise()}const Z9=800,eB=3;class ok{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>eB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(Q9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await G9(),!this.activeServiceWorker)return;this.sender=new W9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lg();return await PI(e,sf,"1"),await RI(e,sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ed(i,!1).getAll();return new Nu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ok.type="LOCAL";const tB=ok;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e){return e?wr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends Yx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nB(t){return L9(t.auth,new r_(t),t.bypassAuthState)}function rB(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),M9(n,new r_(t),t.bypassAuthState)}async function iB(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),O9(n,new r_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nB;case"linkViaPopup":case"linkViaRedirect":return iB;case"reauthViaPopup":case"reauthViaRedirect":return rB;default:Xn(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=new Vu(2e3,1e4);async function oB(t,e,n){if(Rn(t.app))return Promise.reject(Vn(t,"operation-not-supported-in-this-environment"));const r=Jf(t);t9(t,e,t_);const i=ak(r,n);return new is(r,"signInViaPopup",e,i).executeNotNull()}class is extends lk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,is.currentPopupAction&&is.currentPopupAction.cancel(),is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=n_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sB.get())};e()}}is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="pendingRedirect",nh=new Map;class lB extends lk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const r=await uB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uB(t,e){const n=fB(e),r=hB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function cB(t,e){nh.set(t._key(),e)}function hB(t){return wr(t._redirectPersistence)}function fB(t){return th(aB,t.config.apiKey,t.name)}async function dB(t,e,n=!1){if(Rn(t.app))return Promise.reject(gs(t));const r=Jf(t),i=ak(r,e),o=await new lB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=10*60*1e3;class mB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uk(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pB&&this.cachedEventUids.clear(),this.cachedEventUids.has(xI(e))}saveEventToCache(e){this.cachedEventUids.add(xI(e)),this.lastProcessedEventTime=Date.now()}}function xI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yB(t,e={}){return ha(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_B=/^https?/;async function wB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yB(t);for(const n of e)try{if(EB(n))return}catch{}Xn(t,"unauthorized-domain")}function EB(t){const e=Og(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_B.test(n))return!1;if(vB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=new Vu(3e4,6e4);function kI(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IB(t){return new Promise((e,n)=>{var i,s,o;function r(){kI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kI(),n(Vn(t,"network-request-failed"))},timeout:TB.get()})}if((s=(i=Hn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Hn().gapi)!=null&&o.load)r();else{const a=R9("iframefcb");return Hn()[a]=()=>{gapi.load?r():n(Vn(t,"network-request-failed"))},C9(`${P9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rh=null,e})}let rh=null;function SB(t){return rh=rh||IB(t),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=new Vu(5e3,15e3),CB="__/auth/iframe",PB="emulator/auth/iframe",RB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kB(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yv(e,PB):`https://${t.config.authDomain}/${CB}`,r={apiKey:e.apiKey,appName:t.name,v:ca},i=xB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${bu(r).slice(1)}`}async function bB(t){const e=await SB(t),n=Hn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:kB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Vn(t,"network-request-failed"),a=Hn().setTimeout(()=>{s(o)},AB.get());function l(){Hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DB=500,NB=600,OB="_blank",MB="http://localhost";class bI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LB(t,e,n,r=DB,i=NB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...VB,width:r.toString(),height:i.toString(),top:s,left:o},c=bt().toLowerCase();n&&(a=Bx(c)?OB:n),jx(c)&&(e=e||MB,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[g,v])=>`${d}${g}=${v},`,"");if(v9(c)&&a!=="_self")return FB(e||"",a),new bI(null);const f=window.open(e||"",a,h);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new bI(f)}function FB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB="__/auth/handler",jB="emulator/auth/handler",$B=encodeURIComponent("fac");async function VI(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ca,eventId:i};if(e instanceof t_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$j(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Du){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${$B}=${encodeURIComponent(l)}`:"";return`${BB(t)}?${bu(a).slice(1)}${c}`}function BB({config:t}){return t.emulator?Yv(t,jB):`https://${t.authDomain}/${UB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class zB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nk,this._completeRedirectFn=dB,this._overrideRedirectResult=cB}async _openPopup(e,n,r,i){var o;Nr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await VI(e,n,r,Og(),i);return LB(e,s,n_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await VI(e,n,r,Og(),i);return H9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Nr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bB(e),r=new mB(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xp,{type:Xp},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Xp];s!==void 0&&n(!!s),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Gx()||$x()||Zv()}}const qB=zB;var DI="@firebase/auth",NI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GB(t){Wo(new As("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kx(t)},c=new S9(r,i,s,l);return k9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wo(new As("auth-internal",e=>{const n=Jf(e.getProvider("auth").getImmediate());return(r=>new WB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(DI,NI,HB(t)),wi(DI,NI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=5*60,QB=Sx("authIdTokenMaxAge")||KB;let OI=null;const YB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QB)return;const i=n==null?void 0:n.token;OI!==i&&(OI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XB(t=kx()){const e=Gv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x9(t,{popupRedirectResolver:qB,persistence:[tB,z9,nk]}),r=Sx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=YB(s.toString());U9(n,o,()=>o(n.currentUser)),F9(n,a=>o(a))}}const i=Tx("auth");return i&&b9(n,`http://${i}`),n}function JB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}A9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",JB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GB("Browser");var ZB="firebase",e5="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(ZB,e5,"app");var MI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,ck;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function C(){}C.prototype=T.prototype,A.D=T.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(P,k,D){for(var R=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)R[Vt-2]=arguments[Vt];return T.prototype[k].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,C){C||(C=0);var P=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)P[k]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(k=0;16>k;++k)P[k]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=A.g[0],C=A.g[1],k=A.g[2];var D=A.g[3],R=T+(D^C&(k^D))+P[0]+3614090360&4294967295;T=C+(R<<7&4294967295|R>>>25),R=D+(k^T&(C^k))+P[1]+3905402710&4294967295,D=T+(R<<12&4294967295|R>>>20),R=k+(C^D&(T^C))+P[2]+606105819&4294967295,k=D+(R<<17&4294967295|R>>>15),R=C+(T^k&(D^T))+P[3]+3250441966&4294967295,C=k+(R<<22&4294967295|R>>>10),R=T+(D^C&(k^D))+P[4]+4118548399&4294967295,T=C+(R<<7&4294967295|R>>>25),R=D+(k^T&(C^k))+P[5]+1200080426&4294967295,D=T+(R<<12&4294967295|R>>>20),R=k+(C^D&(T^C))+P[6]+2821735955&4294967295,k=D+(R<<17&4294967295|R>>>15),R=C+(T^k&(D^T))+P[7]+4249261313&4294967295,C=k+(R<<22&4294967295|R>>>10),R=T+(D^C&(k^D))+P[8]+1770035416&4294967295,T=C+(R<<7&4294967295|R>>>25),R=D+(k^T&(C^k))+P[9]+2336552879&4294967295,D=T+(R<<12&4294967295|R>>>20),R=k+(C^D&(T^C))+P[10]+4294925233&4294967295,k=D+(R<<17&4294967295|R>>>15),R=C+(T^k&(D^T))+P[11]+2304563134&4294967295,C=k+(R<<22&4294967295|R>>>10),R=T+(D^C&(k^D))+P[12]+1804603682&4294967295,T=C+(R<<7&4294967295|R>>>25),R=D+(k^T&(C^k))+P[13]+4254626195&4294967295,D=T+(R<<12&4294967295|R>>>20),R=k+(C^D&(T^C))+P[14]+2792965006&4294967295,k=D+(R<<17&4294967295|R>>>15),R=C+(T^k&(D^T))+P[15]+1236535329&4294967295,C=k+(R<<22&4294967295|R>>>10),R=T+(k^D&(C^k))+P[1]+4129170786&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^k&(T^C))+P[6]+3225465664&4294967295,D=T+(R<<9&4294967295|R>>>23),R=k+(T^C&(D^T))+P[11]+643717713&4294967295,k=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(k^D))+P[0]+3921069994&4294967295,C=k+(R<<20&4294967295|R>>>12),R=T+(k^D&(C^k))+P[5]+3593408605&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^k&(T^C))+P[10]+38016083&4294967295,D=T+(R<<9&4294967295|R>>>23),R=k+(T^C&(D^T))+P[15]+3634488961&4294967295,k=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(k^D))+P[4]+3889429448&4294967295,C=k+(R<<20&4294967295|R>>>12),R=T+(k^D&(C^k))+P[9]+568446438&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^k&(T^C))+P[14]+3275163606&4294967295,D=T+(R<<9&4294967295|R>>>23),R=k+(T^C&(D^T))+P[3]+4107603335&4294967295,k=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(k^D))+P[8]+1163531501&4294967295,C=k+(R<<20&4294967295|R>>>12),R=T+(k^D&(C^k))+P[13]+2850285829&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^k&(T^C))+P[2]+4243563512&4294967295,D=T+(R<<9&4294967295|R>>>23),R=k+(T^C&(D^T))+P[7]+1735328473&4294967295,k=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(k^D))+P[12]+2368359562&4294967295,C=k+(R<<20&4294967295|R>>>12),R=T+(C^k^D)+P[5]+4294588738&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^k)+P[8]+2272392833&4294967295,D=T+(R<<11&4294967295|R>>>21),R=k+(D^T^C)+P[11]+1839030562&4294967295,k=D+(R<<16&4294967295|R>>>16),R=C+(k^D^T)+P[14]+4259657740&4294967295,C=k+(R<<23&4294967295|R>>>9),R=T+(C^k^D)+P[1]+2763975236&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^k)+P[4]+1272893353&4294967295,D=T+(R<<11&4294967295|R>>>21),R=k+(D^T^C)+P[7]+4139469664&4294967295,k=D+(R<<16&4294967295|R>>>16),R=C+(k^D^T)+P[10]+3200236656&4294967295,C=k+(R<<23&4294967295|R>>>9),R=T+(C^k^D)+P[13]+681279174&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^k)+P[0]+3936430074&4294967295,D=T+(R<<11&4294967295|R>>>21),R=k+(D^T^C)+P[3]+3572445317&4294967295,k=D+(R<<16&4294967295|R>>>16),R=C+(k^D^T)+P[6]+76029189&4294967295,C=k+(R<<23&4294967295|R>>>9),R=T+(C^k^D)+P[9]+3654602809&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^k)+P[12]+3873151461&4294967295,D=T+(R<<11&4294967295|R>>>21),R=k+(D^T^C)+P[15]+530742520&4294967295,k=D+(R<<16&4294967295|R>>>16),R=C+(k^D^T)+P[2]+3299628645&4294967295,C=k+(R<<23&4294967295|R>>>9),R=T+(k^(C|~D))+P[0]+4096336452&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~k))+P[7]+1126891415&4294967295,D=T+(R<<10&4294967295|R>>>22),R=k+(T^(D|~C))+P[14]+2878612391&4294967295,k=D+(R<<15&4294967295|R>>>17),R=C+(D^(k|~T))+P[5]+4237533241&4294967295,C=k+(R<<21&4294967295|R>>>11),R=T+(k^(C|~D))+P[12]+1700485571&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~k))+P[3]+2399980690&4294967295,D=T+(R<<10&4294967295|R>>>22),R=k+(T^(D|~C))+P[10]+4293915773&4294967295,k=D+(R<<15&4294967295|R>>>17),R=C+(D^(k|~T))+P[1]+2240044497&4294967295,C=k+(R<<21&4294967295|R>>>11),R=T+(k^(C|~D))+P[8]+1873313359&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~k))+P[15]+4264355552&4294967295,D=T+(R<<10&4294967295|R>>>22),R=k+(T^(D|~C))+P[6]+2734768916&4294967295,k=D+(R<<15&4294967295|R>>>17),R=C+(D^(k|~T))+P[13]+1309151649&4294967295,C=k+(R<<21&4294967295|R>>>11),R=T+(k^(C|~D))+P[4]+4149444226&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~k))+P[11]+3174756917&4294967295,D=T+(R<<10&4294967295|R>>>22),R=k+(T^(D|~C))+P[2]+718787259&4294967295,k=D+(R<<15&4294967295|R>>>17),R=C+(D^(k|~T))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+k&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var C=T-this.blockSize,P=this.B,k=this.h,D=0;D<T;){if(k==0)for(;D<=C;)i(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<T;)if(P[k++]=A.charCodeAt(D++),k==this.blockSize){i(this,P),k=0;break}}else for(;D<T;)if(P[k++]=A[D++],k==this.blockSize){i(this,P),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var C=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=C&255,C/=256;for(this.u(A),A=Array(16),T=C=0;4>T;++T)for(var P=0;32>P;P+=8)A[C++]=this.g[T]>>>P&255;return A};function s(A,T){var C=a;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=T(A)}function o(A,T){this.h=T;for(var C=[],P=!0,k=A.length-1;0<=k;k--){var D=A[k]|0;P&&D==T||(C[k]=D,P=!1)}this.g=C}var a={};function l(A){return-128<=A&&128>A?s(A,function(T){return new o([T|0],0>T?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return S(c(-A));for(var T=[],C=1,P=0;A>=C;P++)T[P]=A/C|0,C*=4294967296;return new o(T,0)}function h(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return S(h(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(T,8)),P=f,k=0;k<A.length;k+=8){var D=Math.min(8,A.length-k),R=parseInt(A.substring(k,k+D),T);8>D?(D=c(Math.pow(T,D)),P=P.j(D).add(c(R))):(P=P.j(C),P=P.add(c(R)))}return P}var f=l(0),d=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-S(this).m();for(var A=0,T=1,C=0;C<this.g.length;C++){var P=this.i(C);A+=(0<=P?P:4294967296+P)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(v(this))return"0";if(_(this))return"-"+S(this).toString(A);for(var T=c(Math.pow(A,6)),C=this,P="";;){var k=x(C,T).g;C=w(C,k.j(T));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=k,v(C))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function v(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function _(A){return A.h==-1}t.l=function(A){return A=w(this,A),_(A)?-1:v(A)?0:1};function S(A){for(var T=A.g.length,C=[],P=0;P<T;P++)C[P]=~A.g[P];return new o(C,~A.h).add(d)}t.abs=function(){return _(this)?S(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],P=0,k=0;k<=T;k++){var D=P+(this.i(k)&65535)+(A.i(k)&65535),R=(D>>>16)+(this.i(k)>>>16)+(A.i(k)>>>16);P=R>>>16,D&=65535,R&=65535,C[k]=R<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(A,T){return A.add(S(T))}t.j=function(A){if(v(this)||v(A))return f;if(_(this))return _(A)?S(this).j(S(A)):S(S(this).j(A));if(_(A))return S(this.j(S(A)));if(0>this.l(g)&&0>A.l(g))return c(this.m()*A.m());for(var T=this.g.length+A.g.length,C=[],P=0;P<2*T;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<A.g.length;k++){var D=this.i(P)>>>16,R=this.i(P)&65535,Vt=A.i(k)>>>16,On=A.i(k)&65535;C[2*P+2*k]+=R*On,y(C,2*P+2*k),C[2*P+2*k+1]+=D*On,y(C,2*P+2*k+1),C[2*P+2*k+1]+=R*Vt,y(C,2*P+2*k+1),C[2*P+2*k+2]+=D*Vt,y(C,2*P+2*k+2)}for(P=0;P<T;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=T;P<2*T;P++)C[P]=0;return new o(C,0)};function y(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function E(A,T){this.g=A,this.h=T}function x(A,T){if(v(T))throw Error("division by zero");if(v(A))return new E(f,f);if(_(A))return T=x(S(A),T),new E(S(T.g),S(T.h));if(_(T))return T=x(A,S(T)),new E(S(T.g),T.h);if(30<A.g.length){if(_(A)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var C=d,P=T;0>=P.l(A);)C=O(C),P=O(P);var k=F(C,1),D=F(P,1);for(P=F(P,2),C=F(C,2);!v(P);){var R=D.add(P);0>=R.l(A)&&(k=k.add(C),D=R),P=F(P,1),C=F(C,1)}return T=w(A,k.j(T)),new E(k,T)}for(k=f;0<=A.l(T);){for(C=Math.max(1,Math.floor(A.m()/T.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(C),R=D.j(T);_(R)||0<R.l(A);)C-=P,D=c(C),R=D.j(T);v(D)&&(D=d),k=k.add(D),A=w(A,R)}return new E(k,A)}t.A=function(A){return x(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)&A.i(P);return new o(C,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)|A.i(P);return new o(C,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)^A.i(P);return new o(C,this.h^A.h)};function O(A){for(var T=A.g.length+1,C=[],P=0;P<T;P++)C[P]=A.i(P)<<1|A.i(P-1)>>>31;return new o(C,A.h)}function F(A,T){var C=T>>5;T%=32;for(var P=A.g.length-C,k=[],D=0;D<P;D++)k[D]=0<T?A.i(D+C)>>>T|A.i(D+C+1)<<32-T:A.i(D+C);return new o(k,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ck=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Ei=o}).apply(typeof MI<"u"?MI:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hk,Ga,fk,ih,Fg,dk,pk,mk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var m=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var N=u[I];if(!(N in m))break e;m=m[N]}u=u[u.length-1],I=m[u],p=p(I),p!=I&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var m=0,I=!1,N={next:function(){if(!I&&m<u.length){var L=m++;return{value:p(L,u[L]),done:!1}}return I=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,m){return u.call.apply(u.bind,arguments)}function f(u,p,m){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,I),u.apply(p,N)}}return function(){return u.apply(p,arguments)}}function d(u,p,m){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var I=m.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function v(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(I,N,L){for(var z=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)z[_e-2]=arguments[_e];return p.prototype[N].apply(I,z)}}function _(u){const p=u.length;if(0<p){const m=Array(p);for(let I=0;I<p;I++)m[I]=u[I];return m}return[]}function S(u,p){for(let m=1;m<arguments.length;m++){const I=arguments[m];if(l(I)){const N=u.length||0,L=I.length||0;u.length=N+L;for(let z=0;z<L;z++)u[N+z]=I[z]}else u.push(I)}}class w{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function x(u){return x[" "](u),u}x[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function F(u,p,m){for(const I in u)p.call(m,u[I],I,u)}function A(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function T(u){const p={};for(const m in u)p[m]=u[m];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let m,I;for(let N=1;N<arguments.length;N++){I=arguments[N];for(m in I)u[m]=I[m];for(let L=0;L<C.length;L++)m=C[L],Object.prototype.hasOwnProperty.call(I,m)&&(u[m]=I[m])}}function k(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function D(u){a.setTimeout(()=>{throw u},0)}function R(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Vt{constructor(){this.h=this.g=null}add(p,m){const I=On.get();I.set(p,m),this.h?this.h.next=I:this.g=I,this.h=I}}var On=new w(()=>new Ms,u=>u.reset());class Ms{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,B=!1,K=new Vt,J=()=>{const u=a.Promise.resolve(void 0);ye=()=>{u.then(Ie)}};var Ie=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(m){D(m)}var p=On;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}B=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var tr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function nr(u,p){if(ze.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(O){e:{try{x(p.nodeName);var N=!0;break e}catch{}N=!1}N||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:rr[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&nr.aa.h.call(this)}}v(nr,ze);var rr={2:"touch",3:"pen",4:"mouse"};nr.prototype.h=function(){nr.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ir="closure_listenable_"+(1e6*Math.random()|0),Bb=0;function zb(u,p,m,I,N){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!I,this.ha=N,this.key=++Bb,this.da=this.fa=!1}function $u(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bu(u){this.src=u,this.g={},this.h=0}Bu.prototype.add=function(u,p,m,I,N){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var z=Td(u,p,I,N);return-1<z?(p=u[z],m||(p.fa=!1)):(p=new zb(p,this.src,L,!!I,N),p.fa=m,u.push(p)),p};function Ed(u,p){var m=p.type;if(m in u.g){var I=u.g[m],N=Array.prototype.indexOf.call(I,p,void 0),L;(L=0<=N)&&Array.prototype.splice.call(I,N,1),L&&($u(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Td(u,p,m,I){for(var N=0;N<u.length;++N){var L=u[N];if(!L.da&&L.listener==p&&L.capture==!!m&&L.ha==I)return N}return-1}var Id="closure_lm_"+(1e6*Math.random()|0),Sd={};function K_(u,p,m,I,N){if(Array.isArray(p)){for(var L=0;L<p.length;L++)K_(u,p[L],m,I,N);return null}return m=X_(m),u&&u[ir]?u.K(p,m,c(I)?!!I.capture:!1,N):qb(u,p,m,!1,I,N)}function qb(u,p,m,I,N,L){if(!p)throw Error("Invalid event type");var z=c(N)?!!N.capture:!!N,_e=Cd(u);if(_e||(u[Id]=_e=new Bu(u)),m=_e.add(p,m,I,z,L),m.proxy)return m;if(I=Wb(),m.proxy=I,I.src=u,I.listener=m,u.addEventListener)tr||(N=z),N===void 0&&(N=!1),u.addEventListener(p.toString(),I,N);else if(u.attachEvent)u.attachEvent(Y_(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Wb(){function u(m){return p.call(u.src,u.listener,m)}const p=Hb;return u}function Q_(u,p,m,I,N){if(Array.isArray(p))for(var L=0;L<p.length;L++)Q_(u,p[L],m,I,N);else I=c(I)?!!I.capture:!!I,m=X_(m),u&&u[ir]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],m=Td(L,m,I,N),-1<m&&($u(L[m]),Array.prototype.splice.call(L,m,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=Cd(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Td(p,m,I,N)),(m=-1<u?p[u]:null)&&Ad(m))}function Ad(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ir])Ed(p.i,u);else{var m=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(m,I,u.capture):p.detachEvent?p.detachEvent(Y_(m),I):p.addListener&&p.removeListener&&p.removeListener(I),(m=Cd(p))?(Ed(m,u),m.h==0&&(m.src=null,p[Id]=null)):$u(u)}}}function Y_(u){return u in Sd?Sd[u]:Sd[u]="on"+u}function Hb(u,p){if(u.da)u=!0;else{p=new nr(p,this);var m=u.listener,I=u.ha||u.src;u.fa&&Ad(u),u=m.call(I,p)}return u}function Cd(u){return u=u[Id],u instanceof Bu?u:null}var Pd="__closure_events_fn_"+(1e9*Math.random()>>>0);function X_(u){return typeof u=="function"?u:(u[Pd]||(u[Pd]=function(p){return u.handleEvent(p)}),u[Pd])}function vt(){ve.call(this),this.i=new Bu(this),this.M=this,this.F=null}v(vt,ve),vt.prototype[ir]=!0,vt.prototype.removeEventListener=function(u,p,m,I){Q_(this,u,p,m,I)};function Dt(u,p){var m,I=u.F;if(I)for(m=[];I;I=I.F)m.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new ze(p,u);else if(p instanceof ze)p.target=p.target||u;else{var N=p;p=new ze(I,u),P(p,N)}if(N=!0,m)for(var L=m.length-1;0<=L;L--){var z=p.g=m[L];N=zu(z,I,!0,p)&&N}if(z=p.g=u,N=zu(z,I,!0,p)&&N,N=zu(z,I,!1,p)&&N,m)for(L=0;L<m.length;L++)z=p.g=m[L],N=zu(z,I,!1,p)&&N}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],I=0;I<m.length;I++)$u(m[I]);delete u.g[p],u.h--}}this.F=null},vt.prototype.K=function(u,p,m,I){return this.i.add(String(u),p,!1,m,I)},vt.prototype.L=function(u,p,m,I){return this.i.add(String(u),p,!0,m,I)};function zu(u,p,m,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var N=!0,L=0;L<p.length;++L){var z=p[L];if(z&&!z.da&&z.capture==m){var _e=z.listener,ut=z.ha||z.src;z.fa&&Ed(u.i,z),N=_e.call(ut,I)!==!1&&N}}return N&&!I.defaultPrevented}function J_(u,p,m){if(typeof u=="function")m&&(u=d(u,m));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Z_(u){u.g=J_(()=>{u.g=null,u.i&&(u.i=!1,Z_(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Gb extends ve{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Z_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ya(u){ve.call(this),this.h=u,this.g={}}v(ya,ve);var ew=[];function tw(u){F(u.g,function(p,m){this.g.hasOwnProperty(m)&&Ad(p)},u),u.g={}}ya.prototype.N=function(){ya.aa.N.call(this),tw(this)},ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rd=a.JSON.stringify,Kb=a.JSON.parse,Qb=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function xd(){}xd.prototype.h=null;function nw(u){return u.h||(u.h=u.i())}function rw(){}var va={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kd(){ze.call(this,"d")}v(kd,ze);function bd(){ze.call(this,"c")}v(bd,ze);var zi={},iw=null;function qu(){return iw=iw||new vt}zi.La="serverreachability";function sw(u){ze.call(this,zi.La,u)}v(sw,ze);function _a(u){const p=qu();Dt(p,new sw(p))}zi.STAT_EVENT="statevent";function ow(u,p){ze.call(this,zi.STAT_EVENT,u),this.stat=p}v(ow,ze);function Nt(u){const p=qu();Dt(p,new ow(p,u))}zi.Ma="timingevent";function aw(u,p){ze.call(this,zi.Ma,u),this.size=p}v(aw,ze);function wa(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Ea(){this.g=!0}Ea.prototype.xa=function(){this.g=!1};function Yb(u,p,m,I,N,L){u.info(function(){if(u.g)if(L)for(var z="",_e=L.split("&"),ut=0;ut<_e.length;ut++){var de=_e[ut].split("=");if(1<de.length){var _t=de[0];de=de[1];var wt=_t.split("_");z=2<=wt.length&&wt[1]=="type"?z+(_t+"="+de+"&"):z+(_t+"=redacted&")}}else z=null;else z=L;return"XMLHTTP REQ ("+I+") [attempt "+N+"]: "+p+`
`+m+`
`+z})}function Xb(u,p,m,I,N,L,z){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+N+"]: "+p+`
`+m+`
`+L+" "+z})}function Ls(u,p,m,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Zb(u,m)+(I?" "+I:"")})}function Jb(u,p){u.info(function(){return"TIMEOUT: "+p})}Ea.prototype.info=function(){};function Zb(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var I=m[u];if(!(2>I.length)){var N=I[1];if(Array.isArray(N)&&!(1>N.length)){var L=N[0];if(L!="noop"&&L!="stop"&&L!="close")for(var z=1;z<N.length;z++)N[z]=""}}}}return Rd(m)}catch{return p}}var Wu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vd;function Hu(){}v(Hu,xd),Hu.prototype.g=function(){return new XMLHttpRequest},Hu.prototype.i=function(){return{}},Vd=new Hu;function $r(u,p,m,I){this.j=u,this.i=p,this.l=m,this.R=I||1,this.U=new ya(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uw}function uw(){this.i=null,this.g="",this.h=!1}var cw={},Dd={};function Nd(u,p,m){u.L=1,u.v=Yu(sr(p)),u.m=m,u.P=!0,hw(u,null)}function hw(u,p){u.F=Date.now(),Gu(u),u.A=sr(u.v);var m=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Aw(m.i,"t",I),u.C=0,m=u.j.J,u.h=new uw,u.g=zw(u.j,m?p:null,!u.m),0<u.O&&(u.M=new Gb(d(u.Y,u,u.g),u.O)),p=u.U,m=u.g,I=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(ew[0]=N.toString()),N=ew);for(var L=0;L<N.length;L++){var z=K_(m,N[L],I||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),_a(),Yb(u.i,u.u,u.A,u.l,u.R,u.m)}$r.prototype.ca=function(u){u=u.target;const p=this.M;p&&or(u)==3?p.j():this.Y(u)},$r.prototype.Y=function(u){try{if(u==this.g)e:{const wt=or(this.g);var p=this.g.Ba();const js=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Vw(this.g)))){this.J||wt!=4||p==7||(p==8||0>=js?_a(3):_a(2)),Od(this);var m=this.g.Z();this.X=m;t:if(fw(this)){var I=Vw(this.g);u="";var N=I.length,L=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),Ta(this);var z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<N;p++)this.h.h=!0,u+=this.h.i.decode(I[p],{stream:!(L&&p==N-1)});I.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,Xb(this.i,this.u,this.A,this.l,this.R,wt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,ut=this.g;if((_e=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(_e)){var de=_e;break t}}de=null}if(m=de)Ls(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Md(this,m);else{this.o=!1,this.s=3,Nt(12),qi(this),Ta(this);break e}}if(this.P){m=!0;let Tn;for(;!this.J&&this.C<z.length;)if(Tn=eV(this,z),Tn==Dd){wt==4&&(this.s=4,Nt(14),m=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==cw){this.s=4,Nt(15),Ls(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else Ls(this.i,this.l,Tn,null),Md(this,Tn);if(fw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||z.length!=0||this.h.h||(this.s=1,Nt(16),m=!1),this.o=this.o&&m,!m)Ls(this.i,this.l,z,"[Invalid Chunked Response]"),qi(this),Ta(this);else if(0<z.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Bd(_t),_t.M=!0,Nt(11))}}else Ls(this.i,this.l,z,null),Md(this,z);wt==4&&qi(this),this.o&&!this.J&&(wt==4?Uw(this.j,this):(this.o=!1,Gu(this)))}else yV(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),qi(this),Ta(this)}}}catch{}finally{}};function fw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function eV(u,p){var m=u.C,I=p.indexOf(`
`,m);return I==-1?Dd:(m=Number(p.substring(m,I)),isNaN(m)?cw:(I+=1,I+m>p.length?Dd:(p=p.slice(I,I+m),u.C=I+m,p)))}$r.prototype.cancel=function(){this.J=!0,qi(this)};function Gu(u){u.S=Date.now()+u.I,dw(u,u.I)}function dw(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=wa(d(u.ba,u),p)}function Od(u){u.B&&(a.clearTimeout(u.B),u.B=null)}$r.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Jb(this.i,this.A),this.L!=2&&(_a(),Nt(17)),qi(this),this.s=2,Ta(this)):dw(this,this.S-u)};function Ta(u){u.j.G==0||u.J||Uw(u.j,u)}function qi(u){Od(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,tw(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Md(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||Ld(m.h,u))){if(!u.K&&Ld(m.h,u)&&m.G==3){try{var I=m.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var N=I;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)nc(m),ec(m);else break e;$d(m),Nt(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=wa(d(m.Za,m),6e3));if(1>=gw(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Hi(m,11)}else if((u.K||m.g==u)&&nc(m),!y(p))for(N=m.Da.g.parse(p),p=0;p<N.length;p++){let de=N[p];if(m.T=de[0],de=de[1],m.G==2)if(de[0]=="c"){m.K=de[1],m.ia=de[2];const _t=de[3];_t!=null&&(m.la=_t,m.j.info("VER="+m.la));const wt=de[4];wt!=null&&(m.Aa=wt,m.j.info("SVER="+m.Aa));const js=de[5];js!=null&&typeof js=="number"&&0<js&&(I=1.5*js,m.L=I,m.j.info("backChannelRequestTimeoutMs_="+I)),I=m;const Tn=u.g;if(Tn){const ic=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ic){var L=I.h;L.g||ic.indexOf("spdy")==-1&&ic.indexOf("quic")==-1&&ic.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Fd(L,L.h),L.h=null))}if(I.D){const zd=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;zd&&(I.ya=zd,Se(I.I,I.D,zd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),I=m;var z=u;if(I.qa=Bw(I,I.J?I.ia:null,I.W),z.K){yw(I.h,z);var _e=z,ut=I.L;ut&&(_e.I=ut),_e.B&&(Od(_e),Gu(_e)),I.g=z}else Lw(I);0<m.i.length&&tc(m)}else de[0]!="stop"&&de[0]!="close"||Hi(m,7);else m.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Hi(m,7):jd(m):de[0]!="noop"&&m.l&&m.l.ta(de),m.v=0)}}_a(4)}catch{}}var tV=class{constructor(u,p){this.g=u,this.map=p}};function pw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gw(u){return u.h?1:u.g?u.g.size:0}function Ld(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Fd(u,p){u.g?u.g.add(p):u.h=p}function yw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}pw.prototype.cancel=function(){if(this.i=vw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return _(u.i)}function nV(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],m=u.length,I=0;I<m;I++)p.push(u[I]);return p}p=[],m=0;for(I in u)p[m++]=u[I];return p}function rV(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const I in u)p[m++]=I;return p}}}function _w(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=rV(u),I=nV(u),N=I.length,L=0;L<N;L++)p.call(void 0,I[L],m&&m[L],u)}var ww=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iV(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var I=u[m].indexOf("="),N=null;if(0<=I){var L=u[m].substring(0,I);N=u[m].substring(I+1)}else L=u[m];p(L,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Wi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Wi){this.h=u.h,Ku(this,u.j),this.o=u.o,this.g=u.g,Qu(this,u.s),this.l=u.l;var p=u.i,m=new Aa;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),Ew(this,m),this.m=u.m}else u&&(p=String(u).match(ww))?(this.h=!1,Ku(this,p[1]||"",!0),this.o=Ia(p[2]||""),this.g=Ia(p[3]||"",!0),Qu(this,p[4]),this.l=Ia(p[5]||"",!0),Ew(this,p[6]||"",!0),this.m=Ia(p[7]||"")):(this.h=!1,this.i=new Aa(null,this.h))}Wi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Sa(p,Tw,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Sa(p,Tw,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Sa(m,m.charAt(0)=="/"?aV:oV,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Sa(m,uV)),u.join("")};function sr(u){return new Wi(u)}function Ku(u,p,m){u.j=m?Ia(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Qu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Ew(u,p,m){p instanceof Aa?(u.i=p,cV(u.i,u.h)):(m||(p=Sa(p,lV)),u.i=new Aa(p,u.h))}function Se(u,p,m){u.i.set(p,m)}function Yu(u){return Se(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ia(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sa(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,sV),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sV(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Tw=/[#\/\?@]/g,oV=/[#\?:]/g,aV=/[#\?]/g,lV=/[#\?@]/g,uV=/#/g;function Aa(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Br(u){u.g||(u.g=new Map,u.h=0,u.i&&iV(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=Aa.prototype,t.add=function(u,p){Br(this),this.i=null,u=Fs(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function Iw(u,p){Br(u),p=Fs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Sw(u,p){return Br(u),p=Fs(u,p),u.g.has(p)}t.forEach=function(u,p){Br(this),this.g.forEach(function(m,I){m.forEach(function(N){u.call(p,N,I,this)},this)},this)},t.na=function(){Br(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let I=0;I<p.length;I++){const N=u[I];for(let L=0;L<N.length;L++)m.push(p[I])}return m},t.V=function(u){Br(this);let p=[];if(typeof u=="string")Sw(this,u)&&(p=p.concat(this.g.get(Fs(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return Br(this),this.i=null,u=Fs(this,u),Sw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Aw(u,p,m){Iw(u,p),0<m.length&&(u.i=null,u.g.set(Fs(u,p),_(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var I=p[m];const L=encodeURIComponent(String(I)),z=this.V(I);for(I=0;I<z.length;I++){var N=L;z[I]!==""&&(N+="="+encodeURIComponent(String(z[I]))),u.push(N)}}return this.i=u.join("&")};function Fs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function cV(u,p){p&&!u.j&&(Br(u),u.i=null,u.g.forEach(function(m,I){var N=I.toLowerCase();I!=N&&(Iw(this,I),Aw(this,N,m))},u)),u.j=p}function hV(u,p){const m=new Ea;if(a.Image){const I=new Image;I.onload=g(zr,m,"TestLoadImage: loaded",!0,p,I),I.onerror=g(zr,m,"TestLoadImage: error",!1,p,I),I.onabort=g(zr,m,"TestLoadImage: abort",!1,p,I),I.ontimeout=g(zr,m,"TestLoadImage: timeout",!1,p,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function fV(u,p){const m=new Ea,I=new AbortController,N=setTimeout(()=>{I.abort(),zr(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then(L=>{clearTimeout(N),L.ok?zr(m,"TestPingServer: ok",!0,p):zr(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(N),zr(m,"TestPingServer: error",!1,p)})}function zr(u,p,m,I,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),I(m)}catch{}}function dV(){this.g=new Qb}function pV(u,p,m){const I=m||"";try{_w(u,function(N,L){let z=N;c(N)&&(z=Rd(N)),p.push(I+L+"="+encodeURIComponent(z))})}catch(N){throw p.push(I+"type="+encodeURIComponent("_badmap")),N}}function Xu(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Xu,xd),Xu.prototype.g=function(){return new Ju(this.l,this.j)},Xu.prototype.i=function(u){return function(){return u}}({});function Ju(u,p){vt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ju,vt),t=Ju.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Pa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ca(this):Pa(this),this.readyState==3&&Cw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ca(this))},t.Qa=function(u){this.g&&(this.response=u,Ca(this))},t.ga=function(){this.g&&Ca(this)};function Ca(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Pa(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function Pa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pw(u){let p="";return F(u,function(m,I){p+=I,p+=":",p+=m,p+=`\r
`}),p}function Ud(u,p,m){e:{for(I in m){var I=!1;break e}I=!0}I||(m=Pw(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Se(u,p,m))}function Le(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Le,vt);var mV=/^https?$/i,gV=["POST","PUT"];t=Le.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vd.g(),this.v=this.o?nw(this.o):nw(Vd),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){Rw(this,L);return}if(u=m||"",m=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var N in I)m.set(N,I[N]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const L of I.keys())m.set(L,I.get(L));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),N=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gV,p,void 0))||I||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of m)this.g.setRequestHeader(L,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bw(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){Rw(this,L)}};function Rw(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,xw(u),Zu(u)}function xw(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Dt(this,"complete"),Dt(this,"abort"),Zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zu(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kw(this):this.bb())},t.bb=function(){kw(this)};function kw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||or(u)!=4||u.Z()!=2)){if(u.u&&or(u)==4)J_(u.Ea,0,u);else if(Dt(u,"readystatechange"),or(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var I;if(I=z===0){var N=String(u.D).match(ww)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),I=!mV.test(N?N.toLowerCase():"")}m=I}if(m)Dt(u,"complete"),Dt(u,"success");else{u.m=6;try{var L=2<or(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",xw(u)}}finally{Zu(u)}}}}function Zu(u,p){if(u.g){bw(u);const m=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Dt(u,"ready");try{m.onreadystatechange=I}catch{}}}function bw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function or(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Kb(p)}};function Vw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yV(u){const p={};u=(u.g&&2<=or(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(y(u[I]))continue;var m=k(u[I]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=p[N]||[];p[N]=L,L.push(m)}A(p,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function Dw(u){this.Aa=0,this.i=[],this.j=new Ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,u),this.cb=Ra("retryDelaySeedMs",1e4,u),this.Wa=Ra("forwardChannelMaxRetries",2,u),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pw(u&&u.concurrentRequestLimit),this.Da=new dV,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Dw.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,I){Nt(0),this.W=u,this.H=p||{},m&&I!==void 0&&(this.H.OSID=m,this.H.OAID=I),this.F=this.X,this.I=Bw(this,null,this.W),tc(this)};function jd(u){if(Nw(u),u.G==3){var p=u.U++,m=sr(u.I);if(Se(m,"SID",u.K),Se(m,"RID",p),Se(m,"TYPE","terminate"),xa(u,m),p=new $r(u,u.j,p),p.L=2,p.v=Yu(sr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=zw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Gu(p)}$w(u)}function ec(u){u.g&&(Bd(u),u.g.cancel(),u.g=null)}function Nw(u){ec(u),u.u&&(a.clearTimeout(u.u),u.u=null),nc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function tc(u){if(!mw(u.h)&&!u.s){u.s=!0;var p=u.Ga;ye||J(),B||(ye(),B=!0),K.add(p,u),u.B=0}}function vV(u,p){return gw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=wa(d(u.Ga,u,p),jw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const N=new $r(this,this.j,u);let L=this.o;if(this.S&&(L?(L=T(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(N.H=L,L=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var I=this.i[m];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=Mw(this,N,p),m=sr(this.I),Se(m,"RID",u),Se(m,"CVER",22),this.D&&Se(m,"X-HTTP-Session-Id",this.D),xa(this,m),L&&(this.O?p="headers="+encodeURIComponent(String(Pw(L)))+"&"+p:this.m&&Ud(m,this.m,L)),Fd(this.h,N),this.Ua&&Se(m,"TYPE","init"),this.P?(Se(m,"$req",p),Se(m,"SID","null"),N.T=!0,Nd(N,m,null)):Nd(N,m,p),this.G=2}}else this.G==3&&(u?Ow(this,u):this.i.length==0||mw(this.h)||Ow(this))};function Ow(u,p){var m;p?m=p.l:m=u.U++;const I=sr(u.I);Se(I,"SID",u.K),Se(I,"RID",m),Se(I,"AID",u.T),xa(u,I),u.m&&u.o&&Ud(I,u.m,u.o),m=new $r(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Mw(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fd(u.h,m),Nd(m,I,p)}function xa(u,p){u.H&&F(u.H,function(m,I){Se(p,I,m)}),u.l&&_w({},function(m,I){Se(p,I,m)})}function Mw(u,p,m){m=Math.min(u.i.length,m);var I=u.l?d(u.l.Na,u.l,u):null;e:{var N=u.i;let L=-1;for(;;){const z=["count="+m];L==-1?0<m?(L=N[0].g,z.push("ofs="+L)):L=0:z.push("ofs="+L);let _e=!0;for(let ut=0;ut<m;ut++){let de=N[ut].g;const _t=N[ut].map;if(de-=L,0>de)L=Math.max(0,N[ut].g-100),_e=!1;else try{pV(_t,z,"req"+de+"_")}catch{I&&I(_t)}}if(_e){I=z.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,I}function Lw(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ye||J(),B||(ye(),B=!0),K.add(p,u),u.v=0}}function $d(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=wa(d(u.Fa,u),jw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Fw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=wa(d(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),ec(this),Fw(this))};function Bd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Fw(u){u.g=new $r(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=sr(u.qa);Se(p,"RID","rpc"),Se(p,"SID",u.K),Se(p,"AID",u.T),Se(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Se(p,"TO",u.ja),Se(p,"TYPE","xmlhttp"),xa(u,p),u.m&&u.o&&Ud(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Yu(sr(p)),m.m=null,m.P=!0,hw(m,u)}t.Za=function(){this.C!=null&&(this.C=null,ec(this),$d(this),Nt(19))};function nc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Uw(u,p){var m=null;if(u.g==p){nc(u),Bd(u),u.g=null;var I=2}else if(Ld(u.h,p))m=p.D,yw(u.h,p),I=1;else return;if(u.G!=0){if(p.o)if(I==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var N=u.B;I=qu(),Dt(I,new aw(I,m)),tc(u)}else Lw(u);else if(N=p.s,N==3||N==0&&0<p.X||!(I==1&&vV(u,p)||I==2&&$d(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),N){case 1:Hi(u,5);break;case 4:Hi(u,10);break;case 3:Hi(u,6);break;default:Hi(u,2)}}}function jw(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function Hi(u,p){if(u.j.info("Error code "+p),p==2){var m=d(u.fb,u),I=u.Xa;const N=!I;I=new Wi(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ku(I,"https"),Yu(I),N?hV(I.toString(),m):fV(I.toString(),m)}else Nt(2);u.G=0,u.l&&u.l.sa(p),$w(u),Nw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function $w(u){if(u.G=0,u.ka=[],u.l){const p=vw(u.h);(p.length!=0||u.i.length!=0)&&(S(u.ka,p),S(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function Bw(u,p,m){var I=m instanceof Wi?sr(m):new Wi(m);if(I.g!="")p&&(I.g=p+"."+I.g),Qu(I,I.s);else{var N=a.location;I=N.protocol,p=p?p+"."+N.hostname:N.hostname,N=+N.port;var L=new Wi(null);I&&Ku(L,I),p&&(L.g=p),N&&Qu(L,N),m&&(L.l=m),I=L}return m=u.D,p=u.ya,m&&p&&Se(I,m,p),Se(I,"VER",u.la),xa(u,I),I}function zw(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Le(new Xu({eb:m})):new Le(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qw(){}t=qw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rc(){}rc.prototype.g=function(u,p){return new Zt(u,p)};function Zt(u,p){vt.call(this),this.g=new Dw(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Us(this)}v(Zt,vt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){jd(this.g)},Zt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Rd(u),u=m);p.i.push(new tV(p.Ya++,u)),p.G==3&&tc(p)},Zt.prototype.N=function(){this.g.l=null,delete this.j,jd(this.g),delete this.g,Zt.aa.N.call(this)};function Ww(u){kd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(Ww,kd);function Hw(){bd.call(this),this.status=1}v(Hw,bd);function Us(u){this.g=u}v(Us,qw),Us.prototype.ua=function(){Dt(this.g,"a")},Us.prototype.ta=function(u){Dt(this.g,new Ww(u))},Us.prototype.sa=function(u){Dt(this.g,new Hw)},Us.prototype.ra=function(){Dt(this.g,"b")},rc.prototype.createWebChannel=rc.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,mk=function(){return new rc},pk=function(){return qu()},dk=zi,Fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wu.NO_ERROR=0,Wu.TIMEOUT=8,Wu.HTTP_ERROR=6,ih=Wu,lw.COMPLETE="complete",fk=lw,rw.EventType=va,va.OPEN="a",va.CLOSE="b",va.ERROR="c",va.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ga=rw,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,hk=Le}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const LI="@firebase/firestore",FI="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Wv("@firebase/firestore");function zs(){return Ps.logLevel}function W(t,...e){if(Ps.logLevel<=ae.DEBUG){const n=e.map(i_);Ps.debug(`Firestore (${fa}): ${t}`,...n)}}function Or(t,...e){if(Ps.logLevel<=ae.ERROR){const n=e.map(i_);Ps.error(`Firestore (${fa}): ${t}`,...n)}}function Go(t,...e){if(Ps.logLevel<=ae.WARN){const n=e.map(i_);Ps.warn(`Firestore (${fa}): ${t}`,...n)}}function i_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gk(t,r,n)}function gk(t,e,n){let r=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Or(r),new Error(r)}function pe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||gk(e,i,r)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class n5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r5{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ir,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ir)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new yk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class i5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new i5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pe(this.o===void 0,3512);const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new UI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=a5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Ug(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Jp(i)===Jp(s)?le(i,s):Jp(i)?1:-1}return le(t.length,e.length)}const l5=55296,u5=57343;function Jp(t){const e=t.charCodeAt(0);return e>=l5&&e<=u5}function Ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="__name__";class Fn{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Fn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return le(e.length,n.length)}static compareSegments(e,n){const r=Fn.isNumericId(e),i=Fn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fn.extractNumericId(e).compare(Fn.extractNumericId(n)):Ug(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ei.fromString(e.substring(4,e.length-2))}}class Ee extends Fn{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const c5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Fn{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return c5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jI}static keyField(){return new pt([jI])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Ee.fromString(e))}static fromName(e){return new G(Ee.fromString(e).popFirst(5))}static empty(){return new G(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h5(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $I(t){if(!G.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BI(t){if(G.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _k(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function td(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ou(t,e){if(!_k(t))throw new q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=-62135596800,qI=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qI);return new Ce(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zI)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qI}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:Je("string",Ce._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Ce(0,0))}static max(){return new te(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function f5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new Ri(i,G.empty(),e)}function d5(t){return new Ri(t.readTime,t.key,Hl)}class Ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ri(te.min(),G.empty(),Hl)}static max(){return new Ri(te.max(),G.empty(),Hl)}}function p5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==m5)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function y5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-1;function rd(t){return t==null}function af(t){return t===0&&1/t==-1/0}function v5(t){return typeof t=="number"&&Number.isInteger(t)&&!af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="";function _5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=WI(e)),e=w5(t.get(n),e);return WI(e)}function w5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case wk:n+="";break;default:n+=s}}return n}function WI(t){return t+wk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ek(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GI(this.data.getIterator())}getIteratorFrom(e){return new GI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tt(this.comparator);return n.data=e,n}}class GI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new rn([])}unionWith(e){let n=new tt(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Tk("Invalid base64 string: "+s):s}}(e);return new yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const E5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(pe(!!t,39018),typeof t=="string"){let e=0;const n=E5.exec(t);if(pe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ki(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="server_timestamp",Sk="__type__",Ak="__previous_value__",Ck="__local_write_time__";function a_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Sk])==null?void 0:r.stringValue)===Ik}function id(t){const e=t.mapValue.fields[Ak];return a_(e)?id(e):e}function Gl(t){const e=xi(t.mapValue.fields[Ck].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,r,i,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const lf="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||lf}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="__type__",I5="__max__",bc={mapValue:{}},Rk="__vector__",uf="value";function bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a_(t)?4:A5(t)?9007199254740991:S5(t)?10:11:X(28295,{value:t})}function Jn(t,e){if(t===e)return!0;const n=bi(t);if(n!==bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gl(t).isEqual(Gl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=xi(i.timestampValue),a=xi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ki(i.bytesValue).isEqual(ki(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=He(i.doubleValue),a=He(s.doubleValue);return o===a?af(o)===af(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ko(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(HI(o)!==HI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Jn(o[l],a[l])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function Ql(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function Qo(t,e){if(t===e)return 0;const n=bi(t),r=bi(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=He(s.integerValue||s.doubleValue),l=He(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return KI(t.timestampValue,e.timestampValue);case 4:return KI(Gl(t),Gl(e));case 5:return Ug(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ki(s),l=ki(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=le(a[c],l[c]);if(h!==0)return h}return le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=le(He(s.latitude),He(o.latitude));return a!==0?a:le(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return QI(t.arrayValue,e.arrayValue);case 10:return function(s,o){var d,g,v,_;const a=s.fields||{},l=o.fields||{},c=(d=a[uf])==null?void 0:d.arrayValue,h=(g=l[uf])==null?void 0:g.arrayValue,f=le(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((_=h==null?void 0:h.values)==null?void 0:_.length)||0);return f!==0?f:QI(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===bc.mapValue&&o===bc.mapValue)return 0;if(s===bc.mapValue)return 1;if(o===bc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Ug(l[f],h[f]);if(d!==0)return d;const g=Qo(a[l[f]],c[h[f]]);if(g!==0)return g}return le(l.length,h.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function KI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=xi(t),r=xi(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function QI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Qo(n[i],r[i]);if(s)return s}return le(n.length,r.length)}function Yo(t){return jg(t)}function jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jg(n.fields[o])}`;return i+"}"}(t.mapValue):X(61005,{value:t})}function sh(t){switch(bi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=id(t);return e?16+sh(e):16;case 5:return 2*t.stringValue.length;case 6:return ki(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+sh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ji(r.fields,(s,o)=>{i+=s.length+sh(o)}),i}(t.mapValue);default:throw X(13486,{value:t})}}function YI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $g(t){return!!t&&"integerValue"in t}function l_(t){return!!t&&"arrayValue"in t}function XI(t){return!!t&&"nullValue"in t}function JI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oh(t){return!!t&&"mapValue"in t}function S5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Pk])==null?void 0:r.stringValue)===Rk}function ml(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ml(t.arrayValue.values[n]);return e}return{...t}}function A5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ml(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ji(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ht(ml(this.value))}}function xk(t){const e=[];return ji(t.fields,(n,r)=>{const i=new pt([n]);if(oh(r)){const s=xk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,te.min(),te.min(),te.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,te.min(),te.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,te.min(),te.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.position=e,this.inclusive=n}}function ZI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Qo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n="asc"){this.field=e,this.dir=n}}function C5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{}class Xe extends kk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R5(e,n,r):n==="array-contains"?new b5(e,r):n==="in"?new V5(e,r):n==="not-in"?new D5(e,r):n==="array-contains-any"?new N5(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new x5(e,r):new k5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qo(n,this.value)):n!==null&&bi(this.value)===bi(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nn extends kk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Nn(e,n)}matches(e){return bk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bk(t){return t.op==="and"}function Vk(t){return P5(t)&&bk(t)}function P5(t){for(const e of t.filters)if(e instanceof Nn)return!1;return!0}function Bg(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Yo(t.value);if(Vk(t))return t.filters.map(e=>Bg(e)).join(",");{const e=t.filters.map(n=>Bg(n)).join(",");return`${t.op}(${e})`}}function Dk(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(t,e):t instanceof Nn?function(r,i){return i instanceof Nn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Dk(o,i.filters[a]),!0):!1}(t,e):void X(19439)}function Nk(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`}(t):t instanceof Nn?function(n){return n.op.toString()+" {"+n.getFilters().map(Nk).join(" ,")+"}"}(t):"Filter"}class R5 extends Xe{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class x5 extends Xe{constructor(e,n){super(e,"in",n),this.keys=Ok("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k5 extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=Ok("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ok(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class b5 extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l_(n)&&Ql(n.arrayValue,this.value)}}class V5 extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class D5 extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class N5 extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function tS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new O5(t,e,n,r,i,s,o)}function u_(t){const e=ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yo(r)).join(",")),e.Te=n}return e.Te}function c_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Dk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eS(t.startAt,e.startAt)&&eS(t.endAt,e.endAt)}function zg(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M5(t,e,n,r,i,s,o,a){return new ma(t,e,n,r,i,s,o,a)}function sd(t){return new ma(t)}function nS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Mk(t){return t.collectionGroup!==null}function gl(t){const e=ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tt(pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Yl(s,r))}),n.has(pt.keyField().canonicalString())||e.Ie.push(new Yl(pt.keyField(),r))}return e.Ie}function Gn(t){const e=ne(t);return e.Ee||(e.Ee=L5(e,gl(t))),e.Ee}function L5(t,e){if(t.limitType==="F")return tS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yl(i.field,s)});const n=t.endAt?new cf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cf(t.startAt.position,t.startAt.inclusive):null;return tS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qg(t,e){const n=t.filters.concat([e]);return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wg(t,e,n){return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function od(t,e){return c_(Gn(t),Gn(e))&&t.limitType===e.limitType}function Lk(t){return`${u_(Gn(t))}|lt:${t.limitType}`}function qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Nk(i)).join(", ")}]`),rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yo(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function ad(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=ZI(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,gl(r),i)||r.endAt&&!function(o,a,l){const c=ZI(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,gl(r),i))}(t,e)}function F5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Fk(t){return(e,n)=>{let r=!1;for(const i of gl(t)){const s=U5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function U5(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Qo(l,c):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ek(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=new Me(G.comparator);function Mr(){return j5}const Uk=new Me(G.comparator);function Ka(...t){let e=Uk;for(const n of t)e=e.insert(n.key,n);return e}function jk(t){let e=Uk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ss(){return yl()}function $k(){return yl()}function yl(){return new Ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const $5=new Me(G.comparator),B5=new tt(G.comparator);function ue(...t){let e=B5;for(const n of t)e=e.add(n);return e}const z5=new tt(le);function q5(){return z5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function Bk(t){return{integerValue:""+t}}function W5(t,e){return v5(e)?Bk(e):h_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function H5(t,e,n){return t instanceof Xl?function(i,s){const o={fields:{[Sk]:{stringValue:Ik},[Ck]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&a_(s)&&(s=id(s)),s&&(o.fields[Ak]=s),{mapValue:o}}(n,e):t instanceof Jl?qk(t,e):t instanceof Zl?Wk(t,e):function(i,s){const o=zk(i,s),a=rS(o)+rS(i.Ae);return $g(o)&&$g(i.Ae)?Bk(a):h_(i.serializer,a)}(t,e)}function G5(t,e,n){return t instanceof Jl?qk(t,e):t instanceof Zl?Wk(t,e):n}function zk(t,e){return t instanceof hf?function(r){return $g(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Xl extends ld{}class Jl extends ld{constructor(e){super(),this.elements=e}}function qk(t,e){const n=Hk(e);for(const r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zl extends ld{constructor(e){super(),this.elements=e}}function Wk(t,e){let n=Hk(e);for(const r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}class hf extends ld{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rS(t){return He(t.integerValue||t.doubleValue)}function Hk(t){return l_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n){this.field=e,this.transform=n}}function Q5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jl&&i instanceof Jl||r instanceof Zl&&i instanceof Zl?Ko(r.elements,i.elements,Jn):r instanceof hf&&i instanceof hf?Jn(r.Ae,i.Ae):r instanceof Xl&&i instanceof Xl}(t.transform,e.transform)}class Y5{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ud{}function Gk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f_(t.key,vn.none()):new Mu(t.key,t.data,vn.none());{const n=t.data,r=Ht.empty();let i=new tt(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $i(t.key,r,new rn(i.toArray()),vn.none())}}function X5(t,e,n){t instanceof Mu?function(i,s,o){const a=i.value.clone(),l=sS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(i,s,o){if(!ah(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=sS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Kk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vl(t,e,n,r){return t instanceof Mu?function(s,o,a,l){if(!ah(s.precondition,o))return a;const c=s.value.clone(),h=oS(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof $i?function(s,o,a,l){if(!ah(s.precondition,o))return a;const c=oS(s.fieldTransforms,l,o),h=o.data;return h.setAll(Kk(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return ah(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function J5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zk(r.transform,i||null);s!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,s))}return n||null}function iS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ko(r,i,(s,o)=>Q5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mu extends ud{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $i extends ud{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Kk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sS(t,e,n){const r=new Map;pe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,G5(o,a,n[i]))}return r}function oS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,H5(s,o,e))}return r}class f_ extends ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z5 extends ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&X5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$k();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Gk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(n,r)=>iS(n,r))&&Ko(this.baseMutations,e.baseMutations,(n,r)=>iS(n,r))}}class d_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return $5}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new d_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,he;function rz(t){switch(t){case U.OK:return X(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function Qk(t){if(t===void 0)return Or("GRPC error has no .code"),U.UNKNOWN;switch(t){case Ke.OK:return U.OK;case Ke.CANCELLED:return U.CANCELLED;case Ke.UNKNOWN:return U.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return U.INTERNAL;case Ke.UNAVAILABLE:return U.UNAVAILABLE;case Ke.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ke.NOT_FOUND:return U.NOT_FOUND;case Ke.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ke.ABORTED:return U.ABORTED;case Ke.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ke.DATA_LOSS:return U.DATA_LOSS;default:return X(39323,{code:t})}}(he=Ke||(Ke={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=new Ei([4294967295,4294967295],0);function aS(t){const e=iz().encode(t),n=new ck;return n.update(e),new Uint8Array(n.digest())}function lS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ei([n,r],0),new Ei([i,s],0)]}class p_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qa(`Invalid padding: ${n}`);if(r<0)throw new Qa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ei.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ei.fromNumber(r)));return i.compare(sz)===1&&(i=new Ei([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aS(e),[r,i]=lS(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new p_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=aS(e),[r,i]=lS(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cd(te.min(),i,new Me(le),Mr(),ue())}}class Lu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lu(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Yk{constructor(e,n){this.targetId=e,this.Ce=n}}class Xk{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uS{constructor(){this.ve=0,this.Fe=cS(),this.Me=yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ue(),n=ue(),r=ue();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X(38017,{changeType:s})}}),new Lu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=cS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oz{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mr(),this.Je=Vc(),this.He=Vc(),this.Ye=new Me(le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(zg(s))if(r===0){const o=new G(s.path);this.et(n,o,Ct.newNoDocument(o,te.min()))}else pe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ki(r).toUint8Array()}catch(l){if(l instanceof Tk)return Go("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new p_(o,i,s)}catch(l){return Go(l instanceof Qa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&zg(a.target)){const l=new G(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ct.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ue();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new cd(e,n,this.Ye,this.je,r);return this.je=Mr(),this.Je=Vc(),this.He=Vc(),this.Ye=new Me(le),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new uS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new tt(le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new tt(le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vc(){return new Me(G.comparator)}function cS(){return new Me(G.comparator)}const az={asc:"ASCENDING",desc:"DESCENDING"},lz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uz={and:"AND",or:"OR"};class cz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hg(t,e){return t.useProto3Json||rd(e)?e:{value:e}}function ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hz(t,e){return ff(t,e.toTimestamp())}function Kn(t){return pe(!!t,49232),te.fromTimestamp(function(n){const r=xi(n);return new Ce(r.seconds,r.nanos)}(t))}function m_(t,e){return Gg(t,e).canonicalString()}function Gg(t,e){const n=function(i){return new Ee(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Zk(t){const e=Ee.fromString(t);return pe(ib(e),10190,{key:e.toString()}),e}function Kg(t,e){return m_(t.databaseId,e.path)}function Zp(t,e){const n=Zk(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(tb(n))}function eb(t,e){return m_(t.databaseId,e)}function fz(t){const e=Zk(t);return e.length===4?Ee.emptyPath():tb(e)}function Qg(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tb(t){return pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hS(t,e,n){return{name:Kg(t,e),fields:n.value.mapValue.fields}}function dz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(pe(h===void 0||typeof h=="string",58123),yt.fromBase64String(h||"")):(pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),yt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:Qk(c.code);return new q(h,c.message||"")}(o);n=new Xk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zp(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):te.min(),a=new Ht({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new lh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zp(t,r.document),s=r.readTime?Kn(r.readTime):te.min(),o=Ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new lh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zp(t,r.document),s=r.removedTargetIds||[];n=new lh([],s,i,null)}else{if(!("filter"in e))return X(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nz(i,s),a=r.targetId;n=new Yk(a,o)}}return n}function pz(t,e){let n;if(e instanceof Mu)n={update:hS(t,e.key,e.value)};else if(e instanceof f_)n={delete:Kg(t,e.key)};else if(e instanceof $i)n={update:hS(t,e.key,e.data),updateMask:Iz(e.fieldMask)};else{if(!(e instanceof Z5))return X(16599,{Vt:e.type});n={verify:Kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Xl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw X(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:hz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X(27497)}(t,e.precondition)),n}function mz(t,e){return t&&t.length>0?(pe(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(te.min())&&(o=Kn(s)),new Y5(o,i.transformResults||[])}(n,e))):[]}function gz(t,e){return{documents:[eb(t,e.path)]}}function yz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eb(t,i);const s=function(c){if(c.length!==0)return rb(Nn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:Ws(d.field),direction:wz(d.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Hg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function vz(t){let e=fz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pe(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const d=nb(f);return d instanceof Nn&&Vk(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(v){return new Yl(Hs(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,rd(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,g=f.values||[];return new cf(g,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,g=f.values||[];return new cf(g,d)}(n.endAt)),M5(e,i,o,s,a,"F",l,c)}function _z(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hs(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hs(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hs(n.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hs(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(Hs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nn.create(n.compositeFilter.filters.map(r=>nb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function wz(t){return az[t]}function Ez(t){return lz[t]}function Tz(t){return uz[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function Hs(t){return pt.fromServerFormat(t.fieldPath)}function rb(t){return t instanceof Xe?function(n){if(n.op==="=="){if(JI(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NAN"}};if(XI(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JI(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NAN"}};if(XI(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(n.field),op:Ez(n.op),value:n.value}}}(t):t instanceof Nn?function(n){const r=n.getFilters().map(i=>rb(i));return r.length===1?r[0]:{compositeFilter:{op:Tz(n.op),filters:r}}}(t):X(54877,{filter:t})}function Iz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ib(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r,i,s=te.min(),o=te.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.yt=e}}function Az(t){const e=vz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this.Cn=new Pz}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Ri.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class Pz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tt(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sb=41943040;class qt{static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(sb,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xo(0)}static cr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="LruGarbageCollector",Rz=1048576;function pS([t,e],[n,r]){const i=le(t,n);return i===0?le(e,r):i}class xz{constructor(e){this.Ir=e,this.buffer=new tt(pS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(dS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pa(n)?W(dS,"Ignoring IndexedDB error during garbage collection: ",n):await da(n)}await this.Vr(3e5)})}}class bz{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(nd.ce);const r=new xz(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(fS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),zs()<=ae.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function Vz(t,e){return new bz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vl(r.mutation,i,rn.empty(),Ce.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ka();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Mr();const o=yl(),a=function(){return yl()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof $i)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),vl(h.mutation,c,h.mutation.getFieldMask(),Ce.now())):o.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new Nz(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=yl();let i=new Me((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||rn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=$k();h.forEach(d=>{if(!s.has(d)){const g=Gk(n.get(d),r.get(d));g!==null&&f.set(d,g),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Mk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(ss());let a=Hl,l=s;return o.next(c=>j.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ue())).next(h=>({batchId:a,changes:jk(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=Ka();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ka();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const c=function(f,d){return new ma(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Ct.newInvalidDocument(h)))});let a=Ka();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&vl(h.mutation,c,rn.empty(),Ce.now()),ad(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Az(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(){this.overlays=new Me(G.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ss();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=ss(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=ss(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ss(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return j.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tz(n,r));let s=this.qr.get(n);s===void 0&&(s=ue(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.Qr=new tt(st.$r),this.Ur=new tt(st.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new st(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new st(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new G(new Ee([])),r=new st(n,e),i=new st(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new G(new Ee([])),r=new st(n,e),i=new st(n,e+1);let s=ue();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new st(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return G.comparator(e.key,n.key)||le(e.Yr,n.Yr)}static Kr(e,n){return le(e.Yr,n.Yr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new tt(st.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ez(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new st(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?o_:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),i=new st(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(le);return n.forEach(i=>{const s=new st(i,0),o=new st(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new st(new G(s),0);let a=new tt(le);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),j.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,i=>{const s=new st(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new st(n,0),i=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.ri=e,this.docs=function(){return new Me(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ct.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mr();const o=n.path,a=new G(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||p5(d5(h),r)<=0||(i.has(h.key)||ad(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X(9500)}ii(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $z(this)}getSize(e){return j.resolve(this.size)}}class $z extends Dz{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e){this.persistence=e,this.si=new Ns(n=>u_(n),c_),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new g_,this.targetCount=0,this.ai=Xo.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n){this.ui={},this.overlays={},this.ci=new nd(0),this.li=!1,this.li=!0,this.hi=new Fz,this.referenceDelegate=e(this),this.Pi=new Bz(this),this.indexManager=new Cz,this.remoteDocumentCache=function(i){return new jz(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Sz(n),this.Ii=new Mz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Uz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new zz(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return j.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class zz extends g5{constructor(e){super(),this.currentSequenceNumber=e}}class y_{constructor(e){this.persistence=e,this.Ri=new g_,this.Vi=null}static mi(e){return new y_(e)}get fi(){if(this.Vi)return this.Vi;throw X(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,r=>{const i=G.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class df{constructor(e,n){this.persistence=e,this.pi=new Ns(r=>_5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Vz(this,n)}static mi(e,n){return new df(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return j.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}br(e,n,r){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new v_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Oj()?8:y5(bt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new qz;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(zs()<=ae.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(zs()<=ae.DEBUG&&W("QueryEngine","Query:",qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(zs()<=ae.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):j.resolve())}ys(e,n){if(nS(n))return j.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wg(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Wg(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return nS(n)||i.isEqual(te.min())?j.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?j.resolve(null):(zs()<=ae.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qs(n)),this.vs(e,o,n,f5(i,Hl)).next(a=>a))})}Ds(e,n){let r=new tt(Fk(e));return n.forEach((i,s)=>{ad(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return zs()<=ae.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",qs(n)),this.ps.getDocumentsMatchingQuery(e,n,Ri.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LocalStore",Hz=3e8;class Gz{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Me(le),this.xs=new Ns(s=>u_(s),c_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Kz(t,e,n,r){return new Gz(t,e,n,r)}async function ab(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function Qz(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,d=f.keys();let g=j.resolve();return d.forEach(v=>{g=g.next(()=>h.getEntry(l,v)).next(_=>{const S=c.docVersions.get(v);pe(S!==null,48541),_.version.compareTo(S)<0&&(f.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),h.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lb(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Yz(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,f)));let g=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(yt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(f,g),function(_,S,w){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=Hz?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,g,h)&&a.push(n.Pi.updateTargetData(s,g))});let l=Mr(),c=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(Xz(s,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(te.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function Xz(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W(__,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function Jz(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=o_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zz(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new li(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Yg(t,e,n){const r=ne(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!pa(o))throw o;W(__,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function mS(t,e,n){const r=ne(t);let i=te.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=ne(l),d=f.xs.get(h);return d!==void 0?j.resolve(f.Ms.get(d)):f.Pi.getTargetData(c,h)}(r,o,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ue())).next(a=>(e8(r,F5(e),a),{documents:a,Qs:s})))}function e8(t,e,n){let r=t.Os.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class gS{constructor(){this.activeTargetIds=q5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t8{constructor(){this.Mo=new gS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="ConnectivityMonitor";class vS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(yS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(yS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function Xg(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="RestConnection",r8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===lf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Xg(),a=this.zo(e,n.toUriEncodedString());W(em,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),h=ua(c);return this.Jo(e,a,l,r,h).then(f=>(W(em,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Go(em,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=r8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class o8 extends i8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Xg();return new Promise((a,l)=>{const c=new hk;c.setWithCredentials(!0),c.listenOnce(fk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ih.NO_ERROR:const f=c.getResponseJson();W(It,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case ih.TIMEOUT:W(It,`RPC '${e}' ${o} timed out`),l(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const d=c.getStatus();if(W(It,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const _=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(v.status);l(new q(_,v.message))}else l(new q(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new q(U.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{W(It,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);W(It,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=Xg(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mk(),a=pk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");W(It,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let d=!1,g=!1;const v=new s8({Yo:S=>{g?W(It,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(d||(W(It,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),W(It,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},Zo:()=>f.close()}),_=(S,w,y)=>{S.listen(w,E=>{try{y(E)}catch(x){setTimeout(()=>{throw x},0)}})};return _(f,Ga.EventType.OPEN,()=>{g||(W(It,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),_(f,Ga.EventType.CLOSE,()=>{g||(g=!0,W(It,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))}),_(f,Ga.EventType.ERROR,S=>{g||(g=!0,Go(It,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),v.a_(new q(U.UNAVAILABLE,"The operation could not be completed")))}),_(f,Ga.EventType.MESSAGE,S=>{var w;if(!g){const y=S.data[0];pe(!!y,16349);const E=y,x=(E==null?void 0:E.error)||((w=E[0])==null?void 0:w.error);if(x){W(It,`RPC '${e}' stream ${i} received error:`,x);const O=x.status;let F=function(C){const P=Ke[C];if(P!==void 0)return Qk(P)}(O),A=x.message;F===void 0&&(F=U.INTERNAL,A="Unknown error status: "+O+" with message "+x.message),g=!0,v.a_(new q(F,A)),f.close()}else W(It,`RPC '${e}' stream ${i} received:`,y),v.u_(y)}}),_(a,dk.STAT_EVENT,S=>{S.stat===Fg.PROXY?W(It,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Fg.NOPROXY&&W(It,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){return new cz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="PersistentStream";class cb{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ub(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(_S,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(_S,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a8 extends cb{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dz(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Kn(o.readTime):te.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Qg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=zg(l)?{documents:gz(s,l)}:{query:yz(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Jk(s,o.resumeToken);const c=Hg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=ff(s,o.snapshotVersion.toTimestamp());const c=Hg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=_z(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Qg(this.serializer),n.removeTarget=e,this.q_(n)}}class l8 extends cb{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mz(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Qg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pz(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{}class c8 extends u8{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Gg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Gg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class h8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Or(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="RemoteStore";class f8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Os(this)&&(W(Rs,"Restarting streams for network reachability change."),await async function(l){const c=ne(l);c.Ea.add(4),await Fu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await fd(c)}(this))})}),this.Ra=new h8(r,i)}}async function fd(t){if(Os(t))for(const e of t.da)await e(!0)}async function Fu(t){for(const e of t.da)await e(!1)}function hb(t,e){const n=ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),I_(n)?T_(n):ga(n).O_()&&E_(n,e))}function w_(t,e){const n=ne(t),r=ga(n);n.Ia.delete(e),r.O_()&&fb(n,e),n.Ia.size===0&&(r.O_()?r.L_():Os(n)&&n.Ra.set("Unknown"))}function E_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ga(t).Y_(e)}function fb(t,e){t.Va.Ue(e),ga(t).Z_(e)}function T_(t){t.Va=new oz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ga(t).start(),t.Ra.ua()}function I_(t){return Os(t)&&!ga(t).x_()&&t.Ia.size>0}function Os(t){return ne(t).Ea.size===0}function db(t){t.Va=void 0}async function d8(t){t.Ra.set("Online")}async function p8(t){t.Ia.forEach((e,n)=>{E_(t,e)})}async function m8(t,e){db(t),I_(t)?(t.Ra.ha(e),T_(t)):t.Ra.set("Unknown")}async function g8(t,e,n){if(t.Ra.set("Online"),e instanceof Xk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){W(Rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pf(t,r)}else if(e instanceof lh?t.Va.Ze(e):e instanceof Yk?t.Va.st(e):t.Va.tt(e),!n.isEqual(te.min()))try{const r=await lb(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),fb(s,l);const f=new li(h.target,l,c,h.sequenceNumber);E_(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W(Rs,"Failed to raise snapshot:",r),await pf(t,r)}}async function pf(t,e,n){if(!pa(e))throw e;t.Ea.add(1),await Fu(t),t.Ra.set("Offline"),n||(n=()=>lb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(Rs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fd(t)})}function pb(t,e){return e().catch(n=>pf(t,n,e))}async function dd(t){const e=ne(t),n=Vi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:o_;for(;y8(e);)try{const i=await Jz(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,v8(e,i)}catch(i){await pf(e,i)}mb(e)&&gb(e)}function y8(t){return Os(t)&&t.Ta.length<10}function v8(t,e){t.Ta.push(e);const n=Vi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mb(t){return Os(t)&&!Vi(t).x_()&&t.Ta.length>0}function gb(t){Vi(t).start()}async function _8(t){Vi(t).ra()}async function w8(t){const e=Vi(t);for(const n of t.Ta)e.ea(n.mutations)}async function E8(t,e,n){const r=t.Ta.shift(),i=d_.from(r,e,n);await pb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dd(t)}async function T8(t,e){e&&Vi(t).X_&&await async function(r,i){if(function(o){return rz(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();Vi(r).B_(),await pb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await dd(r)}}(t,e),mb(t)&&gb(t)}async function wS(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),W(Rs,"RemoteStore received new credentials");const r=Os(n);n.Ea.add(3),await Fu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fd(n)}async function I8(t,e){const n=ne(t);e?(n.Ea.delete(2),await fd(n)):e||(n.Ea.add(2),await Fu(n),n.Ra.set("Unknown"))}function ga(t){return t.ma||(t.ma=function(n,r,i){const s=ne(n);return s.sa(),new a8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:d8.bind(null,t),t_:p8.bind(null,t),r_:m8.bind(null,t),H_:g8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),I_(t)?T_(t):t.Ra.set("Unknown")):(await t.ma.stop(),db(t))})),t.ma}function Vi(t){return t.fa||(t.fa=function(n,r,i){const s=ne(n);return s.sa(),new l8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:_8.bind(null,t),r_:T8.bind(null,t),ta:w8.bind(null,t),na:E8.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await dd(t)):(await t.fa.stop(),t.Ta.length>0&&(W(Rs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new S_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A_(t,e){if(Or("AsyncQueue",`${e}: ${t}`),pa(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Ka(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.ga=new Me(G.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):X(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Jo(e,n,Ao.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class A8{constructor(){this.queries=TS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ne(n),s=i.queries;i.queries=TS(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function TS(){return new Ns(t=>Lk(t),od)}async function C_(t,e){const n=ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new S8,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=A_(o,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&R_(n)}async function P_(t,e){const n=ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C8(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&R_(n)}function P8(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function R_(t){t.Ca.forEach(e=>{e.next()})}var Jg,IS;(IS=Jg||(Jg={})).Ma="default",IS.Cache="cache";class x_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.key=e}}class vb{constructor(e){this.key=e}}class R8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ue(),this.mutatedKeys=ue(),this.eu=Fk(e),this.tu=new Ao(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ES,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),g=ad(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;d&&g?d.data.isEqual(g.data)?v!==_&&(r.track({type:3,doc:g}),S=!0):this.su(d,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!d&&g?(r.track({type:0,doc:g}),S=!0):d&&!g&&(r.track({type:1,doc:d}),S=!0,(l||c)&&(a=!0)),S&&(g?(o=o.add(g),s=_?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(g,v){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Rt:S})}};return _(g)-_(v)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Jo(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ES,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new vb(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new yb(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const k_="SyncEngine";class x8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k8{constructor(e){this.key=e,this.hu=!1}}class b8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ns(a=>Lk(a),od),this.Iu=new Map,this.Eu=new Set,this.du=new Me(G.comparator),this.Au=new Map,this.Ru=new g_,this.Vu={},this.mu=new Map,this.fu=Xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V8(t,e,n=!0){const r=Sb(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await _b(r,e,n,!0),i}async function D8(t,e){const n=Sb(t);await _b(n,e,!0,!1)}async function _b(t,e,n,r){const i=await Zz(t.localStore,Gn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await N8(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&hb(t.remoteStore,i),a}async function N8(t,e,n,r,i){t.pu=(f,d,g)=>async function(_,S,w,y){let E=S.view.ru(w);E.Cs&&(E=await mS(_.localStore,S.query,!1).then(({documents:A})=>S.view.ru(A,E)));const x=y&&y.targetChanges.get(S.targetId),O=y&&y.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(E,_.isPrimaryClient,x,O);return AS(_,S.targetId,F.au),F.snapshot}(t,f,d,g);const s=await mS(t.localStore,e,!0),o=new R8(e,s.Qs),a=o.ru(s.documents),l=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);AS(t,n,c.au);const h=new x8(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function O8(t,e,n){const r=ne(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!od(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&w_(r.remoteStore,i.targetId),Zg(r,i.targetId)}).catch(da)):(Zg(r,i.targetId),await Yg(r.localStore,i.targetId,!0))}async function M8(t,e){const n=ne(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),w_(n.remoteStore,r.targetId))}async function L8(t,e,n){const r=q8(t);try{const i=await function(o,a){const l=ne(o),c=Ce.now(),h=a.reduce((g,v)=>g.add(v.key),ue());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Mr(),_=ue();return l.Ns.getEntries(g,h).next(S=>{v=S,v.forEach((w,y)=>{y.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(S=>{f=S;const w=[];for(const y of a){const E=J5(y,f.get(y.key).overlayedDocument);E!=null&&w.push(new $i(y.key,E,xk(E.value.mapValue),vn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(S=>{d=S;const w=S.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(g,S.batchId,w)})}).then(()=>({batchId:d.batchId,changes:jk(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Me(le)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Uu(r,i.changes),await dd(r.remoteStore)}catch(i){const s=A_(i,"Failed to persist write");n.reject(s)}}async function wb(t,e){const n=ne(t);try{const r=await Yz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?pe(o.hu,14607):i.removedDocuments.size>0&&(pe(o.hu,42227),o.hu=!1))}),await Uu(n,r,e)}catch(r){await da(r)}}function SS(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.Sa)d.va(a)&&(c=!0)}),c&&R_(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F8(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Me(G.comparator);o=o.insert(s,Ct.newNoDocument(s,te.min()));const a=ue().add(s),l=new cd(te.min(),new Map,new Me(le),o,a);await wb(r,l),r.du=r.du.remove(s),r.Au.delete(e),b_(r)}else await Yg(r.localStore,e,!1).then(()=>Zg(r,e,n)).catch(da)}async function U8(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await Qz(n.localStore,e);Tb(n,r,null),Eb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uu(n,i)}catch(i){await da(i)}}async function j8(t,e,n){const r=ne(t);try{const i=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(pe(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);Tb(r,e,n),Eb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uu(r,i)}catch(i){await da(i)}}function Eb(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Tb(t,e,n){const r=ne(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Zg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Ib(t,r)})}function Ib(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(w_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),b_(t))}function AS(t,e,n){for(const r of n)r instanceof yb?(t.Ru.addReference(r.key,e),$8(t,r)):r instanceof vb?(W(k_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Ib(t,r.key)):X(19791,{wu:r})}function $8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(k_,"New document in limbo: "+n),t.Eu.add(r),b_(t))}function b_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(Ee.fromString(e)),r=t.fu.next();t.Au.set(r,new k8(n)),t.du=t.du.insert(n,r),hb(t.remoteStore,new li(Gn(sd(n.path)),r,"TargetPurposeLimboResolution",nd.ce))}}async function Uu(t,e,n){const r=ne(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=v_.As(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const h=ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(c,d=>j.forEach(d.Es,g=>h.persistence.referenceDelegate.addReference(f,d.targetId,g)).next(()=>j.forEach(d.ds,g=>h.persistence.referenceDelegate.removeReference(f,d.targetId,g)))))}catch(f){if(!pa(f))throw f;W(__,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const g=h.Ms.get(d),v=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(v);h.Ms=h.Ms.insert(d,_)}}}(r.localStore,s))}async function B8(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){W(k_,"User change. New user:",e.toKey());const r=await ab(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new q(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uu(n,r.Ls)}}function z8(t,e){const n=ne(t),r=n.Au.get(e);if(r&&r.hu)return ue().add(r.key);{let i=ue();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function Sb(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F8.bind(null,e),e.Pu.H_=C8.bind(null,e.eventManager),e.Pu.yu=P8.bind(null,e.eventManager),e}function q8(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j8.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Kz(this.persistence,new Wz,e.initialUser,this.serializer)}Cu(e){return new ob(y_.mi,this.serializer)}Du(e){return new t8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class W8 extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pe(this.persistence.referenceDelegate instanceof df,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kz(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new ob(r=>df.mi(r,n),this.serializer)}}class ey{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B8.bind(null,this.syncEngine),await I8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A8}()}createDatastore(e){const n=hd(e.databaseInfo.databaseId),r=function(s){return new o8(s)}(e.databaseInfo);return function(s,o,a,l){return new c8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new f8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>SS(this.syncEngine,n,0),function(){return vS.v()?new vS:new n8}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const f=new b8(i,s,o,a,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ne(i);W(Rs,"RemoteStore shutting down."),s.Ea.add(5),await Fu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="FirestoreClient";class H8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=s_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{W(Di,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(Di,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=A_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nm(t,e){t.asyncQueue.verifyOperationInProgress(),W(Di,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ab(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G8(t);W(Di,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wS(e.remoteStore,i)),t._onlineComponents=e}async function G8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Di,"Using user provided OfflineComponentProvider");try{await nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await nm(t,new mf)}}else W(Di,"Using default OfflineComponentProvider"),await nm(t,new W8(void 0));return t._offlineComponents}async function Ab(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Di,"Using user provided OnlineComponentProvider"),await CS(t,t._uninitializedComponentsProvider._online)):(W(Di,"Using default OnlineComponentProvider"),await CS(t,new ey))),t._onlineComponents}function K8(t){return Ab(t).then(e=>e.syncEngine)}async function gf(t){const e=await Ab(t),n=e.eventManager;return n.onListen=V8.bind(null,e.syncEngine),n.onUnlisten=O8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M8.bind(null,e.syncEngine),n}function Q8(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new V_({next:d=>{h.Nu(),o.enqueueAndForget(()=>P_(s,f));const g=d.docs.has(a);!g&&d.fromCache?c.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&l&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new x_(sd(a.path),h,{includeMetadataChanges:!0,qa:!0});return C_(s,f)}(await gf(t),t.asyncQueue,e,n,r)),r.promise}function Y8(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new V_({next:d=>{h.Nu(),o.enqueueAndForget(()=>P_(s,f)),d.fromCache&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new x_(a,h,{includeMetadataChanges:!0,qa:!0});return C_(s,f)}(await gf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firestore.googleapis.com",RS=!0;class xS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pb,this.ssl=RS}else this.host=e.host,this.ssl=e.ssl??RS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rz)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cb(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t5;switch(r.type){case"firstParty":return new s5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PS.get(n);r&&(W("ComponentProvider","Removing Datastore"),PS.delete(n),r.terminate())}(this),Promise.resolve()}}function X8(t,e,n,r={}){var c;t=Jt(t,pd);const i=ua(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Ax(`https://${a}`),Cx("Firestore",!0)),s.host!==Pb&&s.host!==a&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Ss(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=St.MOCK_USER;else{h=Cj(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new St(d)}t._authCredentials=new n5(new yk(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new je(this.firestore,e,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ou(n,je._jsonSchema))return new je(e,r||null,new G(Ee.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Je("string",je._jsonSchemaVersion),referencePath:Je("string")};class Ti extends Bi{constructor(e,n,r){super(e,n,sd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new je(this.firestore,null,new G(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function Jq(t,e,...n){if(t=lt(t),vk("collection","path",e),t instanceof pd){const r=Ee.fromString(e,...n);return BI(r),new Ti(t,null,r)}{if(!(t instanceof je||t instanceof Ti))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return BI(r),new Ti(t.firestore,null,r)}}function D_(t,e,...n){if(t=lt(t),arguments.length===1&&(e=s_.newId()),vk("doc","path",e),t instanceof pd){const r=Ee.fromString(e,...n);return $I(r),new je(t,null,new G(r))}{if(!(t instanceof je||t instanceof Ti))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return $I(r),new je(t.firestore,t instanceof Ti?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="AsyncQueue";class bS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ub(this,"async_queue_retry"),this._c=()=>{const r=tm();r&&W(kS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ir;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pa(e))throw e;W(kS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Or("INTERNAL UNHANDLED ERROR: ",VS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=S_.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&X(47125,{Pc:VS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Lr extends pd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bS(e),this._firestoreClient=void 0,await e}}}function J8(t,e){const n=typeof t=="object"?t:kx(),r=typeof t=="string"?t:lf,i=Gv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Sj("firestore");s&&X8(i,...s)}return i}function md(t){if(t._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z8(t),t._firestoreClient}function Z8(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,c,h){return new T5(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Cb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new H8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(yt.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:Je("string",pn._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qn._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,Qn._jsonSchema))return new Qn(e.latitude,e.longitude)}}Qn._jsonSchemaVersion="firestore/geoPoint/1.0",Qn._jsonSchema={type:Je("string",Qn._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,Yn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Yn(e.vectorValues);throw new q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yn._jsonSchemaVersion="firestore/vectorValue/1.0",Yn._jsonSchema={type:Je("string",Yn._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=/^__.*__$/;class tq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}class Rb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ac:t})}}class N_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new N_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xb(this.Ac)&&eq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hd(e)}Cc(e,n,r,i=!1){return new N_({Ac:e,methodName:n,Dc:r,path:pt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vd(t){const e=t._freezeSettings(),n=hd(t._databaseId);return new nq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kb(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);M_("Data must be an object, but it was:",o,r);const a=bb(r,o);let l,c;if(s.merge)l=new rn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const d=ty(e,f,n);if(!o.contains(d))throw new q(U.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Db(h,d)||h.push(d)}l=new rn(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new tq(new Ht(a),l,c)}class _d extends yd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _d}}class O_ extends yd{_toFieldTransform(e){return new K5(e.path,new Xl)}isEqual(e){return e instanceof O_}}function rq(t,e,n,r){const i=t.Cc(1,e,n);M_("Data must be an object, but it was:",i,r);const s=[],o=Ht.empty();ji(r,(l,c)=>{const h=L_(e,l,n);c=lt(c);const f=i.yc(h);if(c instanceof _d)s.push(h);else{const d=ju(c,f);d!=null&&(s.push(h),o.set(h,d))}});const a=new rn(s);return new Rb(o,a,i.fieldTransforms)}function iq(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[ty(e,r,n)],l=[i];if(s.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(ty(e,s[d])),l.push(s[d+1]);const c=[],h=Ht.empty();for(let d=a.length-1;d>=0;--d)if(!Db(c,a[d])){const g=a[d];let v=l[d];v=lt(v);const _=o.yc(g);if(v instanceof _d)c.push(g);else{const S=ju(v,_);S!=null&&(c.push(g),h.set(g,S))}}const f=new rn(c);return new Rb(h,f,o.fieldTransforms)}function sq(t,e,n,r=!1){return ju(n,t.Cc(r?4:3,e))}function ju(t,e){if(Vb(t=lt(t)))return M_("Unsupported field value:",e,t),bb(t,e);if(t instanceof yd)return function(r,i){if(!xb(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ju(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ce.fromDate(r);return{timestampValue:ff(i.serializer,s)}}if(r instanceof Ce){const s=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(i.serializer,s)}}if(r instanceof Qn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pn)return{bytesValue:Jk(i.serializer,r._byteString)};if(r instanceof je){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:m_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yn)return function(o,a){return{mapValue:{fields:{[Pk]:{stringValue:Rk},[uf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return h_(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${td(r)}`)}(t,e)}function bb(t,e){const n={};return Ek(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,(r,i)=>{const s=ju(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Vb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof Qn||t instanceof pn||t instanceof je||t instanceof yd||t instanceof Yn)}function M_(t,e,n){if(!Vb(n)||!_k(n)){const r=td(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ty(t,e,n){if((e=lt(e))instanceof gd)return e._internalPath;if(typeof e=="string")return L_(t,e);throw yf("Field path arguments must be of type string or ",t,!1,void 0,n)}const oq=new RegExp("[~\\*/\\[\\]]");function L_(t,e,n){if(e.search(oq)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gd(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new q(U.INVALID_ARGUMENT,a+t+l)}function Db(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(F_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aq extends Nb{data(){return super.data()}}function F_(t,e){return typeof e=="string"?L_(t,e):e instanceof gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U_{}class Mb extends U_{}function Zq(t,e,...n){let r=[];e instanceof U_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof $_).length,a=s.filter(l=>l instanceof j_).length;if(o>1||o>0&&a>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class j_ extends Mb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new j_(e,n,r)}_apply(e){const n=this._parse(e);return Lb(e._query,n),new Bi(e.firestore,e.converter,qg(e._query,n))}_parse(e){const n=vd(e.firestore);return function(s,o,a,l,c,h,f){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){OS(f,h);const v=[];for(const _ of f)v.push(NS(l,s,_));d={arrayValue:{values:v}}}else d=NS(l,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||OS(f,h),d=sq(a,o,f,h==="in"||h==="not-in");return Xe.create(c,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class $_ extends U_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Nn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Lb(o,l),o=qg(o,l)}(e._query,n),new Bi(e.firestore,e.converter,qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B_ extends Mb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new B_(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yl(s,o)}(e._query,this._field,this._direction);return new Bi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ma(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function e7(t,e="asc"){const n=e,r=F_("orderBy",t);return B_._create(r,n)}function NS(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mk(e)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!G.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return YI(t,new G(r))}if(n instanceof je)return YI(t,n._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(n)}.`)}function OS(t,e){if(!Array.isArray(t)||t.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lb(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lq{convertValue(e,n="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ji(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[uf].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>He(o.doubleValue));return new Yn(n)}convertGeoPoint(e){return new Qn(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=id(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=xi(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);pe(ib(r),9688,{name:e});const i=new Kl(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||Or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ya{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ys extends Nb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(F_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",ys._jsonSchema={type:Je("string",ys._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class uh extends ys{data(e={}){return super.data(e)}}class vs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ya(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uh(this._firestore,this._userDataWriter,r.key,r,new Ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new uh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ya(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new uh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ya(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:uq(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=s_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t){t=Jt(t,je);const e=Jt(t.firestore,Lr);return Q8(md(e),t._key).then(n=>Ub(e,t,n))}vs._jsonSchemaVersion="firestore/querySnapshot/1.0",vs._jsonSchema={type:Je("string",vs._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class z_ extends lq{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,n)}}function t7(t){t=Jt(t,Bi);const e=Jt(t.firestore,Lr),n=md(e),r=new z_(e);return Ob(t._query),Y8(n,t._query).then(i=>new vs(e,r,t,i))}function hq(t,e,n){t=Jt(t,je);const r=Jt(t.firestore,Lr),i=Fb(t.converter,e,n);return wd(r,[kb(vd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vn.none())])}function n7(t,e,n,...r){t=Jt(t,je);const i=Jt(t.firestore,Lr),s=vd(i);let o;return o=typeof(e=lt(e))=="string"||e instanceof gd?iq(s,"updateDoc",t._key,e,n,r):rq(s,"updateDoc",t._key,e),wd(i,[o.toMutation(t._key,vn.exists(!0))])}function r7(t){return wd(Jt(t.firestore,Lr),[new f_(t._key,vn.none())])}function i7(t,e){const n=Jt(t.firestore,Lr),r=D_(t),i=Fb(t.converter,e);return wd(n,[kb(vd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vn.exists(!1))]).then(()=>r)}function s7(t,...e){var l,c,h;t=lt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||DS(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(DS(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let s,o,a;if(t instanceof je)o=Jt(t.firestore,Lr),a=sd(t._key.path),s={next:f=>{e[r]&&e[r](Ub(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Jt(t,Bi);o=Jt(f.firestore,Lr),a=f._query;const d=new z_(o);s={next:g=>{e[r]&&e[r](new vs(o,d,f,g))},error:e[r+1],complete:e[r+2]},Ob(t._query)}return function(d,g,v,_){const S=new V_(_),w=new x_(g,S,v);return d.asyncQueue.enqueueAndForget(async()=>C_(await gf(d),w)),()=>{S.Nu(),d.asyncQueue.enqueueAndForget(async()=>P_(await gf(d),w))}}(md(o),a,i,s)}function wd(t,e){return function(r,i){const s=new Ir;return r.asyncQueue.enqueueAndForget(async()=>L8(await K8(r),i,s)),s.promise}(md(t),e)}function Ub(t,e,n){const r=n.docs.get(e._key),i=new z_(t);return new ys(t,i,e._key,r,new Ya(n.hasPendingWrites,n.fromCache),e.converter)}function MS(){return new O_("serverTimestamp")}(function(e,n=!0){(function(i){fa=i})(ca),Wo(new As("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Lr(new r5(r.getProvider("auth-internal")),new o5(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),wi(LI,FI,e),wi(LI,FI,"esm2020")})();const fq={VITE_FIREBASE_API_KEY:"AIzaSyBz4HcPinj3wkeTqVirTVl0bujE0buX6G8",VITE_FIREBASE_APP_ID:"1:641158626848:web:afa272e28d8567c988c645",VITE_FIREBASE_AUTH_DOMAIN:"local-effort.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"641158626848",VITE_FIREBASE_PROJECT_ID:"local-effort",VITE_FIREBASE_STORAGE_BUCKET:"local-effort.appspot.com"},rt=(typeof import.meta<"u"?fq:{})||{},LS={apiKey:rt.VITE_API_KEY||rt.VITE_FIREBASE_API_KEY||rt.REACT_APP_API_KEY,authDomain:rt.VITE_AUTH_DOMAIN||rt.VITE_FIREBASE_AUTH_DOMAIN||rt.REACT_APP_AUTH_DOMAIN,projectId:rt.VITE_PROJECT_ID||rt.VITE_FIREBASE_PROJECT_ID||rt.REACT_APP_PROJECT_ID,storageBucket:rt.VITE_STORAGE_BUCKET||rt.VITE_FIREBASE_STORAGE_BUCKET||rt.REACT_APP_STORAGE_BUCKET,messagingSenderId:rt.VITE_MESSAGING_SENDER_ID||rt.VITE_FIREBASE_MESSAGING_SENDER_ID||rt.REACT_APP_MESSAGING_SENDER_ID,appId:rt.VITE_APP_ID||rt.VITE_FIREBASE_APP_ID||rt.REACT_APP_APP_ID};let Zo=null;try{LS.apiKey?Zo=xx(LS):console.warn("Firebase config missing — auth/comments disabled on client.")}catch(t){console.warn("Failed to initialize Firebase app:",t&&(t.message||t))}const vf=Zo?J8(Zo):null,Sr=Zo?XB(Zo):null,FS=Zo?new gr:null,o7=()=>!Sr||!FS?Promise.reject(new Error("Auth not configured")):oB(Sr,FS),a7=()=>Sr?j9(Sr):Promise.resolve();function US({children:t}){const[e,n]=V.useState(null),[r,i]=V.useState(!0);return V.useEffect(()=>{if(!Sr){i(!1);return}const s=Jx(Sr,o=>{n(o),i(!1)});return()=>s()},[]),r?M.createElement("div",{className:"p-6 text-center"},"Loading…"):!Sr||!e?M.createElement("div",{className:"mx-auto max-w-xl p-6 text-center"},M.createElement("h2",{className:"text-xl font-semibold mb-2"},"Sign in required"),M.createElement("p",{className:"mb-4 text-gray-600"},"Please sign in to access this area."),M.createElement(Fh,{className:"inline-block px-4 py-2 rounded bg-black text-white",to:"/auth"},"Go to Sign In")):t}async function l7(t,e){if(!vf||!t)return null;const n=D_(vf,"userProfiles",t),r={uid:t,...e,updatedAt:MS?MS():new Date};return await hq(n,r,{merge:!0}),r}async function dq(t){if(!vf||!t)return null;const e=D_(vf,"userProfiles",t),n=await cq(e);return n.exists()?n.data():null}const u7=[{key:"happymonday",name:"Happy Monday",description:"Menu management and feedback collector.",type:"internal",route:"/partners/happy-monday",icon:"ClipboardList"},{key:"inbox",name:"Inbox",description:"Mailbox (Brevo) for inbound messages.",type:"internal",route:"/inbox",icon:"Inbox"},{key:"studio",name:"Sanity Studio",description:"Content management studio (opens in new tab).",type:"external",href:"/studio",icon:"FileText"},{key:"zafa",name:"ZAFA Events",description:"Events management utilities for ZAFA.",type:"internal",route:"/partners/zafa-events",icon:"Calendar"},{key:"gallant",name:"Gallant Hawking",description:"Landing builder / micro-site utilities.",type:"internal",route:"/partners/gallant-hawking",icon:"LayoutDashboard"}];function pq(t,e){const n=t&&(t.roles||t.tools||t.apps)||[];return n==="all"?!0:Array.isArray(n)?n.includes(e):!1}function rm({toolKey:t,children:e}){const[n,r]=V.useState(null),[i,s]=V.useState(!1),[o,a]=V.useState(!0);return V.useEffect(()=>{if(!Sr){a(!1);return}const l=Jx(Sr,async c=>{if(r(c),!c){s(!1),a(!1);return}try{const h=await dq(c.uid);s(pq(h,t))}catch{s(!1)}finally{a(!1)}});return()=>l()},[t]),o?M.createElement("div",{className:"p-6 text-center"},"Loading…"):n?i?e:M.createElement("div",{className:"mx-auto max-w-xl p-6 text-center"},M.createElement("h2",{className:"text-xl font-semibold mb-2"},"Access denied"),M.createElement("p",{className:"mb-4 text-gray-600"},"Your account is not assigned to this tool."),M.createElement(Fh,{className:"inline-block px-4 py-2 rounded border",to:"/partner-portal"},"Back to Portal")):M.createElement("div",{className:"mx-auto max-w-xl p-6 text-center"},M.createElement("h2",{className:"text-xl font-semibold mb-2"},"Sign in required"),M.createElement("p",{className:"mb-4 text-gray-600"},"Please sign in to access partner tools."),M.createElement(Fh,{className:"inline-block px-4 py-2 rounded bg-black text-white",to:"/auth"},"Go to Sign In"))}const mq=V.lazy(()=>nt(()=>import("./HomePage-peM1nV9T.js"),__vite__mapDeps([0,1,2,3]))),gq=V.lazy(()=>nt(()=>import("./AboutUsPage-DxIu_FzH.js"),__vite__mapDeps([4,1,2]))),yq=V.lazy(()=>nt(()=>import("./ServicesPage-Bc4Omtdh.js"),__vite__mapDeps([5,1,3]))),vq=V.lazy(()=>nt(()=>import("./PricingPage-B3q0l8GU.js"),[])),_q=V.lazy(()=>nt(()=>import("./CrowdfundingPage-nXj-qfmB.js"),[])),wq=V.lazy(()=>nt(()=>import("./MenuPage-DFocHXl8.js"),__vite__mapDeps([6,1]))),Eq=V.lazy(()=>nt(()=>import("./HappyMondayPage-DeNYVfft.js"),[])),Tq=V.lazy(()=>nt(()=>import("./GalleryPage-DXH8EJ6d.js"),__vite__mapDeps([7,1]))),Iq=V.lazy(()=>nt(()=>import("./MealPrepPage-BKK8tTcb.js"),__vite__mapDeps([8,3,1,9]))),Sq=V.lazy(()=>nt(()=>import("./PartnerPortalPage-Bi4Rpwxi.js"),[])),Aq=V.lazy(()=>nt(()=>import("./PartnerPortalWelcome-B07HMaA3.js"),__vite__mapDeps([10,9,11,12,13]))),Cq=V.lazy(()=>nt(()=>import("./InboxPage-44tdRUO8.js"),[])),Pq=V.lazy(()=>nt(()=>import("./CampaignsPage-DPXfVOP-.js"),[])),Rq=V.lazy(()=>nt(()=>import("./AuthPage-Dlctp2fk.js"),[])),xq=V.lazy(()=>nt(()=>import("./app-CMaxu3nc.js"),[])),kq=V.lazy(()=>nt(()=>import("./App-B0JDVt0y.js"),__vite__mapDeps([14,11,13]))),bq=V.lazy(()=>nt(()=>import("./App-D-olT1-K.js"),__vite__mapDeps([15,12,11]))),Vq=()=>{const t=ia();return V.useEffect(()=>{var e,n;(n=(e=document.fonts)==null?void 0:e.ready)==null||n.then(()=>document.body.classList.add("fonts-loaded"))},[]),M.createElement(so,null,M.createElement("div",{className:"min-h-screen flex flex-col bg-white"},M.createElement(a3,null),M.createElement("main",{className:"flex-1"},M.createElement(V.Suspense,{fallback:M.createElement(YP,null)},M.createElement(uP,{mode:"wait"},M.createElement(l2,{location:t,key:t.pathname},M.createElement(it,{path:"/",element:M.createElement(ct,null,M.createElement(mq,null))}),M.createElement(it,{path:"/about",element:M.createElement(ct,null,M.createElement(gq,null))}),M.createElement(it,{path:"/services",element:M.createElement(ct,null,M.createElement(yq,null))}),M.createElement(it,{path:"/pricing",element:M.createElement(ct,null,M.createElement(vq,null))}),M.createElement(it,{path:"/crowdfunding",element:M.createElement(ct,null,M.createElement(_q,null))}),M.createElement(it,{path:"/menu",element:M.createElement(ct,null,M.createElement(wq,null))}),M.createElement(it,{path:"/meal-prep",element:M.createElement(ct,null,M.createElement(Iq,null))}),M.createElement(it,{path:"/happy-monday",element:M.createElement(ct,null,M.createElement(Eq,null))}),M.createElement(it,{path:"/gallery",element:M.createElement(ct,null,M.createElement(Tq,null))}),M.createElement(it,{path:"/partner-portal",element:M.createElement(ct,null,M.createElement(Sq,null))}),M.createElement(it,{path:"/partner-portal/welcome",element:M.createElement(ct,null,M.createElement(Aq,null))}),M.createElement(it,{path:"/auth",element:M.createElement(ct,null,M.createElement(Rq,null))}),M.createElement(it,{path:"/inbox",element:M.createElement(ct,null,M.createElement(US,null,M.createElement(Cq,null)))}),M.createElement(it,{path:"/campaigns",element:M.createElement(ct,null,M.createElement(US,null,M.createElement(Pq,null)))}),M.createElement(it,{path:"/partners/zafa-events",element:M.createElement(ct,null,M.createElement(rm,{toolKey:"zafa"},M.createElement(xq,null)))}),M.createElement(it,{path:"/partners/gallant-hawking",element:M.createElement(ct,null,M.createElement(rm,{toolKey:"gallant"},M.createElement(kq,null)))}),M.createElement(it,{path:"/partners/happy-monday",element:M.createElement(ct,null,M.createElement(rm,{toolKey:"happymonday"},M.createElement(bq,null)))}))))),M.createElement(l3,null),M.createElement(mj,null)))};function Dq(){return M.createElement(g2,null,M.createElement(Vq,null))}var Nq="@vercel/analytics",Oq="1.5.0",Mq=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function jb(){return typeof window<"u"}function $b(){try{const t="production"}catch{}return"production"}function Lq(t="auto"){if(t==="auto"){window.vam=$b();return}window.vam=t}function Fq(){return(jb()?window.vam:$b())||"production"}function ny(){return Fq()==="development"}function Uq(t){return t.scriptSrc?t.scriptSrc:ny()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function jq(t={debug:!0}){var e;if(!jb())return;Lq(t.mode),Mq(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const n=Uq(t);if(document.head.querySelector(`script[src*="${n}"]`))return;const r=document.createElement("script");r.src=n,r.defer=!0,r.dataset.sdkn=Nq+(t.framework?`/${t.framework}`:""),r.dataset.sdkv=Oq,t.disableAutoTrack&&(r.dataset.disableAutoTrack="1"),t.endpoint?r.dataset.endpoint=t.endpoint:t.basePath&&(r.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(r.dataset.dsn=t.dsn),r.onerror=()=>{const i=ny()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${i}`)},ny()&&t.debug===!1&&(r.dataset.debug="false"),document.head.appendChild(r)}jq();const $q=im.createRoot(document.getElementById("root"));$q.render(M.createElement(M.StrictMode,null,M.createElement(Dq,null)));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});export{uP as A,D_ as B,r7 as C,n7 as D,cq as E,hq as F,t7 as G,kR as H,Yq as I,QN as J,Wq as K,Fh as L,ce as P,M as R,wp as W,nt as _,Hq as a,ia as b,pj as c,zq as d,Sr as e,Gq as f,du as g,a7 as h,o7 as i,Tr as j,vf as k,Jq as l,mr as m,s7 as n,e7 as o,i7 as p,Zq as q,V as r,Kq as s,MS as t,WO as u,dq as v,l7 as w,u7 as x,pq as y,Jx as z};
