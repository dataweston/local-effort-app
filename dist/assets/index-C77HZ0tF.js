const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-CmaM1Y0X.js","assets/cloudinaryImage-CjdiiyR1.js","assets/cloudinaryContent-9WNOh6YK.js","assets/AboutUsPage-B7YfHbDb.js","assets/ServicesPage-W_Co6_Hl.js","assets/PhotoGrid-Cn-ZJxgQ.js","assets/MenuPage-YVm2eBew.js","assets/EventsPage-CRI3NVap.js","assets/GalleryPage-DIg135LX.js","assets/MealPrepPage-CnUpvq-Q.js","assets/useAuthUser-D56VcM0P.js","assets/PartnerPortalPage-OUk0daUj.js","assets/lucide-react-MXM2L0f7.js","assets/plus-DU7HzEsv.js","assets/send-DWY1Taua.js","assets/calendar-D3WII-Ps.js","assets/x-pWXhR37Q.js","assets/users-BNbN0XJ7.js","assets/minus-Rh3Z7vfy.js","assets/trash-2-B7eCmmW6.js","assets/PartnerPortalWelcome-BOR7uYn5.js","assets/AuthPage-386gU4xl.js"])))=>i.map(i=>d[i]);
var bV=Object.defineProperty;var Jw=t=>{throw TypeError(t)};var xV=(t,e,n)=>e in t?bV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Q=(t,e,n)=>xV(t,typeof e!="symbol"?e+"":e,n),Zw=(t,e,n)=>e.has(t)||Jw("Cannot "+n);var k=(t,e,n)=>(Zw(t,e,"read from private field"),n?n.call(t):e.get(t)),ne=(t,e,n)=>e.has(t)?Jw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),te=(t,e,n,r)=>(Zw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function kV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var o7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _u(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GS={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=Symbol.for("react.element"),VV=Symbol.for("react.portal"),DV=Symbol.for("react.fragment"),NV=Symbol.for("react.strict_mode"),OV=Symbol.for("react.profiler"),MV=Symbol.for("react.provider"),LV=Symbol.for("react.context"),FV=Symbol.for("react.forward_ref"),UV=Symbol.for("react.suspense"),jV=Symbol.for("react.memo"),$V=Symbol.for("react.lazy"),eE=Symbol.iterator;function BV(t){return t===null||typeof t!="object"?null:(t=eE&&t[eE]||t["@@iterator"],typeof t=="function"?t:null)}var KS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QS=Object.assign,YS={};function na(t,e,n){this.props=t,this.context=e,this.refs=YS,this.updater=n||KS}na.prototype.isReactComponent={};na.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};na.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XS(){}XS.prototype=na.prototype;function ly(t,e,n){this.props=t,this.context=e,this.refs=YS,this.updater=n||KS}var uy=ly.prototype=new XS;uy.constructor=ly;QS(uy,na.prototype);uy.isPureReactComponent=!0;var tE=Array.isArray,JS=Object.prototype.hasOwnProperty,cy={current:null},ZS={key:!0,ref:!0,__self:!0,__source:!0};function eA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)JS.call(e,r)&&!ZS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wu,type:t,key:s,ref:o,props:i,_owner:cy.current}}function zV(t,e){return{$$typeof:wu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hy(t){return typeof t=="object"&&t!==null&&t.$$typeof===wu}function qV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nE=/\/+/g;function Qd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qV(""+t.key):e.toString(36)}function jc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wu:case VV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Qd(o,0):r,tE(i)?(n="",t!=null&&(n=t.replace(nE,"$&/")+"/"),jc(i,e,n,"",function(c){return c})):i!=null&&(hy(i)&&(i=zV(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",tE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Qd(s,a);o+=jc(s,e,n,l,i)}else if(l=BV(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Qd(s,a++),o+=jc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hc(t,e,n){if(t==null)return t;var r=[],i=0;return jc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function WV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},$c={transition:null},HV={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:$c,ReactCurrentOwner:cy};function tA(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:hc,forEach:function(t,e,n){hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hc(t,function(){e++}),e},toArray:function(t){return hc(t,function(e){return e})||[]},only:function(t){if(!hy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=na;oe.Fragment=DV;oe.Profiler=OV;oe.PureComponent=ly;oe.StrictMode=NV;oe.Suspense=UV;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HV;oe.act=tA;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=QS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)JS.call(e,l)&&!ZS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:wu,type:t.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:LV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MV,_context:t},t.Consumer=t};oe.createElement=eA;oe.createFactory=function(t){var e=eA.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:FV,render:t}};oe.isValidElement=hy;oe.lazy=function(t){return{$$typeof:$V,_payload:{_status:-1,_result:t},_init:WV}};oe.memo=function(t,e){return{$$typeof:jV,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=$c.transition;$c.transition={};try{t()}finally{$c.transition=e}};oe.unstable_act=tA;oe.useCallback=function(t,e){return Ft.current.useCallback(t,e)};oe.useContext=function(t){return Ft.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Ft.current.useEffect(t,e)};oe.useId=function(){return Ft.current.useId()};oe.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Ft.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};oe.useRef=function(t){return Ft.current.useRef(t)};oe.useState=function(t){return Ft.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Ft.current.useTransition()};oe.version="18.3.1";GS.exports=oe;var V=GS.exports;const M=_u(V),GV=kV({__proto__:null,default:M},[V]);var um={},nA={exports:{}},an={},rA={exports:{}},iA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,K){var J=B.length;B.push(K);e:for(;0<J;){var Ie=J-1>>>1,_e=B[Ie];if(0<i(_e,K))B[Ie]=K,B[J]=_e,J=Ie;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],J=B.pop();if(J!==K){B[0]=J;e:for(var Ie=0,_e=B.length,ze=_e>>>1;Ie<ze;){var tr=2*(Ie+1)-1,nr=B[tr],rr=tr+1,ir=B[rr];if(0>i(nr,J))rr<_e&&0>i(ir,nr)?(B[Ie]=ir,B[rr]=J,Ie=rr):(B[Ie]=nr,B[tr]=J,Ie=tr);else if(rr<_e&&0>i(ir,J))B[Ie]=ir,B[rr]=J,Ie=rr;else break e}}return K}function i(B,K){var J=B.sortIndex-K.sortIndex;return J!==0?J:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,d=3,g=!1,v=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=B)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function b(B){if(_=!1,E(B),!v)if(n(l)!==null)v=!0,Ms(O);else{var K=n(c);K!==null&&ve(b,K.startTime-B)}}function O(B,K){v=!1,_&&(_=!1,w(T),T=-1),g=!0;var J=d;try{for(E(K),f=n(l);f!==null&&(!(f.expirationTime>K)||B&&!x());){var Ie=f.callback;if(typeof Ie=="function"){f.callback=null,d=f.priorityLevel;var _e=Ie(f.expirationTime<=K);K=t.unstable_now(),typeof _e=="function"?f.callback=_e:f===n(l)&&r(l),E(K)}else r(l);f=n(l)}if(f!==null)var ze=!0;else{var tr=n(c);tr!==null&&ve(b,tr.startTime-K),ze=!1}return ze}finally{f=null,d=J,g=!1}}var F=!1,A=null,T=-1,C=5,P=-1;function x(){return!(t.unstable_now()-P<C)}function D(){if(A!==null){var B=t.unstable_now();P=B;var K=!0;try{K=A(!0,B)}finally{K?R():(F=!1,A=null)}}else F=!1}var R;if(typeof y=="function")R=function(){y(D)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,On=Vt.port2;Vt.port1.onmessage=D,R=function(){On.postMessage(null)}}else R=function(){S(D,0)};function Ms(B){A=B,F||(F=!0,R())}function ve(B,K){T=S(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,Ms(O))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var K=3;break;default:K=d}var J=d;d=K;try{return B()}finally{d=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=d;d=B;try{return K()}finally{d=J}},t.unstable_scheduleCallback=function(B,K,J){var Ie=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ie+J:Ie):J=Ie,B){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=J+_e,B={id:h++,callback:K,priorityLevel:B,startTime:J,expirationTime:_e,sortIndex:-1},J>Ie?(B.sortIndex=J,e(c,B),n(l)===null&&B===n(c)&&(_?(w(T),T=-1):_=!0,ve(b,J-Ie))):(B.sortIndex=_e,e(l,B),v||g||(v=!0,Ms(O))),B},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(B){var K=d;return function(){var J=d;d=K;try{return B.apply(this,arguments)}finally{d=J}}}})(iA);rA.exports=iA;var KV=rA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QV=V,on=KV;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sA=new Set,Tl={};function bs(t,e){Vo(t,e),Vo(t+"Capture",e)}function Vo(t,e){for(Tl[t]=e,t=0;t<e.length;t++)sA.add(e[t])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cm=Object.prototype.hasOwnProperty,YV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rE={},iE={};function XV(t){return cm.call(iE,t)?!0:cm.call(rE,t)?!1:YV.test(t)?iE[t]=!0:(rE[t]=!0,!1)}function JV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZV(t,e,n,r){if(e===null||typeof e>"u"||JV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var fy=/[\-:]([a-z])/g;function dy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fy,dy);gt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fy,dy);gt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fy,dy);gt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function py(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZV(e,n,i,r)&&(n=null),r||i===null?XV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fr=QV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Ks=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),oA=Symbol.for("react.provider"),aA=Symbol.for("react.context"),gy=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),dm=Symbol.for("react.suspense_list"),yy=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),lA=Symbol.for("react.offscreen"),sE=Symbol.iterator;function Da(t){return t===null||typeof t!="object"?null:(t=sE&&t[sE]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Yd;function qa(t){if(Yd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yd=e&&e[1]||""}return`
`+Yd+t}var Xd=!1;function Jd(t,e){if(!t||Xd)return"";Xd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qa(t):""}function eD(t){switch(t.tag){case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 2:case 15:return t=Jd(t.type,!1),t;case 11:return t=Jd(t.type.render,!1),t;case 1:return t=Jd(t.type,!0),t;default:return""}}function pm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ks:return"Fragment";case Gs:return"Portal";case hm:return"Profiler";case my:return"StrictMode";case fm:return"Suspense";case dm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aA:return(t.displayName||"Context")+".Consumer";case oA:return(t._context.displayName||"Context")+".Provider";case gy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yy:return e=t.displayName||null,e!==null?e:pm(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return pm(t(e))}catch{}}return null}function tD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pm(e);case 8:return e===my?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nD(t){var e=uA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dc(t){t._valueTracker||(t._valueTracker=nD(t))}function cA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mm(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function oE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hA(t,e){e=e.checked,e!=null&&py(t,"checked",e,!1)}function gm(t,e){hA(t,e);var n=Si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ym(t,e.type,n):e.hasOwnProperty("defaultValue")&&ym(t,e.type,Si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ym(t,e,n){(e!=="number"||gh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wa=Array.isArray;function ho(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Wa(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Si(n)}}function fA(t,e){var n=Si(e.value),r=Si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _m(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pc,pA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pc=pc||document.createElement("div"),pc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rD=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){rD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function mA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function gA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iD=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wm(t,e){if(e){if(iD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Em(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tm=null;function vy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Im=null,fo=null,po=null;function cE(t){if(t=Iu(t)){if(typeof Im!="function")throw Error($(280));var e=t.stateNode;e&&(e=kf(e),Im(t.stateNode,t.type,e))}}function yA(t){fo?po?po.push(t):po=[t]:fo=t}function vA(){if(fo){var t=fo,e=po;if(po=fo=null,cE(t),e)for(t=0;t<e.length;t++)cE(e[t])}}function _A(t,e){return t(e)}function wA(){}var Zd=!1;function EA(t,e,n){if(Zd)return t(e,n);Zd=!0;try{return _A(t,e,n)}finally{Zd=!1,(fo!==null||po!==null)&&(wA(),vA())}}function Sl(t,e){var n=t.stateNode;if(n===null)return null;var r=kf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Sm=!1;if(Ar)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){Sm=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{Sm=!1}function sD(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var tl=!1,yh=null,vh=!1,Am=null,oD={onError:function(t){tl=!0,yh=t}};function aD(t,e,n,r,i,s,o,a,l){tl=!1,yh=null,sD.apply(oD,arguments)}function lD(t,e,n,r,i,s,o,a,l){if(aD.apply(this,arguments),tl){if(tl){var c=yh;tl=!1,yh=null}else throw Error($(198));vh||(vh=!0,Am=c)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hE(t){if(xs(t)!==t)throw Error($(188))}function uD(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return hE(i),t;if(s===r)return hE(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function IA(t){return t=uD(t),t!==null?SA(t):null}function SA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SA(t);if(e!==null)return e;t=t.sibling}return null}var AA=on.unstable_scheduleCallback,fE=on.unstable_cancelCallback,cD=on.unstable_shouldYield,hD=on.unstable_requestPaint,Ge=on.unstable_now,fD=on.unstable_getCurrentPriorityLevel,_y=on.unstable_ImmediatePriority,CA=on.unstable_UserBlockingPriority,_h=on.unstable_NormalPriority,dD=on.unstable_LowPriority,PA=on.unstable_IdlePriority,Pf=null,$n=null;function pD(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Pf,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:yD,mD=Math.log,gD=Math.LN2;function yD(t){return t>>>=0,t===0?32:31-(mD(t)/gD|0)|0}var mc=64,gc=4194304;function Ha(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ha(a):(s&=o,s!==0&&(r=Ha(s)))}else o=n&~i,o!==0?r=Ha(o):s!==0&&(r=Ha(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),i=1<<n,r|=t[n],e&=~i;return r}function vD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _D(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Cm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RA(){var t=mc;return mc<<=1,!(mc&4194240)&&(mc=64),t}function ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function wD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function bA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xA,Ey,kA,VA,DA,Pm=!1,yc=[],ui=null,ci=null,hi=null,Al=new Map,Cl=new Map,Qr=[],ED="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dE(t,e){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function Oa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Iu(e),e!==null&&Ey(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TD(t,e,n,r,i){switch(e){case"focusin":return ui=Oa(ui,t,e,n,r,i),!0;case"dragenter":return ci=Oa(ci,t,e,n,r,i),!0;case"mouseover":return hi=Oa(hi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Al.set(s,Oa(Al.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cl.set(s,Oa(Cl.get(s)||null,t,e,n,r,i)),!0}return!1}function NA(t){var e=Zi(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=TA(n),e!==null){t.blockedOn=e,DA(t.priority,function(){kA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tm=r,n.target.dispatchEvent(r),Tm=null}else return e=Iu(n),e!==null&&Ey(e),t.blockedOn=n,!1;e.shift()}return!0}function pE(t,e,n){Bc(t)&&n.delete(e)}function ID(){Pm=!1,ui!==null&&Bc(ui)&&(ui=null),ci!==null&&Bc(ci)&&(ci=null),hi!==null&&Bc(hi)&&(hi=null),Al.forEach(pE),Cl.forEach(pE)}function Ma(t,e){t.blockedOn===e&&(t.blockedOn=null,Pm||(Pm=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,ID)))}function Pl(t){function e(i){return Ma(i,t)}if(0<yc.length){Ma(yc[0],t);for(var n=1;n<yc.length;n++){var r=yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ui!==null&&Ma(ui,t),ci!==null&&Ma(ci,t),hi!==null&&Ma(hi,t),Al.forEach(e),Cl.forEach(e),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)NA(n),n.blockedOn===null&&Qr.shift()}var mo=Fr.ReactCurrentBatchConfig,Eh=!0;function SD(t,e,n,r){var i=ye,s=mo.transition;mo.transition=null;try{ye=1,Ty(t,e,n,r)}finally{ye=i,mo.transition=s}}function AD(t,e,n,r){var i=ye,s=mo.transition;mo.transition=null;try{ye=4,Ty(t,e,n,r)}finally{ye=i,mo.transition=s}}function Ty(t,e,n,r){if(Eh){var i=Rm(t,e,n,r);if(i===null)cp(t,e,r,Th,n),dE(t,r);else if(TD(i,t,e,n,r))r.stopPropagation();else if(dE(t,r),e&4&&-1<ED.indexOf(t)){for(;i!==null;){var s=Iu(i);if(s!==null&&xA(s),s=Rm(t,e,n,r),s===null&&cp(t,e,r,Th,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cp(t,e,r,null,n)}}var Th=null;function Rm(t,e,n,r){if(Th=null,t=vy(r),t=Zi(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Th=t,null}function OA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fD()){case _y:return 1;case CA:return 4;case _h:case dD:return 16;case PA:return 536870912;default:return 16}default:return 16}}var ii=null,Iy=null,zc=null;function MA(){if(zc)return zc;var t,e=Iy,n=e.length,r,i="value"in ii?ii.value:ii.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zc=i.slice(t,1<r?1-r:void 0)}function qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vc(){return!0}function mE(){return!1}function ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vc:mE,this.isPropagationStopped=mE,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),e}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sy=ln(ra),Tu=Oe({},ra,{view:0,detail:0}),CD=ln(Tu),tp,np,La,Rf=Oe({},Tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ay,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==La&&(La&&t.type==="mousemove"?(tp=t.screenX-La.screenX,np=t.screenY-La.screenY):np=tp=0,La=t),tp)},movementY:function(t){return"movementY"in t?t.movementY:np}}),gE=ln(Rf),PD=Oe({},Rf,{dataTransfer:0}),RD=ln(PD),bD=Oe({},Tu,{relatedTarget:0}),rp=ln(bD),xD=Oe({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),kD=ln(xD),VD=Oe({},ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DD=ln(VD),ND=Oe({},ra,{data:0}),yE=ln(ND),OD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LD[t])?!!e[t]:!1}function Ay(){return FD}var UD=Oe({},Tu,{key:function(t){if(t.key){var e=OD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ay,charCode:function(t){return t.type==="keypress"?qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jD=ln(UD),$D=Oe({},Rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vE=ln($D),BD=Oe({},Tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ay}),zD=ln(BD),qD=Oe({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),WD=ln(qD),HD=Oe({},Rf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GD=ln(HD),KD=[9,13,27,32],Cy=Ar&&"CompositionEvent"in window,nl=null;Ar&&"documentMode"in document&&(nl=document.documentMode);var QD=Ar&&"TextEvent"in window&&!nl,LA=Ar&&(!Cy||nl&&8<nl&&11>=nl),_E=" ",wE=!1;function FA(t,e){switch(t){case"keyup":return KD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function YD(t,e){switch(t){case"compositionend":return UA(e);case"keypress":return e.which!==32?null:(wE=!0,_E);case"textInput":return t=e.data,t===_E&&wE?null:t;default:return null}}function XD(t,e){if(Qs)return t==="compositionend"||!Cy&&FA(t,e)?(t=MA(),zc=Iy=ii=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LA&&e.locale!=="ko"?null:e.data;default:return null}}var JD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JD[t.type]:e==="textarea"}function jA(t,e,n,r){yA(r),e=Ih(e,"onChange"),0<e.length&&(n=new Sy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,Rl=null;function ZD(t){XA(t,0)}function bf(t){var e=Js(t);if(cA(e))return t}function eN(t,e){if(t==="change")return e}var $A=!1;if(Ar){var ip;if(Ar){var sp="oninput"in document;if(!sp){var TE=document.createElement("div");TE.setAttribute("oninput","return;"),sp=typeof TE.oninput=="function"}ip=sp}else ip=!1;$A=ip&&(!document.documentMode||9<document.documentMode)}function IE(){rl&&(rl.detachEvent("onpropertychange",BA),Rl=rl=null)}function BA(t){if(t.propertyName==="value"&&bf(Rl)){var e=[];jA(e,Rl,t,vy(t)),EA(ZD,e)}}function tN(t,e,n){t==="focusin"?(IE(),rl=e,Rl=n,rl.attachEvent("onpropertychange",BA)):t==="focusout"&&IE()}function nN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bf(Rl)}function rN(t,e){if(t==="click")return bf(e)}function iN(t,e){if(t==="input"||t==="change")return bf(e)}function sN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:sN;function bl(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cm.call(e,i)||!Dn(t[i],e[i]))return!1}return!0}function SE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AE(t,e){var n=SE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SE(n)}}function zA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qA(){for(var t=window,e=gh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gh(t.document)}return e}function Py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oN(t){var e=qA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zA(n.ownerDocument.documentElement,n)){if(r!==null&&Py(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=AE(n,s);var o=AE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aN=Ar&&"documentMode"in document&&11>=document.documentMode,Ys=null,bm=null,il=null,xm=!1;function CE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xm||Ys==null||Ys!==gh(r)||(r=Ys,"selectionStart"in r&&Py(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&bl(il,r)||(il=r,r=Ih(bm,"onSelect"),0<r.length&&(e=new Sy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ys)))}function _c(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xs={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},op={},WA={};Ar&&(WA=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function xf(t){if(op[t])return op[t];if(!Xs[t])return t;var e=Xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WA)return op[t]=e[n];return t}var HA=xf("animationend"),GA=xf("animationiteration"),KA=xf("animationstart"),QA=xf("transitionend"),YA=new Map,PE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(t,e){YA.set(t,e),bs(e,[t])}for(var ap=0;ap<PE.length;ap++){var lp=PE[ap],lN=lp.toLowerCase(),uN=lp[0].toUpperCase()+lp.slice(1);Oi(lN,"on"+uN)}Oi(HA,"onAnimationEnd");Oi(GA,"onAnimationIteration");Oi(KA,"onAnimationStart");Oi("dblclick","onDoubleClick");Oi("focusin","onFocus");Oi("focusout","onBlur");Oi(QA,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function RE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lD(r,e,void 0,t),t.currentTarget=null}function XA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;RE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;RE(i,a,c),s=l}}}if(vh)throw t=Am,vh=!1,Am=null,t}function Ae(t,e){var n=e[Om];n===void 0&&(n=e[Om]=new Set);var r=t+"__bubble";n.has(r)||(JA(e,t,2,!1),n.add(r))}function up(t,e,n){var r=0;e&&(r|=4),JA(n,t,r,e)}var wc="_reactListening"+Math.random().toString(36).slice(2);function xl(t){if(!t[wc]){t[wc]=!0,sA.forEach(function(n){n!=="selectionchange"&&(cN.has(n)||up(n,!1,t),up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wc]||(e[wc]=!0,up("selectionchange",!1,e))}}function JA(t,e,n,r){switch(OA(e)){case 1:var i=SD;break;case 4:i=AD;break;default:i=Ty}n=i.bind(null,e,n,t),i=void 0,!Sm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}EA(function(){var c=s,h=vy(n),f=[];e:{var d=YA.get(t);if(d!==void 0){var g=Sy,v=t;switch(t){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":g=jD;break;case"focusin":v="focus",g=rp;break;case"focusout":v="blur",g=rp;break;case"beforeblur":case"afterblur":g=rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=gE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=RD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zD;break;case HA:case GA:case KA:g=kD;break;case QA:g=WD;break;case"scroll":g=CD;break;case"wheel":g=GD;break;case"copy":case"cut":case"paste":g=DD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=vE}var _=(e&4)!==0,S=!_&&t==="scroll",w=_?d!==null?d+"Capture":null:d;_=[];for(var y=c,E;y!==null;){E=y;var b=E.stateNode;if(E.tag===5&&b!==null&&(E=b,w!==null&&(b=Sl(y,w),b!=null&&_.push(kl(y,b,E)))),S)break;y=y.return}0<_.length&&(d=new g(d,v,null,n,h),f.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==Tm&&(v=n.relatedTarget||n.fromElement)&&(Zi(v)||v[Cr]))break e;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Zi(v):null,v!==null&&(S=xs(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(_=gE,b="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=vE,b="onPointerLeave",w="onPointerEnter",y="pointer"),S=g==null?d:Js(g),E=v==null?d:Js(v),d=new _(b,y+"leave",g,n,h),d.target=S,d.relatedTarget=E,b=null,Zi(h)===c&&(_=new _(w,y+"enter",v,n,h),_.target=E,_.relatedTarget=S,b=_),S=b,g&&v)t:{for(_=g,w=v,y=0,E=_;E;E=$s(E))y++;for(E=0,b=w;b;b=$s(b))E++;for(;0<y-E;)_=$s(_),y--;for(;0<E-y;)w=$s(w),E--;for(;y--;){if(_===w||w!==null&&_===w.alternate)break t;_=$s(_),w=$s(w)}_=null}else _=null;g!==null&&bE(f,d,g,_,!1),v!==null&&S!==null&&bE(f,S,v,_,!0)}}e:{if(d=c?Js(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var O=eN;else if(EE(d))if($A)O=iN;else{O=nN;var F=tN}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=rN);if(O&&(O=O(t,c))){jA(f,O,n,h);break e}F&&F(t,d,c),t==="focusout"&&(F=d._wrapperState)&&F.controlled&&d.type==="number"&&ym(d,"number",d.value)}switch(F=c?Js(c):window,t){case"focusin":(EE(F)||F.contentEditable==="true")&&(Ys=F,bm=c,il=null);break;case"focusout":il=bm=Ys=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,CE(f,n,h);break;case"selectionchange":if(aN)break;case"keydown":case"keyup":CE(f,n,h)}var A;if(Cy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qs?FA(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(LA&&n.locale!=="ko"&&(Qs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qs&&(A=MA()):(ii=h,Iy="value"in ii?ii.value:ii.textContent,Qs=!0)),F=Ih(c,T),0<F.length&&(T=new yE(T,t,null,n,h),f.push({event:T,listeners:F}),A?T.data=A:(A=UA(n),A!==null&&(T.data=A)))),(A=QD?YD(t,n):XD(t,n))&&(c=Ih(c,"onBeforeInput"),0<c.length&&(h=new yE("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=A))}XA(f,e)})}function kl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sl(t,n),s!=null&&r.unshift(kl(t,s,i)),s=Sl(t,e),s!=null&&r.push(kl(t,s,i))),t=t.return}return r}function $s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Sl(n,s),l!=null&&o.unshift(kl(n,l,a))):i||(l=Sl(n,s),l!=null&&o.push(kl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hN=/\r\n?/g,fN=/\u0000|\uFFFD/g;function xE(t){return(typeof t=="string"?t:""+t).replace(hN,`
`).replace(fN,"")}function Ec(t,e,n){if(e=xE(e),xE(t)!==e&&n)throw Error($(425))}function Sh(){}var km=null,Vm=null;function Dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nm=typeof setTimeout=="function"?setTimeout:void 0,dN=typeof clearTimeout=="function"?clearTimeout:void 0,kE=typeof Promise=="function"?Promise:void 0,pN=typeof queueMicrotask=="function"?queueMicrotask:typeof kE<"u"?function(t){return kE.resolve(null).then(t).catch(mN)}:Nm;function mN(t){setTimeout(function(){throw t})}function hp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pl(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ia=Math.random().toString(36).slice(2),jn="__reactFiber$"+ia,Vl="__reactProps$"+ia,Cr="__reactContainer$"+ia,Om="__reactEvents$"+ia,gN="__reactListeners$"+ia,yN="__reactHandles$"+ia;function Zi(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VE(t);t!==null;){if(n=t[jn])return n;t=VE(t)}return e}t=n,n=t.parentNode}return null}function Iu(t){return t=t[jn]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function kf(t){return t[Vl]||null}var Mm=[],Zs=-1;function Mi(t){return{current:t}}function Pe(t){0>Zs||(t.current=Mm[Zs],Mm[Zs]=null,Zs--)}function Te(t,e){Zs++,Mm[Zs]=t.current,t.current=e}var Ai={},bt=Mi(Ai),Qt=Mi(!1),_s=Ai;function Do(t,e){var n=t.type.contextTypes;if(!n)return Ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(t){return t=t.childContextTypes,t!=null}function Ah(){Pe(Qt),Pe(bt)}function DE(t,e,n){if(bt.current!==Ai)throw Error($(168));Te(bt,e),Te(Qt,n)}function ZA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,tD(t)||"Unknown",i));return Oe({},n,r)}function Ch(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ai,_s=bt.current,Te(bt,t),Te(Qt,Qt.current),!0}function NE(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=ZA(t,e,_s),r.__reactInternalMemoizedMergedChildContext=t,Pe(Qt),Pe(bt),Te(bt,t)):Pe(Qt),Te(Qt,n)}var lr=null,Vf=!1,fp=!1;function eC(t){lr===null?lr=[t]:lr.push(t)}function vN(t){Vf=!0,eC(t)}function Li(){if(!fp&&lr!==null){fp=!0;var t=0,e=ye;try{var n=lr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lr=null,Vf=!1}catch(i){throw lr!==null&&(lr=lr.slice(t+1)),AA(_y,Li),i}finally{ye=e,fp=!1}}return null}var eo=[],to=0,Ph=null,Rh=0,fn=[],dn=0,ws=null,yr=1,vr="";function Qi(t,e){eo[to++]=Rh,eo[to++]=Ph,Ph=t,Rh=e}function tC(t,e,n){fn[dn++]=yr,fn[dn++]=vr,fn[dn++]=ws,ws=t;var r=yr;t=vr;var i=32-xn(r)-1;r&=~(1<<i),n+=1;var s=32-xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yr=1<<32-xn(e)+i|n<<i|r,vr=s+t}else yr=1<<s|n<<i|r,vr=t}function Ry(t){t.return!==null&&(Qi(t,1),tC(t,1,0))}function by(t){for(;t===Ph;)Ph=eo[--to],eo[to]=null,Rh=eo[--to],eo[to]=null;for(;t===ws;)ws=fn[--dn],fn[dn]=null,vr=fn[--dn],fn[dn]=null,yr=fn[--dn],fn[dn]=null}var sn=null,nn=null,Re=!1,Rn=null;function nC(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function OE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,nn=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ws!==null?{id:yr,overflow:vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,nn=null,!0):!1;default:return!1}}function Lm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fm(t){if(Re){var e=nn;if(e){var n=e;if(!OE(t,e)){if(Lm(t))throw Error($(418));e=fi(n.nextSibling);var r=sn;e&&OE(t,e)?nC(r,n):(t.flags=t.flags&-4097|2,Re=!1,sn=t)}}else{if(Lm(t))throw Error($(418));t.flags=t.flags&-4097|2,Re=!1,sn=t}}}function ME(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function Tc(t){if(t!==sn)return!1;if(!Re)return ME(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dm(t.type,t.memoizedProps)),e&&(e=nn)){if(Lm(t))throw rC(),Error($(418));for(;e;)nC(t,e),e=fi(e.nextSibling)}if(ME(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=sn?fi(t.stateNode.nextSibling):null;return!0}function rC(){for(var t=nn;t;)t=fi(t.nextSibling)}function No(){nn=sn=null,Re=!1}function xy(t){Rn===null?Rn=[t]:Rn.push(t)}var _N=Fr.ReactCurrentBatchConfig;function Fa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Ic(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LE(t){var e=t._init;return e(t._payload)}function iC(t){function e(w,y){if(t){var E=w.deletions;E===null?(w.deletions=[y],w.flags|=16):E.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=gi(w,y),w.index=0,w.sibling=null,w}function s(w,y,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<y?(w.flags|=2,y):E):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,E,b){return y===null||y.tag!==6?(y=_p(E,w.mode,b),y.return=w,y):(y=i(y,E),y.return=w,y)}function l(w,y,E,b){var O=E.type;return O===Ks?h(w,y,E.props.children,b,E.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Gr&&LE(O)===y.type)?(b=i(y,E.props),b.ref=Fa(w,y,E),b.return=w,b):(b=Xc(E.type,E.key,E.props,null,w.mode,b),b.ref=Fa(w,y,E),b.return=w,b)}function c(w,y,E,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=wp(E,w.mode,b),y.return=w,y):(y=i(y,E.children||[]),y.return=w,y)}function h(w,y,E,b,O){return y===null||y.tag!==7?(y=fs(E,w.mode,b,O),y.return=w,y):(y=i(y,E),y.return=w,y)}function f(w,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=_p(""+y,w.mode,E),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fc:return E=Xc(y.type,y.key,y.props,null,w.mode,E),E.ref=Fa(w,null,y),E.return=w,E;case Gs:return y=wp(y,w.mode,E),y.return=w,y;case Gr:var b=y._init;return f(w,b(y._payload),E)}if(Wa(y)||Da(y))return y=fs(y,w.mode,E,null),y.return=w,y;Ic(w,y)}return null}function d(w,y,E,b){var O=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(w,y,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fc:return E.key===O?l(w,y,E,b):null;case Gs:return E.key===O?c(w,y,E,b):null;case Gr:return O=E._init,d(w,y,O(E._payload),b)}if(Wa(E)||Da(E))return O!==null?null:h(w,y,E,b,null);Ic(w,E)}return null}function g(w,y,E,b,O){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(E)||null,a(y,w,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fc:return w=w.get(b.key===null?E:b.key)||null,l(y,w,b,O);case Gs:return w=w.get(b.key===null?E:b.key)||null,c(y,w,b,O);case Gr:var F=b._init;return g(w,y,E,F(b._payload),O)}if(Wa(b)||Da(b))return w=w.get(E)||null,h(y,w,b,O,null);Ic(y,b)}return null}function v(w,y,E,b){for(var O=null,F=null,A=y,T=y=0,C=null;A!==null&&T<E.length;T++){A.index>T?(C=A,A=null):C=A.sibling;var P=d(w,A,E[T],b);if(P===null){A===null&&(A=C);break}t&&A&&P.alternate===null&&e(w,A),y=s(P,y,T),F===null?O=P:F.sibling=P,F=P,A=C}if(T===E.length)return n(w,A),Re&&Qi(w,T),O;if(A===null){for(;T<E.length;T++)A=f(w,E[T],b),A!==null&&(y=s(A,y,T),F===null?O=A:F.sibling=A,F=A);return Re&&Qi(w,T),O}for(A=r(w,A);T<E.length;T++)C=g(A,w,T,E[T],b),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?T:C.key),y=s(C,y,T),F===null?O=C:F.sibling=C,F=C);return t&&A.forEach(function(x){return e(w,x)}),Re&&Qi(w,T),O}function _(w,y,E,b){var O=Da(E);if(typeof O!="function")throw Error($(150));if(E=O.call(E),E==null)throw Error($(151));for(var F=O=null,A=y,T=y=0,C=null,P=E.next();A!==null&&!P.done;T++,P=E.next()){A.index>T?(C=A,A=null):C=A.sibling;var x=d(w,A,P.value,b);if(x===null){A===null&&(A=C);break}t&&A&&x.alternate===null&&e(w,A),y=s(x,y,T),F===null?O=x:F.sibling=x,F=x,A=C}if(P.done)return n(w,A),Re&&Qi(w,T),O;if(A===null){for(;!P.done;T++,P=E.next())P=f(w,P.value,b),P!==null&&(y=s(P,y,T),F===null?O=P:F.sibling=P,F=P);return Re&&Qi(w,T),O}for(A=r(w,A);!P.done;T++,P=E.next())P=g(A,w,T,P.value,b),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?T:P.key),y=s(P,y,T),F===null?O=P:F.sibling=P,F=P);return t&&A.forEach(function(D){return e(w,D)}),Re&&Qi(w,T),O}function S(w,y,E,b){if(typeof E=="object"&&E!==null&&E.type===Ks&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case fc:e:{for(var O=E.key,F=y;F!==null;){if(F.key===O){if(O=E.type,O===Ks){if(F.tag===7){n(w,F.sibling),y=i(F,E.props.children),y.return=w,w=y;break e}}else if(F.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Gr&&LE(O)===F.type){n(w,F.sibling),y=i(F,E.props),y.ref=Fa(w,F,E),y.return=w,w=y;break e}n(w,F);break}else e(w,F);F=F.sibling}E.type===Ks?(y=fs(E.props.children,w.mode,b,E.key),y.return=w,w=y):(b=Xc(E.type,E.key,E.props,null,w.mode,b),b.ref=Fa(w,y,E),b.return=w,w=b)}return o(w);case Gs:e:{for(F=E.key;y!==null;){if(y.key===F)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(w,y.sibling),y=i(y,E.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=wp(E,w.mode,b),y.return=w,w=y}return o(w);case Gr:return F=E._init,S(w,y,F(E._payload),b)}if(Wa(E))return v(w,y,E,b);if(Da(E))return _(w,y,E,b);Ic(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,E),y.return=w,w=y):(n(w,y),y=_p(E,w.mode,b),y.return=w,w=y),o(w)):n(w,y)}return S}var Oo=iC(!0),sC=iC(!1),bh=Mi(null),xh=null,no=null,ky=null;function Vy(){ky=no=xh=null}function Dy(t){var e=bh.current;Pe(bh),t._currentValue=e}function Um(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function go(t,e){xh=t,ky=no=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(ky!==t)if(t={context:t,memoizedValue:e,next:null},no===null){if(xh===null)throw Error($(308));no=t,xh.dependencies={lanes:0,firstContext:t}}else no=no.next=t;return e}var es=null;function Ny(t){es===null?es=[t]:es.push(t)}function oC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ny(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pr(t,r)}function Pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function Oy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function di(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ny(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pr(t,n)}function Wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}function FE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kh(t,e,n,r){var i=t.updateQueue;Kr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=c=l=null,a=s;do{var d=a.lane,g=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(d=e,g=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){f=v.call(g,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,d=typeof v=="function"?v.call(g,f,d):v,d==null)break e;f=Oe({},f,d);break e;case 2:Kr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ts|=o,t.lanes=o,t.memoizedState=f}}function UE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Su={},Bn=Mi(Su),Dl=Mi(Su),Nl=Mi(Su);function ts(t){if(t===Su)throw Error($(174));return t}function My(t,e){switch(Te(Nl,e),Te(Dl,t),Te(Bn,Su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_m(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_m(e,t)}Pe(Bn),Te(Bn,e)}function Mo(){Pe(Bn),Pe(Dl),Pe(Nl)}function lC(t){ts(Nl.current);var e=ts(Bn.current),n=_m(e,t.type);e!==n&&(Te(Dl,t),Te(Bn,n))}function Ly(t){Dl.current===t&&(Pe(Bn),Pe(Dl))}var ke=Mi(0);function Vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dp=[];function Fy(){for(var t=0;t<dp.length;t++)dp[t]._workInProgressVersionPrimary=null;dp.length=0}var Hc=Fr.ReactCurrentDispatcher,pp=Fr.ReactCurrentBatchConfig,Es=0,Ne=null,tt=null,at=null,Dh=!1,sl=!1,Ol=0,wN=0;function Tt(){throw Error($(321))}function Uy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function jy(t,e,n,r,i,s){if(Es=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hc.current=t===null||t.memoizedState===null?SN:AN,t=n(r,i),sl){s=0;do{if(sl=!1,Ol=0,25<=s)throw Error($(301));s+=1,at=tt=null,e.updateQueue=null,Hc.current=CN,t=n(r,i)}while(sl)}if(Hc.current=Nh,e=tt!==null&&tt.next!==null,Es=0,at=tt=Ne=null,Dh=!1,e)throw Error($(300));return t}function $y(){var t=Ol!==0;return Ol=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ne.memoizedState=at=t:at=at.next=t,at}function En(){if(tt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=at===null?Ne.memoizedState:at.next;if(e!==null)at=e,tt=t;else{if(t===null)throw Error($(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},at===null?Ne.memoizedState=at=t:at=at.next=t}return at}function Ml(t,e){return typeof e=="function"?e(t):e}function mp(t){var e=En(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Es&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ne.lanes|=h,Ts|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Dn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,Ts|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gp(t){var e=En(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Dn(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function uC(){}function cC(t,e){var n=Ne,r=En(),i=e(),s=!Dn(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,By(dC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Ll(9,fC.bind(null,n,r,i,e),void 0,null),lt===null)throw Error($(349));Es&30||hC(n,e,i)}return i}function hC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fC(t,e,n,r){e.value=n,e.getSnapshot=r,pC(e)&&mC(t)}function dC(t,e,n){return n(function(){pC(e)&&mC(t)})}function pC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function mC(t){var e=Pr(t,1);e!==null&&kn(e,t,1,-1)}function jE(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:t},e.queue=t,t=t.dispatch=IN.bind(null,Ne,t),[e.memoizedState,t]}function Ll(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gC(){return En().memoizedState}function Gc(t,e,n,r){var i=Ln();Ne.flags|=t,i.memoizedState=Ll(1|e,n,void 0,r===void 0?null:r)}function Df(t,e,n,r){var i=En();r=r===void 0?null:r;var s=void 0;if(tt!==null){var o=tt.memoizedState;if(s=o.destroy,r!==null&&Uy(r,o.deps)){i.memoizedState=Ll(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=Ll(1|e,n,s,r)}function $E(t,e){return Gc(8390656,8,t,e)}function By(t,e){return Df(2048,8,t,e)}function yC(t,e){return Df(4,2,t,e)}function vC(t,e){return Df(4,4,t,e)}function _C(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wC(t,e,n){return n=n!=null?n.concat([t]):null,Df(4,4,_C.bind(null,e,t),n)}function zy(){}function EC(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TC(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function IC(t,e,n){return Es&21?(Dn(n,e)||(n=RA(),Ne.lanes|=n,Ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function EN(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=pp.transition;pp.transition={};try{t(!1),e()}finally{ye=n,pp.transition=r}}function SC(){return En().memoizedState}function TN(t,e,n){var r=mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AC(t))CC(e,n);else if(n=oC(t,e,n,r),n!==null){var i=Lt();kn(n,t,r,i),PC(n,e,r)}}function IN(t,e,n){var r=mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AC(t))CC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Dn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ny(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=oC(t,e,i,r),n!==null&&(i=Lt(),kn(n,t,r,i),PC(n,e,r))}}function AC(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function CC(t,e){sl=Dh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}var Nh={readContext:wn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},SN={readContext:wn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:$E,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gc(4194308,4,_C.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gc(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TN.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:jE,useDebugValue:zy,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=jE(!1),e=t[0];return t=EN.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=Ln();if(Re){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),lt===null)throw Error($(349));Es&30||hC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$E(dC.bind(null,r,s,t),[t]),r.flags|=2048,Ll(9,fC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ln(),e=lt.identifierPrefix;if(Re){var n=vr,r=yr;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AN={readContext:wn,useCallback:EC,useContext:wn,useEffect:By,useImperativeHandle:wC,useInsertionEffect:yC,useLayoutEffect:vC,useMemo:TC,useReducer:mp,useRef:gC,useState:function(){return mp(Ml)},useDebugValue:zy,useDeferredValue:function(t){var e=En();return IC(e,tt.memoizedState,t)},useTransition:function(){var t=mp(Ml)[0],e=En().memoizedState;return[t,e]},useMutableSource:uC,useSyncExternalStore:cC,useId:SC,unstable_isNewReconciler:!1},CN={readContext:wn,useCallback:EC,useContext:wn,useEffect:By,useImperativeHandle:wC,useInsertionEffect:yC,useLayoutEffect:vC,useMemo:TC,useReducer:gp,useRef:gC,useState:function(){return gp(Ml)},useDebugValue:zy,useDeferredValue:function(t){var e=En();return tt===null?e.memoizedState=t:IC(e,tt.memoizedState,t)},useTransition:function(){var t=gp(Ml)[0],e=En().memoizedState;return[t,e]},useMutableSource:uC,useSyncExternalStore:cC,useId:SC,unstable_isNewReconciler:!1};function Cn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nf={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=mi(t),s=Er(r,i);s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&(kn(e,t,i,r),Wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=mi(t),s=Er(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&(kn(e,t,i,r),Wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=mi(t),i=Er(n,r);i.tag=2,e!=null&&(i.callback=e),e=di(t,i,r),e!==null&&(kn(e,t,r,n),Wc(e,t,r))}};function BE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bl(n,r)||!bl(i,s):!0}function RC(t,e,n){var r=!1,i=Ai,s=e.contextType;return typeof s=="object"&&s!==null?s=wn(s):(i=Yt(e)?_s:bt.current,r=e.contextTypes,s=(r=r!=null)?Do(t,i):Ai),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function zE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nf.enqueueReplaceState(e,e.state,null)}function $m(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Oy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wn(s):(s=Yt(e)?_s:bt.current,i.context=Do(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nf.enqueueReplaceState(i,i.state,null),kh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Lo(t,e){try{var n="",r=e;do n+=eD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function yp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PN=typeof WeakMap=="function"?WeakMap:Map;function bC(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mh||(Mh=!0,Jm=r),Bm(t,e)},n}function xC(t,e,n){n=Er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bm(t,e),typeof r!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function qE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$N.bind(null,t,e,n),e.then(t,t))}function WE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,di(n,e,1))),n.lanes|=1),t)}var RN=Fr.ReactCurrentOwner,Gt=!1;function Ot(t,e,n,r){e.child=t===null?sC(e,null,n,r):Oo(e,t.child,n,r)}function GE(t,e,n,r,i){n=n.render;var s=e.ref;return go(e,i),r=jy(t,e,n,r,s,i),n=$y(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Re&&n&&Ry(e),e.flags|=1,Ot(t,e,r,i),e.child)}function KE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,kC(t,e,s,r,i)):(t=Xc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bl,n(o,r)&&t.ref===e.ref)return Rr(t,e,i)}return e.flags|=1,t=gi(s,r),t.ref=e.ref,t.return=e,e.child=t}function kC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bl(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Rr(t,e,i)}return zm(t,e,n,r,i)}function VC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(io,tn),tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(io,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(io,tn),tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Te(io,tn),tn|=r;return Ot(t,e,i,n),e.child}function DC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zm(t,e,n,r,i){var s=Yt(n)?_s:bt.current;return s=Do(e,s),go(e,i),n=jy(t,e,n,r,s,i),r=$y(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Re&&r&&Ry(e),e.flags|=1,Ot(t,e,n,i),e.child)}function QE(t,e,n,r,i){if(Yt(n)){var s=!0;Ch(e)}else s=!1;if(go(e,i),e.stateNode===null)Kc(t,e),RC(e,n,r),$m(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=Yt(n)?_s:bt.current,c=Do(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&zE(e,o,r,c),Kr=!1;var d=e.memoizedState;o.state=d,kh(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Qt.current||Kr?(typeof h=="function"&&(jm(e,n,h,r),l=e.memoizedState),(a=Kr||BE(e,n,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Cn(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Yt(n)?_s:bt.current,l=Do(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&zE(e,o,r,l),Kr=!1,d=e.memoizedState,o.state=d,kh(e,r,o,i);var v=e.memoizedState;a!==f||d!==v||Qt.current||Kr?(typeof g=="function"&&(jm(e,n,g,r),v=e.memoizedState),(c=Kr||BE(e,n,c,r,d,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return qm(t,e,n,r,s,i)}function qm(t,e,n,r,i,s){DC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&NE(e,n,!1),Rr(t,e,s);r=e.stateNode,RN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oo(e,t.child,null,s),e.child=Oo(e,null,a,s)):Ot(t,e,a,s),e.memoizedState=r.state,i&&NE(e,n,!0),e.child}function NC(t){var e=t.stateNode;e.pendingContext?DE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DE(t,e.context,!1),My(t,e.containerInfo)}function YE(t,e,n,r,i){return No(),xy(i),e.flags|=256,Ot(t,e,n,r),e.child}var Wm={dehydrated:null,treeContext:null,retryLane:0};function Hm(t){return{baseLanes:t,cachePool:null,transitions:null}}function OC(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te(ke,i&1),t===null)return Fm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lf(o,r,0,null),t=fs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hm(n),e.memoizedState=Wm,t):qy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=gi(a,s):(s=fs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Hm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wm,r}return s=t.child,t=s.sibling,r=gi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qy(t,e){return e=Lf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sc(t,e,n,r){return r!==null&&xy(r),Oo(e,t.child,null,n),t=qy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=yp(Error($(422))),Sc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lf({mode:"visible",children:r.children},i,0,null),s=fs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Oo(e,t.child,null,o),e.child.memoizedState=Hm(o),e.memoizedState=Wm,s);if(!(e.mode&1))return Sc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=yp(s,r,void 0),Sc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pr(t,i),kn(r,t,i,-1))}return Yy(),r=yp(Error($(421))),Sc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nn=fi(i.nextSibling),sn=e,Re=!0,Rn=null,t!==null&&(fn[dn++]=yr,fn[dn++]=vr,fn[dn++]=ws,yr=t.id,vr=t.overflow,ws=e),e=qy(e,r.children),e.flags|=4096,e)}function XE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Um(t.return,e,n)}function vp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function MC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ot(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XE(t,n,e);else if(t.tag===19)XE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),vp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vp(e,!0,n,null,s);break;case"together":vp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xN(t,e,n){switch(e.tag){case 3:NC(e),No();break;case 5:lC(e);break;case 1:Yt(e.type)&&Ch(e);break;case 4:My(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(bh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?OC(t,e,n):(Te(ke,ke.current&1),t=Rr(t,e,n),t!==null?t.sibling:null);Te(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,VC(t,e,n)}return Rr(t,e,n)}var LC,Gm,FC,UC;LC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gm=function(){};FC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ts(Bn.current);var s=null;switch(n){case"input":i=mm(t,i),r=mm(t,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=vm(t,i),r=vm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sh)}wm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ae("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};UC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ua(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kN(t,e,n){var r=e.pendingProps;switch(by(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Yt(e.type)&&Ah(),It(e),null;case 3:return r=e.stateNode,Mo(),Pe(Qt),Pe(bt),Fy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(tg(Rn),Rn=null))),Gm(t,e),It(e),null;case 5:Ly(e);var i=ts(Nl.current);if(n=e.type,t!==null&&e.stateNode!=null)FC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return It(e),null}if(t=ts(Bn.current),Tc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jn]=e,r[Vl]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<Ga.length;i++)Ae(Ga[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":oE(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":lE(r,s),Ae("invalid",r)}wm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,t),i=["children",""+a]):Tl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":dc(r),aE(r,s,!0);break;case"textarea":dc(r),uE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Sh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jn]=e,t[Vl]=r,LC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Em(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ga.length;i++)Ae(Ga[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":oE(t,r),i=mm(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":lE(t,r),i=vm(t,r),Ae("invalid",t);break;default:i=r}wm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Il(t,l):typeof l=="number"&&Il(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ae("scroll",t):l!=null&&py(t,s,l,o))}switch(n){case"input":dc(t),aE(t,r,!1);break;case"textarea":dc(t),uE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Si(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ho(t,!!r.multiple,s,!1):r.defaultValue!=null&&ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)UC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ts(Nl.current),ts(Bn.current),Tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:Ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ec(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return It(e),null;case 13:if(Pe(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&nn!==null&&e.mode&1&&!(e.flags&128))rC(),No(),e.flags|=98560,s=!1;else if(s=Tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[jn]=e}else No(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),s=!1}else Rn!==null&&(tg(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?nt===0&&(nt=3):Yy())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return Mo(),Gm(t,e),t===null&&xl(e.stateNode.containerInfo),It(e),null;case 10:return Dy(e.type._context),It(e),null;case 17:return Yt(e.type)&&Ah(),It(e),null;case 19:if(Pe(ke),s=e.memoizedState,s===null)return It(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ua(s,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vh(t),o!==null){for(e.flags|=128,Ua(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>Fo&&(e.flags|=128,r=!0,Ua(s,!1),e.lanes=4194304)}else{if(!r)if(t=Vh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ua(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return It(e),null}else 2*Ge()-s.renderingStartTime>Fo&&n!==1073741824&&(e.flags|=128,r=!0,Ua(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=ke.current,Te(ke,r?n&1|2:n&1),e):(It(e),null);case 22:case 23:return Qy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function VN(t,e){switch(by(e),e.tag){case 1:return Yt(e.type)&&Ah(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mo(),Pe(Qt),Pe(bt),Fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ly(e),null;case 13:if(Pe(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));No()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(ke),null;case 4:return Mo(),null;case 10:return Dy(e.type._context),null;case 22:case 23:return Qy(),null;case 24:return null;default:return null}}var Ac=!1,Ct=!1,DN=typeof WeakSet=="function"?WeakSet:Set,H=null;function ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function Km(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var JE=!1;function NN(t,e){if(km=Eh,t=qA(),Py(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vm={focusedElem:t,selectionRange:n},Eh=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,S=v.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:Cn(e.type,_),S);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(b){Ue(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return v=JE,JE=!1,v}function ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Km(e,n,s)}i=i.next}while(i!==r)}}function Of(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jC(t){var e=t.alternate;e!==null&&(t.alternate=null,jC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[Vl],delete e[Om],delete e[gN],delete e[yN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $C(t){return t.tag===5||t.tag===3||t.tag===4}function ZE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$C(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sh));else if(r!==4&&(t=t.child,t!==null))for(Ym(t,e,n),t=t.sibling;t!==null;)Ym(t,e,n),t=t.sibling}function Xm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xm(t,e,n),t=t.sibling;t!==null;)Xm(t,e,n),t=t.sibling}var ht=null,Pn=!1;function qr(t,e,n){for(n=n.child;n!==null;)BC(t,e,n),n=n.sibling}function BC(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Pf,n)}catch{}switch(n.tag){case 5:Ct||ro(n,e);case 6:var r=ht,i=Pn;ht=null,qr(t,e,n),ht=r,Pn=i,ht!==null&&(Pn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Pn?(t=ht,n=n.stateNode,t.nodeType===8?hp(t.parentNode,n):t.nodeType===1&&hp(t,n),Pl(t)):hp(ht,n.stateNode));break;case 4:r=ht,i=Pn,ht=n.stateNode.containerInfo,Pn=!0,qr(t,e,n),ht=r,Pn=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Km(n,e,o),i=i.next}while(i!==r)}qr(t,e,n);break;case 1:if(!Ct&&(ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}qr(t,e,n);break;case 21:qr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,qr(t,e,n),Ct=r):qr(t,e,n);break;default:qr(t,e,n)}}function e0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DN),e.forEach(function(r){var i=zN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,Pn=!1;break e;case 3:ht=a.stateNode.containerInfo,Pn=!0;break e;case 4:ht=a.stateNode.containerInfo,Pn=!0;break e}a=a.return}if(ht===null)throw Error($(160));BC(s,o,i),ht=null,Pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ue(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zC(e,t),e=e.sibling}function zC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),Mn(t),r&4){try{ol(3,t,t.return),Of(3,t)}catch(_){Ue(t,t.return,_)}try{ol(5,t,t.return)}catch(_){Ue(t,t.return,_)}}break;case 1:Sn(e,t),Mn(t),r&512&&n!==null&&ro(n,n.return);break;case 5:if(Sn(e,t),Mn(t),r&512&&n!==null&&ro(n,n.return),t.flags&32){var i=t.stateNode;try{Il(i,"")}catch(_){Ue(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&hA(i,s),Em(a,o);var c=Em(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?gA(i,f):h==="dangerouslySetInnerHTML"?pA(i,f):h==="children"?Il(i,f):py(i,h,f,c)}switch(a){case"input":gm(i,s);break;case"textarea":fA(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ho(i,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?ho(i,!!s.multiple,s.defaultValue,!0):ho(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vl]=s}catch(_){Ue(t,t.return,_)}}break;case 6:if(Sn(e,t),Mn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ue(t,t.return,_)}}break;case 3:if(Sn(e,t),Mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(e.containerInfo)}catch(_){Ue(t,t.return,_)}break;case 4:Sn(e,t),Mn(t);break;case 13:Sn(e,t),Mn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gy=Ge())),r&4&&e0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||h,Sn(e,t),Ct=c):Sn(e,t),Mn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(f=H=h;H!==null;){switch(d=H,g=d.child,d.tag){case 0:case 11:case 14:case 15:ol(4,d,d.return);break;case 1:ro(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Ue(r,n,_)}}break;case 5:ro(d,d.return);break;case 22:if(d.memoizedState!==null){n0(f);continue}}g!==null?(g.return=d,H=g):n0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mA("display",o))}catch(_){Ue(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){Ue(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Sn(e,t),Mn(t),r&4&&e0(t);break;case 21:break;default:Sn(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($C(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Il(i,""),r.flags&=-33);var s=ZE(t);Xm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ZE(t);Ym(t,a,o);break;default:throw Error($(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ON(t,e,n){H=t,qC(t)}function qC(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ac;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=Ac;var c=Ct;if(Ac=o,(Ct=l)&&!c)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?r0(i):l!==null?(l.return=o,H=l):r0(i);for(;s!==null;)H=s,qC(s),s=s.sibling;H=i,Ac=a,Ct=c}t0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):t0(t)}}function t0(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||Of(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&UE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}UE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ct||e.flags&512&&Qm(e)}catch(d){Ue(e,e.return,d)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function n0(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function r0(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Of(4,e)}catch(l){Ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ue(e,i,l)}}var s=e.return;try{Qm(e)}catch(l){Ue(e,s,l)}break;case 5:var o=e.return;try{Qm(e)}catch(l){Ue(e,o,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var MN=Math.ceil,Oh=Fr.ReactCurrentDispatcher,Wy=Fr.ReactCurrentOwner,yn=Fr.ReactCurrentBatchConfig,fe=0,lt=null,Ye=null,mt=0,tn=0,io=Mi(0),nt=0,Fl=null,Ts=0,Mf=0,Hy=0,al=null,Wt=null,Gy=0,Fo=1/0,ar=null,Mh=!1,Jm=null,pi=null,Cc=!1,si=null,Lh=0,ll=0,Zm=null,Qc=-1,Yc=0;function Lt(){return fe&6?Ge():Qc!==-1?Qc:Qc=Ge()}function mi(t){return t.mode&1?fe&2&&mt!==0?mt&-mt:_N.transition!==null?(Yc===0&&(Yc=RA()),Yc):(t=ye,t!==0||(t=window.event,t=t===void 0?16:OA(t.type)),t):1}function kn(t,e,n,r){if(50<ll)throw ll=0,Zm=null,Error($(185));Eu(t,n,r),(!(fe&2)||t!==lt)&&(t===lt&&(!(fe&2)&&(Mf|=n),nt===4&&Yr(t,mt)),Xt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Fo=Ge()+500,Vf&&Li()))}function Xt(t,e){var n=t.callbackNode;_D(t,e);var r=wh(t,t===lt?mt:0);if(r===0)n!==null&&fE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fE(n),e===1)t.tag===0?vN(i0.bind(null,t)):eC(i0.bind(null,t)),pN(function(){!(fe&6)&&Li()}),n=null;else{switch(bA(r)){case 1:n=_y;break;case 4:n=CA;break;case 16:n=_h;break;case 536870912:n=PA;break;default:n=_h}n=JC(n,WC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WC(t,e){if(Qc=-1,Yc=0,fe&6)throw Error($(327));var n=t.callbackNode;if(yo()&&t.callbackNode!==n)return null;var r=wh(t,t===lt?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fh(t,r);else{e=r;var i=fe;fe|=2;var s=GC();(lt!==t||mt!==e)&&(ar=null,Fo=Ge()+500,hs(t,e));do try{UN();break}catch(a){HC(t,a)}while(!0);Vy(),Oh.current=s,fe=i,Ye!==null?e=0:(lt=null,mt=0,e=nt)}if(e!==0){if(e===2&&(i=Cm(t),i!==0&&(r=i,e=eg(t,i))),e===1)throw n=Fl,hs(t,0),Yr(t,r),Xt(t,Ge()),n;if(e===6)Yr(t,r);else{if(i=t.current.alternate,!(r&30)&&!LN(i)&&(e=Fh(t,r),e===2&&(s=Cm(t),s!==0&&(r=s,e=eg(t,s))),e===1))throw n=Fl,hs(t,0),Yr(t,r),Xt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Yi(t,Wt,ar);break;case 3:if(Yr(t,r),(r&130023424)===r&&(e=Gy+500-Ge(),10<e)){if(wh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Nm(Yi.bind(null,t,Wt,ar),e);break}Yi(t,Wt,ar);break;case 4:if(Yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MN(r/1960))-r,10<r){t.timeoutHandle=Nm(Yi.bind(null,t,Wt,ar),r);break}Yi(t,Wt,ar);break;case 5:Yi(t,Wt,ar);break;default:throw Error($(329))}}}return Xt(t,Ge()),t.callbackNode===n?WC.bind(null,t):null}function eg(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=Fh(t,e),t!==2&&(e=Wt,Wt=n,e!==null&&tg(e)),t}function tg(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function LN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yr(t,e){for(e&=~Hy,e&=~Mf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function i0(t){if(fe&6)throw Error($(327));yo();var e=wh(t,0);if(!(e&1))return Xt(t,Ge()),null;var n=Fh(t,e);if(t.tag!==0&&n===2){var r=Cm(t);r!==0&&(e=r,n=eg(t,r))}if(n===1)throw n=Fl,hs(t,0),Yr(t,e),Xt(t,Ge()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yi(t,Wt,ar),Xt(t,Ge()),null}function Ky(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Fo=Ge()+500,Vf&&Li())}}function Is(t){si!==null&&si.tag===0&&!(fe&6)&&yo();var e=fe;fe|=1;var n=yn.transition,r=ye;try{if(yn.transition=null,ye=1,t)return t()}finally{ye=r,yn.transition=n,fe=e,!(fe&6)&&Li()}}function Qy(){tn=io.current,Pe(io)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dN(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(by(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ah();break;case 3:Mo(),Pe(Qt),Pe(bt),Fy();break;case 5:Ly(r);break;case 4:Mo();break;case 13:Pe(ke);break;case 19:Pe(ke);break;case 10:Dy(r.type._context);break;case 22:case 23:Qy()}n=n.return}if(lt=t,Ye=t=gi(t.current,null),mt=tn=e,nt=0,Fl=null,Hy=Mf=Ts=0,Wt=al=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}es=null}return t}function HC(t,e){do{var n=Ye;try{if(Vy(),Hc.current=Nh,Dh){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dh=!1}if(Es=0,at=tt=Ne=null,sl=!1,Ol=0,Wy.current=null,n===null||n.return===null){nt=1,Fl=e,Ye=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=WE(o);if(g!==null){g.flags&=-257,HE(g,o,a,s,e),g.mode&1&&qE(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){qE(s,c,e),Yy();break e}l=Error($(426))}}else if(Re&&a.mode&1){var S=WE(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),HE(S,o,a,s,e),xy(Lo(l,a));break e}}s=l=Lo(l,a),nt!==4&&(nt=2),al===null?al=[s]:al.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=bC(s,l,e);FE(s,w);break e;case 1:a=l;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(pi===null||!pi.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=xC(s,a,e);FE(s,b);break e}}s=s.return}while(s!==null)}QC(n)}catch(O){e=O,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function GC(){var t=Oh.current;return Oh.current=Nh,t===null?Nh:t}function Yy(){(nt===0||nt===3||nt===2)&&(nt=4),lt===null||!(Ts&268435455)&&!(Mf&268435455)||Yr(lt,mt)}function Fh(t,e){var n=fe;fe|=2;var r=GC();(lt!==t||mt!==e)&&(ar=null,hs(t,e));do try{FN();break}catch(i){HC(t,i)}while(!0);if(Vy(),fe=n,Oh.current=r,Ye!==null)throw Error($(261));return lt=null,mt=0,nt}function FN(){for(;Ye!==null;)KC(Ye)}function UN(){for(;Ye!==null&&!cD();)KC(Ye)}function KC(t){var e=XC(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?QC(t):Ye=e,Wy.current=null}function QC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VN(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Ye=null;return}}else if(n=kN(n,e,tn),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);nt===0&&(nt=5)}function Yi(t,e,n){var r=ye,i=yn.transition;try{yn.transition=null,ye=1,jN(t,e,n,r)}finally{yn.transition=i,ye=r}return null}function jN(t,e,n,r){do yo();while(si!==null);if(fe&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wD(t,s),t===lt&&(Ye=lt=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cc||(Cc=!0,JC(_h,function(){return yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var o=ye;ye=1;var a=fe;fe|=4,Wy.current=null,NN(t,n),zC(n,t),oN(Vm),Eh=!!km,Vm=km=null,t.current=n,ON(n),hD(),fe=a,ye=o,yn.transition=s}else t.current=n;if(Cc&&(Cc=!1,si=t,Lh=i),s=t.pendingLanes,s===0&&(pi=null),pD(n.stateNode),Xt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mh)throw Mh=!1,t=Jm,Jm=null,t;return Lh&1&&t.tag!==0&&yo(),s=t.pendingLanes,s&1?t===Zm?ll++:(ll=0,Zm=t):ll=0,Li(),null}function yo(){if(si!==null){var t=bA(Lh),e=yn.transition,n=ye;try{if(yn.transition=null,ye=16>t?16:t,si===null)var r=!1;else{if(t=si,si=null,Lh=0,fe&6)throw Error($(331));var i=fe;for(fe|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:ol(8,h,s)}var f=h.child;if(f!==null)f.return=h,H=f;else for(;H!==null;){h=H;var d=h.sibling,g=h.return;if(jC(h),h===c){H=null;break}if(d!==null){d.return=g,H=d;break}H=g}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,H=w;break e}H=s.return}}var y=t.current;for(H=y;H!==null;){o=H;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,H=E;else e:for(o=y;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Of(9,a)}}catch(O){Ue(a,a.return,O)}if(a===o){H=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,H=b;break e}H=a.return}}if(fe=i,Li(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Pf,t)}catch{}r=!0}return r}finally{ye=n,yn.transition=e}}return!1}function s0(t,e,n){e=Lo(n,e),e=bC(t,e,1),t=di(t,e,1),e=Lt(),t!==null&&(Eu(t,1,e),Xt(t,e))}function Ue(t,e,n){if(t.tag===3)s0(t,t,n);else for(;e!==null;){if(e.tag===3){s0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pi===null||!pi.has(r))){t=Lo(n,t),t=xC(e,t,1),e=di(e,t,1),t=Lt(),e!==null&&(Eu(e,1,t),Xt(e,t));break}}e=e.return}}function $N(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(mt&n)===n&&(nt===4||nt===3&&(mt&130023424)===mt&&500>Ge()-Gy?hs(t,0):Hy|=n),Xt(t,e)}function YC(t,e){e===0&&(t.mode&1?(e=gc,gc<<=1,!(gc&130023424)&&(gc=4194304)):e=1);var n=Lt();t=Pr(t,e),t!==null&&(Eu(t,e,n),Xt(t,n))}function BN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),YC(t,n)}function zN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),YC(t,n)}var XC;XC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,xN(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Re&&e.flags&1048576&&tC(e,Rh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kc(t,e),t=e.pendingProps;var i=Do(e,bt.current);go(e,n),i=jy(null,e,r,t,i,n);var s=$y();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(s=!0,Ch(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oy(e),i.updater=Nf,e.stateNode=i,i._reactInternals=e,$m(e,r,t,n),e=qm(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&Ry(e),Ot(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WN(r),t=Cn(r,t),i){case 0:e=zm(null,e,r,t,n);break e;case 1:e=QE(null,e,r,t,n);break e;case 11:e=GE(null,e,r,t,n);break e;case 14:e=KE(null,e,r,Cn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),zm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),QE(t,e,r,i,n);case 3:e:{if(NC(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,aC(t,e),kh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Lo(Error($(423)),e),e=YE(t,e,r,n,i);break e}else if(r!==i){i=Lo(Error($(424)),e),e=YE(t,e,r,n,i);break e}else for(nn=fi(e.stateNode.containerInfo.firstChild),sn=e,Re=!0,Rn=null,n=sC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(No(),r===i){e=Rr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return lC(e),t===null&&Fm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Dm(r,i)?o=null:s!==null&&Dm(r,s)&&(e.flags|=32),DC(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&Fm(e),null;case 13:return OC(t,e,n);case 4:return My(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oo(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),GE(t,e,r,i,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Te(bh,r._currentValue),r._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===i.children&&!Qt.current){e=Rr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Er(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Um(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Um(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ot(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,n),i=wn(i),r=r(i),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,i=Cn(r,e.pendingProps),i=Cn(r.type,i),KE(t,e,r,i,n);case 15:return kC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Kc(t,e),e.tag=1,Yt(r)?(t=!0,Ch(e)):t=!1,go(e,n),RC(e,r,i),$m(e,r,i,n),qm(null,e,r,!0,t,n);case 19:return MC(t,e,n);case 22:return VC(t,e,n)}throw Error($(156,e.tag))};function JC(t,e){return AA(t,e)}function qN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new qN(t,e,n,r)}function Xy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WN(t){if(typeof t=="function")return Xy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gy)return 11;if(t===yy)return 14}return 2}function gi(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ks:return fs(n.children,i,s,e);case my:o=8,i|=8;break;case hm:return t=gn(12,n,e,i|2),t.elementType=hm,t.lanes=s,t;case fm:return t=gn(13,n,e,i),t.elementType=fm,t.lanes=s,t;case dm:return t=gn(19,n,e,i),t.elementType=dm,t.lanes=s,t;case lA:return Lf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oA:o=10;break e;case aA:o=9;break e;case gy:o=11;break e;case yy:o=14;break e;case Gr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fs(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function Lf(t,e,n,r){return t=gn(22,t,r,e),t.elementType=lA,t.lanes=n,t.stateNode={isHidden:!1},t}function _p(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function wp(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jy(t,e,n,r,i,s,o,a,l){return t=new HN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(s),t}function GN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZC(t){if(!t)return Ai;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Yt(n))return ZA(t,n,e)}return e}function eP(t,e,n,r,i,s,o,a,l){return t=Jy(n,r,!0,t,i,s,o,a,l),t.context=ZC(null),n=t.current,r=Lt(),i=mi(n),s=Er(r,i),s.callback=e??null,di(n,s,i),t.current.lanes=i,Eu(t,i,r),Xt(t,r),t}function Ff(t,e,n,r){var i=e.current,s=Lt(),o=mi(i);return n=ZC(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=di(i,e,o),t!==null&&(kn(t,i,o,s),Wc(t,i,o)),o}function Uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zy(t,e){o0(t,e),(t=t.alternate)&&o0(t,e)}function KN(){return null}var tP=typeof reportError=="function"?reportError:function(t){console.error(t)};function ev(t){this._internalRoot=t}Uf.prototype.render=ev.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Ff(t,e,null,null)};Uf.prototype.unmount=ev.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){Ff(null,t,null,null)}),e[Cr]=null}};function Uf(t){this._internalRoot=t}Uf.prototype.unstable_scheduleHydration=function(t){if(t){var e=VA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qr.length&&e!==0&&e<Qr[n].priority;n++);Qr.splice(n,0,t),n===0&&NA(t)}};function tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a0(){}function QN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Uh(o);s.call(c)}}var o=eP(e,r,t,0,null,!1,!1,"",a0);return t._reactRootContainer=o,t[Cr]=o.current,xl(t.nodeType===8?t.parentNode:t),Is(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Uh(l);a.call(c)}}var l=Jy(t,0,!1,null,null,!1,!1,"",a0);return t._reactRootContainer=l,t[Cr]=l.current,xl(t.nodeType===8?t.parentNode:t),Is(function(){Ff(e,l,n,r)}),l}function $f(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Uh(o);a.call(l)}}Ff(e,o,t,i)}else o=QN(n,e,t,i,r);return Uh(o)}xA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ha(e.pendingLanes);n!==0&&(wy(e,n|1),Xt(e,Ge()),!(fe&6)&&(Fo=Ge()+500,Li()))}break;case 13:Is(function(){var r=Pr(t,1);if(r!==null){var i=Lt();kn(r,t,1,i)}}),Zy(t,1)}};Ey=function(t){if(t.tag===13){var e=Pr(t,134217728);if(e!==null){var n=Lt();kn(e,t,134217728,n)}Zy(t,134217728)}};kA=function(t){if(t.tag===13){var e=mi(t),n=Pr(t,e);if(n!==null){var r=Lt();kn(n,t,e,r)}Zy(t,e)}};VA=function(){return ye};DA=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Im=function(t,e,n){switch(e){case"input":if(gm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kf(r);if(!i)throw Error($(90));cA(r),gm(r,i)}}}break;case"textarea":fA(t,n);break;case"select":e=n.value,e!=null&&ho(t,!!n.multiple,e,!1)}};_A=Ky;wA=Is;var YN={usingClientEntryPoint:!1,Events:[Iu,Js,kf,yA,vA,Ky]},ja={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XN={bundleType:ja.bundleType,version:ja.version,rendererPackageName:ja.rendererPackageName,rendererConfig:ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IA(t),t===null?null:t.stateNode},findFiberByHostInstance:ja.findFiberByHostInstance||KN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Pf=Pc.inject(XN),$n=Pc}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YN;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(e))throw Error($(200));return GN(t,e,null,n)};an.createRoot=function(t,e){if(!tv(t))throw Error($(299));var n=!1,r="",i=tP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jy(t,1,!1,null,null,n,!1,r,i),t[Cr]=e.current,xl(t.nodeType===8?t.parentNode:t),new ev(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=IA(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return Is(t)};an.hydrate=function(t,e,n){if(!jf(e))throw Error($(200));return $f(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!tv(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eP(e,null,t,1,n??null,i,!1,s,o),t[Cr]=e.current,xl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Uf(e)};an.render=function(t,e,n){if(!jf(e))throw Error($(200));return $f(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!jf(t))throw Error($(40));return t._reactRootContainer?(Is(function(){$f(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};an.unstable_batchedUpdates=Ky;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jf(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return $f(t,e,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function nP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nP)}catch(t){console.error(t)}}nP(),nA.exports=an;var JN=nA.exports,l0=JN;um.createRoot=l0.createRoot,um.hydrateRoot=l0.hydrateRoot;const ZN="modulepreload",eO=function(t){return"/"+t},u0={},Ze=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=eO(l),l in u0)return;u0[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":ZN,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((d,g)=>{f.addEventListener("load",d),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var rP={exports:{}},tO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nO=tO,rO=nO;function iP(){}function sP(){}sP.resetWarningCache=iP;var iO=function(){function t(r,i,s,o,a,l){if(l!==rO){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sP,resetWarningCache:iP};return n.PropTypes=n,n};rP.exports=iO();var sO=rP.exports;const ce=_u(sO);var oO=typeof Element<"u",aO=typeof Map=="function",lO=typeof Set=="function",uO=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Jc(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Jc(t[r],e[r]))return!1;return!0}var s;if(aO&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Jc(r.value[1],e.get(r.value[0])))return!1;return!0}if(lO&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(uO&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(oO&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Jc(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var cO=function(e,n){try{return Jc(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const hO=_u(cO);var fO=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],h=0;l=new Error(e.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},dO=fO;const c0=_u(dO);var pO=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<o.length;c++){var h=o[c];if(!l(h))return!1;var f=e[h],d=n[h];if(s=r?r.call(i,f,d,h):void 0,s===!1||s===void 0&&f!==d)return!1}return!0};const mO=_u(pO);function We(){return We=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},We.apply(this,arguments)}function nv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ng(t,e)}function ng(t,e){return ng=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ng(t,e)}function h0(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}var Y={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},gO={rel:["amphtml","canonical","alternate"]},yO={type:["application/ld+json"]},vO={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},f0=Object.keys(Y).map(function(t){return Y[t]}),jh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},_O=Object.keys(jh).reduce(function(t,e){return t[jh[e]]=e,t},{}),vo=function(t,e){for(var n=t.length-1;n>=0;n-=1){var r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},wO=function(t){var e=vo(t,Y.TITLE),n=vo(t,"titleTemplate");if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,function(){return e});var r=vo(t,"defaultTitle");return e||r||void 0},EO=function(t){return vo(t,"onChangeClientState")||function(){}},Ep=function(t,e){return e.filter(function(n){return n[t]!==void 0}).map(function(n){return n[t]}).reduce(function(n,r){return We({},n,r)},{})},TO=function(t,e){return e.filter(function(n){return n[Y.BASE]!==void 0}).map(function(n){return n[Y.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var i=Object.keys(r),s=0;s<i.length;s+=1){var o=i[s].toLowerCase();if(t.indexOf(o)!==-1&&r[o])return n.concat(r)}return n},[])},$a=function(t,e,n){var r={};return n.filter(function(i){return!!Array.isArray(i[t])||(i[t]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+t+' should be of type "Array". Instead found type "'+typeof i[t]+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,s){var o={};s.filter(function(f){for(var d,g=Object.keys(f),v=0;v<g.length;v+=1){var _=g[v],S=_.toLowerCase();e.indexOf(S)===-1||d==="rel"&&f[d].toLowerCase()==="canonical"||S==="rel"&&f[S].toLowerCase()==="stylesheet"||(d=S),e.indexOf(_)===-1||_!=="innerHTML"&&_!=="cssText"&&_!=="itemprop"||(d=_)}if(!d||!f[d])return!1;var w=f[d].toLowerCase();return r[d]||(r[d]={}),o[d]||(o[d]={}),!r[d][w]&&(o[d][w]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var a=Object.keys(o),l=0;l<a.length;l+=1){var c=a[l],h=We({},r[c],o[c]);r[c]=h}return i},[]).reverse()},IO=function(t,e){if(Array.isArray(t)&&t.length){for(var n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},oP=function(t){return Array.isArray(t)?t.join(""):t},Tp=function(t,e){return Array.isArray(t)?t.reduce(function(n,r){return function(i,s){for(var o=Object.keys(i),a=0;a<o.length;a+=1)if(s[o[a]]&&s[o[a]].includes(i[o[a]]))return!0;return!1}(r,e)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:t}},d0=function(t,e){var n;return We({},t,((n={})[e]=void 0,n))},SO=[Y.NOSCRIPT,Y.SCRIPT,Y.STYLE],Ip=function(t,e){return e===void 0&&(e=!0),e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},p0=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n]!==void 0?n+'="'+t[n]+'"':""+n;return e?e+" "+r:r},"")},m0=function(t,e){return e===void 0&&(e={}),Object.keys(t).reduce(function(n,r){return n[jh[r]||r]=t[r],n},e)},Zc=function(t,e){return e.map(function(n,r){var i,s=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(o){var a=jh[o]||o;a==="innerHTML"||a==="cssText"?s.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:s[a]=n[o]}),M.createElement(t,s)})},un=function(t,e,n){switch(t){case Y.TITLE:return{toComponent:function(){return i=e.titleAttributes,(s={key:r=e.title})["data-rh"]=!0,o=m0(i,s),[M.createElement(Y.TITLE,o,r)];var r,i,s,o},toString:function(){return function(r,i,s,o){var a=p0(s),l=oP(i);return a?"<"+r+' data-rh="true" '+a+">"+Ip(l,o)+"</"+r+">":"<"+r+' data-rh="true">'+Ip(l,o)+"</"+r+">"}(t,e.title,e.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return m0(e)},toString:function(){return p0(e)}};default:return{toComponent:function(){return Zc(t,e)},toString:function(){return function(r,i,s){return i.reduce(function(o,a){var l=Object.keys(a).filter(function(f){return!(f==="innerHTML"||f==="cssText")}).reduce(function(f,d){var g=a[d]===void 0?d:d+'="'+Ip(a[d],s)+'"';return f?f+" "+g:g},""),c=a.innerHTML||a.cssText||"",h=SO.indexOf(r)===-1;return o+"<"+r+' data-rh="true" '+l+(h?"/>":">"+c+"</"+r+">")},"")}(t,e,n)}}}},rg=function(t){var e=t.baseTag,n=t.bodyAttributes,r=t.encode,i=t.htmlAttributes,s=t.noscriptTags,o=t.styleTags,a=t.title,l=a===void 0?"":a,c=t.titleAttributes,h=t.linkTags,f=t.metaTags,d=t.scriptTags,g={toComponent:function(){},toString:function(){return""}};if(t.prioritizeSeoTags){var v=function(_){var S=_.linkTags,w=_.scriptTags,y=_.encode,E=Tp(_.metaTags,vO),b=Tp(S,gO),O=Tp(w,yO);return{priorityMethods:{toComponent:function(){return[].concat(Zc(Y.META,E.priority),Zc(Y.LINK,b.priority),Zc(Y.SCRIPT,O.priority))},toString:function(){return un(Y.META,E.priority,y)+" "+un(Y.LINK,b.priority,y)+" "+un(Y.SCRIPT,O.priority,y)}},metaTags:E.default,linkTags:b.default,scriptTags:O.default}}(t);g=v.priorityMethods,h=v.linkTags,f=v.metaTags,d=v.scriptTags}return{priority:g,base:un(Y.BASE,e,r),bodyAttributes:un("bodyAttributes",n,r),htmlAttributes:un("htmlAttributes",i,r),link:un(Y.LINK,h,r),meta:un(Y.META,f,r),noscript:un(Y.NOSCRIPT,s,r),script:un(Y.SCRIPT,d,r),style:un(Y.STYLE,o,r),title:un(Y.TITLE,{title:l,titleAttributes:c},r)}},Rc=[],ig=function(t,e){var n=this;e===void 0&&(e=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?Rc:n.instances},add:function(r){(n.canUseDOM?Rc:n.instances).push(r)},remove:function(r){var i=(n.canUseDOM?Rc:n.instances).indexOf(r);(n.canUseDOM?Rc:n.instances).splice(i,1)}}},this.context=t,this.canUseDOM=e,e||(t.helmet=rg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},aP=M.createContext({}),AO=ce.shape({setHelmet:ce.func,helmetInstances:ce.shape({get:ce.func,add:ce.func,remove:ce.func})}),CO=typeof document<"u",so=function(t){function e(n){var r;return(r=t.call(this,n)||this).helmetData=new ig(r.props.context,e.canUseDOM),r}return nv(e,t),e.prototype.render=function(){return M.createElement(aP.Provider,{value:this.helmetData.value},this.props.children)},e}(V.Component);so.canUseDOM=CO,so.propTypes={context:ce.shape({helmet:ce.shape()}),children:ce.node.isRequired},so.defaultProps={context:{}},so.displayName="HelmetProvider";var Bs=function(t,e){var n,r=document.head||document.querySelector(Y.HEAD),i=r.querySelectorAll(t+"[data-rh]"),s=[].slice.call(i),o=[];return e&&e.length&&e.forEach(function(a){var l=document.createElement(t);for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(c==="innerHTML"?l.innerHTML=a.innerHTML:c==="cssText"?l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText)):l.setAttribute(c,a[c]===void 0?"":a[c]));l.setAttribute("data-rh","true"),s.some(function(h,f){return n=f,l.isEqualNode(h)})?s.splice(n,1):o.push(l)}),s.forEach(function(a){return a.parentNode.removeChild(a)}),o.forEach(function(a){return r.appendChild(a)}),{oldTags:s,newTags:o}},Sp=function(t,e){var n=document.getElementsByTagName(t)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],s=[].concat(i),o=Object.keys(e),a=0;a<o.length;a+=1){var l=o[a],c=e[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),i.indexOf(l)===-1&&i.push(l);var h=s.indexOf(l);h!==-1&&s.splice(h,1)}for(var f=s.length-1;f>=0;f-=1)n.removeAttribute(s[f]);i.length===s.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==o.join(",")&&n.setAttribute("data-rh",o.join(","))}},g0=function(t,e){var n=t.baseTag,r=t.htmlAttributes,i=t.linkTags,s=t.metaTags,o=t.noscriptTags,a=t.onChangeClientState,l=t.scriptTags,c=t.styleTags,h=t.title,f=t.titleAttributes;Sp(Y.BODY,t.bodyAttributes),Sp(Y.HTML,r),function(_,S){_!==void 0&&document.title!==_&&(document.title=oP(_)),Sp(Y.TITLE,S)}(h,f);var d={baseTag:Bs(Y.BASE,n),linkTags:Bs(Y.LINK,i),metaTags:Bs(Y.META,s),noscriptTags:Bs(Y.NOSCRIPT,o),scriptTags:Bs(Y.SCRIPT,l),styleTags:Bs(Y.STYLE,c)},g={},v={};Object.keys(d).forEach(function(_){var S=d[_],w=S.newTags,y=S.oldTags;w.length&&(g[_]=w),y.length&&(v[_]=d[_].oldTags)}),e&&e(),a(t,g,v)},Ba=null,$h=function(t){function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=t.call.apply(t,[this].concat(s))||this).rendered=!1,r}nv(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(r){return!mO(r,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var r,i,s=this.props.context,o=s.setHelmet,a=null,l=(r=s.helmetInstances.get().map(function(c){var h=We({},c.props);return delete h.context,h}),{baseTag:TO(["href"],r),bodyAttributes:Ep("bodyAttributes",r),defer:vo(r,"defer"),encode:vo(r,"encodeSpecialCharacters"),htmlAttributes:Ep("htmlAttributes",r),linkTags:$a(Y.LINK,["rel","href"],r),metaTags:$a(Y.META,["name","charset","http-equiv","property","itemprop"],r),noscriptTags:$a(Y.NOSCRIPT,["innerHTML"],r),onChangeClientState:EO(r),scriptTags:$a(Y.SCRIPT,["src","innerHTML"],r),styleTags:$a(Y.STYLE,["cssText"],r),title:wO(r),titleAttributes:Ep("titleAttributes",r),prioritizeSeoTags:IO(r,"prioritizeSeoTags")});so.canUseDOM?(i=l,Ba&&cancelAnimationFrame(Ba),i.defer?Ba=requestAnimationFrame(function(){g0(i,function(){Ba=null})}):(g0(i),Ba=null)):rg&&(a=rg(l)),o(a)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},e}(V.Component);$h.propTypes={context:AO.isRequired},$h.displayName="HelmetDispatcher";var PO=["children"],RO=["children"],Ap=function(t){function e(){return t.apply(this,arguments)||this}nv(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(r){return!hO(d0(this.props,"helmetData"),d0(r,"helmetData"))},n.mapNestedChildrenToProps=function(r,i){if(!i)return null;switch(r.type){case Y.SCRIPT:case Y.NOSCRIPT:return{innerHTML:i};case Y.STYLE:return{cssText:i};default:throw new Error("<"+r.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.flattenArrayTypeChildren=function(r){var i,s=r.child,o=r.arrayTypeChildren;return We({},o,((i={})[s.type]=[].concat(o[s.type]||[],[We({},r.newChildProps,this.mapNestedChildrenToProps(s,r.nestedChildren))]),i))},n.mapObjectTypeChildren=function(r){var i,s,o=r.child,a=r.newProps,l=r.newChildProps,c=r.nestedChildren;switch(o.type){case Y.TITLE:return We({},a,((i={})[o.type]=c,i.titleAttributes=We({},l),i));case Y.BODY:return We({},a,{bodyAttributes:We({},l)});case Y.HTML:return We({},a,{htmlAttributes:We({},l)});default:return We({},a,((s={})[o.type]=We({},l),s))}},n.mapArrayTypeChildrenToProps=function(r,i){var s=We({},i);return Object.keys(r).forEach(function(o){var a;s=We({},s,((a={})[o]=r[o],a))}),s},n.warnOnInvalidChildren=function(r,i){return c0(f0.some(function(s){return r.type===s}),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+f0.join(", ")+" are allowed. Helmet does not support rendering <"+r.type+"> elements. Refer to our API for more information."),c0(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(s){return typeof s!="string"}),"Helmet expects a string as a child of <"+r.type+">. Did you forget to wrap your children in braces? ( <"+r.type+">{``}</"+r.type+"> ) Refer to our API for more information."),!0},n.mapChildrenToProps=function(r,i){var s=this,o={};return M.Children.forEach(r,function(a){if(a&&a.props){var l=a.props,c=l.children,h=h0(l,PO),f=Object.keys(h).reduce(function(g,v){return g[_O[v]||v]=h[v],g},{}),d=a.type;switch(typeof d=="symbol"?d=d.toString():s.warnOnInvalidChildren(a,c),d){case Y.FRAGMENT:i=s.mapChildrenToProps(c,i);break;case Y.LINK:case Y.META:case Y.NOSCRIPT:case Y.SCRIPT:case Y.STYLE:o=s.flattenArrayTypeChildren({child:a,arrayTypeChildren:o,newChildProps:f,nestedChildren:c});break;default:i=s.mapObjectTypeChildren({child:a,newProps:i,newChildProps:f,nestedChildren:c})}}}),this.mapArrayTypeChildrenToProps(o,i)},n.render=function(){var r=this.props,i=r.children,s=h0(r,RO),o=We({},s),a=s.helmetData;return i&&(o=this.mapChildrenToProps(i,o)),!a||a instanceof ig||(a=new ig(a.context,a.instances)),a?M.createElement($h,We({},o,{context:a.value,helmetData:void 0})):M.createElement(aP.Consumer,null,function(l){return M.createElement($h,We({},o,{context:l}))})},e}(V.Component);Ap.propTypes={base:ce.object,bodyAttributes:ce.object,children:ce.oneOfType([ce.arrayOf(ce.node),ce.node]),defaultTitle:ce.string,defer:ce.bool,encodeSpecialCharacters:ce.bool,htmlAttributes:ce.object,link:ce.arrayOf(ce.object),meta:ce.arrayOf(ce.object),noscript:ce.arrayOf(ce.object),onChangeClientState:ce.func,script:ce.arrayOf(ce.object),style:ce.arrayOf(ce.object),title:ce.string,titleAttributes:ce.object,titleTemplate:ce.string,prioritizeSeoTags:ce.bool,helmetData:ce.object},Ap.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},Ap.displayName="Helmet";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ul.apply(this,arguments)}var oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oi||(oi={}));const y0="popstate";function bO(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return sg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bh(i)}return kO(e,n,null,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xO(){return Math.random().toString(36).substr(2,8)}function v0(t,e){return{usr:t.state,key:t.key,idx:e}}function sg(t,e,n,r){return n===void 0&&(n=null),Ul({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sa(e):e,{state:n,key:e&&e.key||r||xO()})}function Bh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=oi.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Ul({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=oi.Pop;let S=h(),w=S==null?null:S-c;c=S,l&&l({action:a,location:_.location,delta:w})}function d(S,w){a=oi.Push;let y=sg(_.location,S,w);c=h()+1;let E=v0(y,c),b=_.createHref(y);try{o.pushState(E,"",b)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(b)}s&&l&&l({action:a,location:_.location,delta:1})}function g(S,w){a=oi.Replace;let y=sg(_.location,S,w);c=h();let E=v0(y,c),b=_.createHref(y);o.replaceState(E,"",b),s&&l&&l({action:a,location:_.location,delta:0})}function v(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof S=="string"?S:Bh(S);return y=y.replace(/ $/,"%20"),$e(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let _={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y0,f),l=S,()=>{i.removeEventListener(y0,f),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let w=v(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:g,go(S){return o.go(S)}};return _}var _0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_0||(_0={}));function VO(t,e,n){return n===void 0&&(n="/"),DO(t,e,n)}function DO(t,e,n,r){let i=typeof e=="string"?sa(e):e,s=Uo(i.pathname||"/",n);if(s==null)return null;let o=uP(t);NO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=WO(s);a=zO(o[l],c)}return a}function uP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&($e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=yi([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&($e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),uP(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:$O(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of cP(s.path))i(s,o,l)}),e}function cP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=cP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function NO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OO=/^:[\w-]+$/,MO=3,LO=2,FO=1,UO=10,jO=-2,w0=t=>t==="*";function $O(t,e){let n=t.split("/"),r=n.length;return n.some(w0)&&(r+=jO),e&&(r+=LO),n.filter(i=>!w0(i)).reduce((i,s)=>i+(OO.test(s)?MO:s===""?FO:UO),r)}function BO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=og({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:yi([s,f.pathname]),pathnameBase:QO(yi([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=yi([s,f.pathnameBase]))}return o}function og(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:d,isOptional:g}=h;if(d==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[f];return g&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function qO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function HO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?sa(t):t;return{pathname:n?n.startsWith("/")?n:GO(n,e):e,search:YO(r),hash:XO(i)}}function GO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hP(t,e){let n=KO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=sa(t):(i=Ul({},t),$e(!i.pathname||!i.pathname.includes("?"),Cp("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),Cp("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),Cp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=HO(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const yi=t=>t.join("/").replace(/\/\/+/g,"/"),QO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dP=["post","put","patch","delete"];new Set(dP);const ZO=["get",...dP];new Set(ZO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}const Bf=V.createContext(null),pP=V.createContext(null),Fi=V.createContext(null),zf=V.createContext(null),ks=V.createContext({outlet:null,matches:[],isDataRoute:!1}),mP=V.createContext(null);function eM(t,e){let{relative:n}=e===void 0?{}:e;Au()||$e(!1);let{basename:r,navigator:i}=V.useContext(Fi),{hash:s,pathname:o,search:a}=qf(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:yi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Au(){return V.useContext(zf)!=null}function oa(){return Au()||$e(!1),V.useContext(zf).location}function gP(t){V.useContext(Fi).static||V.useLayoutEffect(t)}function tM(){let{isDataRoute:t}=V.useContext(ks);return t?pM():nM()}function nM(){Au()||$e(!1);let t=V.useContext(Bf),{basename:e,future:n,navigator:r}=V.useContext(Fi),{matches:i}=V.useContext(ks),{pathname:s}=oa(),o=JSON.stringify(hP(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return gP(()=>{a.current=!0}),V.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=fP(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:yi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}function qf(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(Fi),{matches:i}=V.useContext(ks),{pathname:s}=oa(),o=JSON.stringify(hP(i,r.v7_relativeSplatPath));return V.useMemo(()=>fP(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function rM(t,e){return iM(t,e)}function iM(t,e,n,r){Au()||$e(!1);let{navigator:i}=V.useContext(Fi),{matches:s}=V.useContext(ks),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=oa(),h;if(e){var f;let S=typeof e=="string"?sa(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||$e(!1),h=S}else h=c;let d=h.pathname||"/",g=d;if(l!=="/"){let S=l.replace(/^\//,"").split("/");g="/"+d.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=VO(t,{pathname:g}),_=uM(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:yi([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:yi([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&_?V.createElement(zf.Provider,{value:{location:jl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:oi.Pop}},_):_}function sM(){let t=dM(),e=JO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const oM=V.createElement(sM,null);class aM extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(ks.Provider,{value:this.props.routeContext},V.createElement(mP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lM(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(Bf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(ks.Provider,{value:e},r)}function uM(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||$e(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:d,errors:g}=n,v=f.route.loader&&d[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,d)=>{let g,v=!1,_=null,S=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||oM,l&&(c<0&&d===0?(mM("route-fallback"),v=!0,S=null):c===d&&(v=!0,S=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,d+1)),y=()=>{let E;return g?E=_:v?E=S:f.route.Component?E=V.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,V.createElement(lM,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?V.createElement(aM,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var yP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yP||{}),vP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vP||{});function cM(t){let e=V.useContext(Bf);return e||$e(!1),e}function hM(t){let e=V.useContext(pP);return e||$e(!1),e}function fM(t){let e=V.useContext(ks);return e||$e(!1),e}function _P(t){let e=fM(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function dM(){var t;let e=V.useContext(mP),n=hM(),r=_P();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pM(){let{router:t}=cM(yP.UseNavigateStable),e=_P(vP.UseNavigateStable),n=V.useRef(!1);return gP(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jl({fromRouteId:e},s)))},[t,e])}const E0={};function mM(t,e,n){E0[t]||(E0[t]=!0)}function gM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function et(t){$e(!1)}function yM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=oi.Pop,navigator:s,static:o=!1,future:a}=t;Au()&&$e(!1);let l=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:s,static:o,future:jl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=sa(r));let{pathname:h="/",search:f="",hash:d="",state:g=null,key:v="default"}=r,_=V.useMemo(()=>{let S=Uo(h,l);return S==null?null:{location:{pathname:S,search:f,hash:d,state:g,key:v},navigationType:i}},[l,h,f,d,g,v,i]);return _==null?null:V.createElement(Fi.Provider,{value:c},V.createElement(zf.Provider,{children:n,value:_}))}function vM(t){let{children:e,location:n}=t;return rM(ag(e),n)}new Promise(()=>{});function ag(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,ag(r.props.children,s));return}r.type!==et&&$e(!1),!r.props.index||!r.props.children||$e(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ag(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zh.apply(this,arguments)}function wP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _M(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wM(t,e){return t.button===0&&(!e||e==="_self")&&!_M(t)}const EM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TM=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],IM="6";try{window.__reactRouterVersion=IM}catch{}const SM=V.createContext({isTransitioning:!1}),AM="startTransition",T0=GV[AM];function CM(t){let{basename:e,children:n,future:r,window:i}=t,s=V.useRef();s.current==null&&(s.current=bO({window:i,v5Compat:!0}));let o=s.current,[a,l]=V.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=V.useCallback(f=>{c&&T0?T0(()=>l(f)):l(f)},[l,c]);return V.useLayoutEffect(()=>o.listen(h),[o,h]),V.useEffect(()=>gM(r),[r]),V.createElement(yM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const PM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qh=V.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,d=wP(e,EM),{basename:g}=V.useContext(Fi),v,_=!1;if(typeof c=="string"&&RM.test(c)&&(v=c,PM))try{let E=new URL(window.location.href),b=c.startsWith("//")?new URL(E.protocol+c):new URL(c),O=Uo(b.pathname,g);b.origin===E.origin&&O!=null?c=O+b.search+b.hash:_=!0}catch{}let S=eM(c,{relative:i}),w=xM(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function y(E){r&&r(E),E.defaultPrevented||w(E)}return V.createElement("a",zh({},d,{href:v||S,onClick:_||s?r:y,ref:n,target:l}))}),Pp=V.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:h}=e,f=wP(e,TM),d=qf(l,{relative:f.relative}),g=oa(),v=V.useContext(pP),{navigator:_,basename:S}=V.useContext(Fi),w=v!=null&&kM(d)&&c===!0,y=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,E=g.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(E=E.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&S&&(b=Uo(b,S)||b);const O=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let F=E===y||!o&&E.startsWith(y)&&E.charAt(O)==="/",A=b!=null&&(b===y||!o&&b.startsWith(y)&&b.charAt(y.length)==="/"),T={isActive:F,isPending:A,isTransitioning:w},C=F?r:void 0,P;typeof s=="function"?P=s(T):P=[s,F?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(T):a;return V.createElement(qh,zh({},f,{"aria-current":C,className:P,ref:n,style:x,to:l,viewTransition:c}),typeof h=="function"?h(T):h)});var lg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lg||(lg={}));var I0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I0||(I0={}));function bM(t){let e=V.useContext(Bf);return e||$e(!1),e}function xM(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=tM(),c=oa(),h=qf(t,{relative:o});return V.useCallback(f=>{if(wM(f,n)){f.preventDefault();let d=r!==void 0?r:Bh(c)===Bh(h);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function kM(t,e){e===void 0&&(e={});let n=V.useContext(SM);n==null&&$e(!1);let{basename:r}=bM(lg.useViewTransitionState),i=qf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Uo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Uo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return og(i.pathname,o)!=null||og(i.pathname,s)!=null}var EP={exports:{}},Wf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VM=V,DM=Symbol.for("react.element"),NM=Symbol.for("react.fragment"),OM=Object.prototype.hasOwnProperty,MM=VM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LM={key:!0,ref:!0,__self:!0,__source:!0};function TP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)OM.call(e,r)&&!LM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DM,type:t,key:s,ref:o,props:i,_owner:MM.current}}Wf.Fragment=NM;Wf.jsx=TP;Wf.jsxs=TP;EP.exports=Wf;var Tr=EP.exports;const rv=V.createContext({});function iv(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const sv=typeof window<"u",IP=sv?V.useLayoutEffect:V.useEffect,Hf=V.createContext(null);function ov(t,e){t.indexOf(e)===-1&&t.push(e)}function av(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const br=(t,e,n)=>n>e?e:n<t?t:n;let lv=()=>{};const xr={},SP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function AP(t){return typeof t=="object"&&t!==null}const CP=t=>/^0[^.\s]+$/u.test(t);function uv(t){let e;return()=>(e===void 0&&(e=t()),e)}const vn=t=>t,FM=(t,e)=>n=>e(t(n)),Cu=(...t)=>t.reduce(FM),$l=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class cv{constructor(){this.subscriptions=[]}add(e){return ov(this.subscriptions,e),()=>av(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zn=t=>t*1e3,qn=t=>t/1e3;function PP(t,e){return e?t*(1e3/e):0}const RP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UM=1e-7,jM=12;function $M(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=RP(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>UM&&++a<jM);return o}function Pu(t,e,n,r){if(t===e&&n===r)return vn;const i=s=>$M(s,0,1,t,n);return s=>s===0||s===1?s:RP(i(s),e,r)}const bP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xP=t=>e=>1-t(1-e),kP=Pu(.33,1.53,.69,.99),hv=xP(kP),VP=bP(hv),DP=t=>(t*=2)<1?.5*hv(t):.5*(2-Math.pow(2,-10*(t-1))),fv=t=>1-Math.sin(Math.acos(t)),NP=xP(fv),OP=bP(fv),BM=Pu(.42,0,1,1),zM=Pu(0,0,.58,1),MP=Pu(.42,0,.58,1),qM=t=>Array.isArray(t)&&typeof t[0]!="number",LP=t=>Array.isArray(t)&&typeof t[0]=="number",WM={linear:vn,easeIn:BM,easeInOut:MP,easeOut:zM,circIn:fv,circInOut:OP,circOut:NP,backIn:hv,backInOut:VP,backOut:kP,anticipate:DP},HM=t=>typeof t=="string",S0=t=>{if(LP(t)){lv(t.length===4);const[e,n,r,i]=t;return Pu(e,n,r,i)}else if(HM(t))return WM[t];return t},bc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function GM(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(c.schedule(h),t()),h(a)}const c={schedule:(h,f=!1,d=!1)=>{const v=d&&i?n:r;return f&&o.add(h),v.has(h)||v.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(h))}};return c}const KM=40;function FP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=bc.reduce((E,b)=>(E[b]=GM(s),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:h,update:f,preRender:d,render:g,postRender:v}=o,_=()=>{const E=xr.useManualTiming?i.timestamp:performance.now();n=!1,xr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,KM),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),f.process(i),d.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},S=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:bc.reduce((E,b)=>{const O=o[b];return E[b]=(F,A=!1,T=!1)=>(n||S(),O.schedule(F,A,T)),E},{}),cancel:E=>{for(let b=0;b<bc.length;b++)o[bc[b]].cancel(E)},state:i,steps:o}}const{schedule:be,cancel:Ci,state:ft,steps:Rp}=FP(typeof requestAnimationFrame<"u"?requestAnimationFrame:vn,!0);let eh;function QM(){eh=void 0}const Kt={now:()=>(eh===void 0&&Kt.set(ft.isProcessing||xr.useManualTiming?ft.timestamp:performance.now()),eh),set:t=>{eh=t,queueMicrotask(QM)}},UP=t=>e=>typeof e=="string"&&e.startsWith(t),dv=UP("--"),YM=UP("var(--"),pv=t=>YM(t)?XM.test(t.split("/*")[0].trim()):!1,XM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,aa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bl={...aa,transform:t=>br(0,1,t)},xc={...aa,default:1},ul=t=>Math.round(t*1e5)/1e5,mv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JM(t){return t==null}const ZM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gv=(t,e)=>n=>!!(typeof n=="string"&&ZM.test(n)&&n.startsWith(t)||e&&!JM(n)&&Object.prototype.hasOwnProperty.call(n,e)),jP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(mv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},e2=t=>br(0,255,t),bp={...aa,transform:t=>Math.round(e2(t))},ns={test:gv("rgb","red"),parse:jP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bp.transform(t)+", "+bp.transform(e)+", "+bp.transform(n)+", "+ul(Bl.transform(r))+")"};function t2(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ug={test:gv("#"),parse:t2,transform:ns.transform},Ru=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hr=Ru("deg"),Wn=Ru("%"),Z=Ru("px"),n2=Ru("vh"),r2=Ru("vw"),A0={...Wn,parse:t=>Wn.parse(t)/100,transform:t=>Wn.transform(t*100)},oo={test:gv("hsl","hue"),parse:jP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wn.transform(ul(e))+", "+Wn.transform(ul(n))+", "+ul(Bl.transform(r))+")"},Qe={test:t=>ns.test(t)||ug.test(t)||oo.test(t),parse:t=>ns.test(t)?ns.parse(t):oo.test(t)?oo.parse(t):ug.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ns.transform(t):oo.transform(t),getAnimatableNone:t=>{const e=Qe.parse(t);return e.alpha=0,Qe.transform(e)}},i2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function s2(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(mv))==null?void 0:e.length)||0)+(((n=t.match(i2))==null?void 0:n.length)||0)>0}const $P="number",BP="color",o2="var",a2="var(",C0="${}",l2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(l2,l=>(Qe.test(l)?(r.color.push(s),i.push(BP),n.push(Qe.parse(l))):l.startsWith(a2)?(r.var.push(s),i.push(o2),n.push(l)):(r.number.push(s),i.push($P),n.push(parseFloat(l))),++s,C0)).split(C0);return{values:n,split:a,indexes:r,types:i}}function zP(t){return zl(t).values}function qP(t){const{split:e,types:n}=zl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===$P?s+=ul(i[o]):a===BP?s+=Qe.transform(i[o]):s+=i[o]}return s}}const u2=t=>typeof t=="number"?0:Qe.test(t)?Qe.getAnimatableNone(t):t;function c2(t){const e=zP(t);return qP(t)(e.map(u2))}const Pi={test:s2,parse:zP,createTransformer:qP,getAnimatableNone:c2};function xp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function h2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=xp(l,a,t+1/3),s=xp(l,a,t),o=xp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Wh(t,e){return n=>n>0?e:t}const De=(t,e,n)=>t+(e-t)*n,kp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},f2=[ug,ns,oo],d2=t=>f2.find(e=>e.test(t));function P0(t){const e=d2(t);if(!e)return!1;let n=e.parse(t);return e===oo&&(n=h2(n)),n}const R0=(t,e)=>{const n=P0(t),r=P0(e);if(!n||!r)return Wh(t,e);const i={...n};return s=>(i.red=kp(n.red,r.red,s),i.green=kp(n.green,r.green,s),i.blue=kp(n.blue,r.blue,s),i.alpha=De(n.alpha,r.alpha,s),ns.transform(i))},cg=new Set(["none","hidden"]);function p2(t,e){return cg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function m2(t,e){return n=>De(t,e,n)}function yv(t){return typeof t=="number"?m2:typeof t=="string"?pv(t)?Wh:Qe.test(t)?R0:v2:Array.isArray(t)?WP:typeof t=="object"?Qe.test(t)?R0:g2:Wh}function WP(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>yv(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function g2(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=yv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function y2(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const v2=(t,e)=>{const n=Pi.createTransformer(e),r=zl(t),i=zl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?cg.has(t)&&!i.values.length||cg.has(e)&&!r.values.length?p2(t,e):Cu(WP(y2(r,i),i.values),n):Wh(t,e)};function HP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?De(t,e,n):yv(t)(t,e)}const _2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>be.update(e,n),stop:()=>Ci(e),now:()=>ft.isProcessing?ft.timestamp:Kt.now()}},GP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Hh=2e4;function vv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Hh;)e+=n,r=t.next(e);return e>=Hh?1/0:e}function w2(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(vv(r),Hh);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:qn(i)}}const E2=5;function KP(t,e,n){const r=Math.max(e-E2,0);return PP(n-t(r),e-r)}const Fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vp=.001;function T2({duration:t=Fe.duration,bounce:e=Fe.bounce,velocity:n=Fe.velocity,mass:r=Fe.mass}){let i,s,o=1-e;o=br(Fe.minDamping,Fe.maxDamping,o),t=br(Fe.minDuration,Fe.maxDuration,qn(t)),o<1?(i=c=>{const h=c*o,f=h*t,d=h-n,g=hg(c,o),v=Math.exp(-f);return Vp-d/g*v},s=c=>{const f=c*o*t,d=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-f),_=hg(Math.pow(c,2),o);return(-i(c)+Vp>0?-1:1)*((d-g)*v)/_}):(i=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Vp+h*f},s=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,l=S2(i,s,a);if(t=zn(t),isNaN(l))return{stiffness:Fe.stiffness,damping:Fe.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const I2=12;function S2(t,e,n){let r=n;for(let i=1;i<I2;i++)r=r-t(r)/e(r);return r}function hg(t,e){return t*Math.sqrt(1-e*e)}const A2=["duration","bounce"],C2=["stiffness","damping","mass"];function b0(t,e){return e.some(n=>t[n]!==void 0)}function P2(t){let e={velocity:Fe.velocity,stiffness:Fe.stiffness,damping:Fe.damping,mass:Fe.mass,isResolvedFromDuration:!1,...t};if(!b0(t,C2)&&b0(t,A2))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*br(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Fe.mass,stiffness:i,damping:s}}else{const n=T2(t);e={...e,...n,mass:Fe.mass},e.isResolvedFromDuration=!0}return e}function Gh(t=Fe.visualDuration,e=Fe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:f,velocity:d,isResolvedFromDuration:g}=P2({...n,velocity:-qn(n.velocity||0)}),v=d||0,_=c/(2*Math.sqrt(l*h)),S=o-s,w=qn(Math.sqrt(l/h)),y=Math.abs(S)<5;r||(r=y?Fe.restSpeed.granular:Fe.restSpeed.default),i||(i=y?Fe.restDelta.granular:Fe.restDelta.default);let E;if(_<1){const O=hg(w,_);E=F=>{const A=Math.exp(-_*w*F);return o-A*((v+_*w*S)/O*Math.sin(O*F)+S*Math.cos(O*F))}}else if(_===1)E=O=>o-Math.exp(-w*O)*(S+(v+w*S)*O);else{const O=w*Math.sqrt(_*_-1);E=F=>{const A=Math.exp(-_*w*F),T=Math.min(O*F,300);return o-A*((v+_*w*S)*Math.sinh(T)+O*S*Math.cosh(T))/O}}const b={calculatedDuration:g&&f||null,next:O=>{const F=E(O);if(g)a.done=O>=f;else{let A=O===0?v:0;_<1&&(A=O===0?zn(v):KP(E,O,F));const T=Math.abs(A)<=r,C=Math.abs(o-F)<=i;a.done=T&&C}return a.value=a.done?o:F,a},toString:()=>{const O=Math.min(vv(b),Hh),F=GP(A=>b.next(O*A).value,O,30);return O+"ms "+F},toTransition:()=>{}};return b}Gh.applyToOptions=t=>{const e=w2(t,100,Gh);return t.ease=e.ease,t.duration=zn(e.duration),t.type="keyframes",t};function fg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],d={done:!1,value:f},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,v=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let _=n*e;const S=f+_,w=o===void 0?S:o(S);w!==S&&(_=w-f);const y=T=>-_*Math.exp(-T/r),E=T=>w+y(T),b=T=>{const C=y(T),P=E(T);d.done=Math.abs(C)<=c,d.value=d.done?w:P};let O,F;const A=T=>{g(d.value)&&(O=T,F=Gh({keyframes:[d.value,v(d.value)],velocity:KP(E,T,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return A(0),{calculatedDuration:null,next:T=>{let C=!1;return!F&&O===void 0&&(C=!0,b(T),A(T)),O!==void 0&&T>=O?F.next(T-O):(!C&&b(T),d)}}}function R2(t,e,n){const r=[],i=n||xr.mix||HP,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||vn:e;a=Cu(l,a)}r.push(a)}return r}function b2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(lv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=R2(e,r,i),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const d=$l(t[f],t[f+1],h);return a[f](d)};return n?h=>c(br(t[0],t[s-1],h)):c}function x2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=$l(0,e,r);t.push(De(n,1,i))}}function k2(t){const e=[0];return x2(e,t.length-1),e}function V2(t,e){return t.map(n=>n*e)}function D2(t,e){return t.map(()=>e||MP).splice(0,t.length-1)}function cl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=qM(r)?r.map(S0):S0(r),s={done:!1,value:e[0]},o=V2(n&&n.length===e.length?n:k2(e),t),a=b2(o,e,{ease:Array.isArray(i)?i:D2(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const N2=t=>t!==null;function _v(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(N2),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const O2={decay:fg,inertia:fg,tween:cl,keyframes:cl,spring:Gh};function QP(t){typeof t.type=="string"&&(t.type=O2[t.type])}class wv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const M2=t=>t/100;class Ev extends wv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Kt.now()&&this.tick(Kt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;QP(e);const{type:n=cl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||cl;l!==cl&&typeof a[0]!="number"&&(this.mixKeyframes=Cu(M2,HP(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=vv(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:f,repeatType:d,repeatDelay:g,type:v,onUpdate:_,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,b=r;if(f){const T=Math.min(this.currentTime,i)/a;let C=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(d==="reverse"?(P=1-P,g&&(P-=g/a)):d==="mirror"&&(b=o)),E=br(0,1,P)*a}const O=y?{done:!1,value:h[0]}:b.next(E);s&&(O.value=s(O.value));let{done:F}=O;!y&&l!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return A&&v!==fg&&(O.value=_v(h,this.options,S,this.speed)),_&&_(O.value),A&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return qn(this.calculatedDuration)}get time(){return qn(this.currentTime)}set time(e){var n;e=zn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Kt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=_2,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function L2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const rs=t=>t*180/Math.PI,dg=t=>{const e=rs(Math.atan2(t[1],t[0]));return pg(e)},F2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:dg,rotateZ:dg,skewX:t=>rs(Math.atan(t[1])),skewY:t=>rs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},pg=t=>(t=t%360,t<0&&(t+=360),t),x0=dg,k0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),V0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),U2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:k0,scaleY:V0,scale:t=>(k0(t)+V0(t))/2,rotateX:t=>pg(rs(Math.atan2(t[6],t[5]))),rotateY:t=>pg(rs(Math.atan2(-t[2],t[0]))),rotateZ:x0,rotate:x0,skewX:t=>rs(Math.atan(t[4])),skewY:t=>rs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function mg(t){return t.includes("scale")?1:0}function gg(t,e){if(!t||t==="none")return mg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=U2,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=F2,i=a}if(!i)return mg(e);const s=r[e],o=i[1].split(",").map($2);return typeof s=="function"?s(o):o[s]}const j2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gg(n,e)};function $2(t){return parseFloat(t.trim())}const la=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ua=new Set(la),D0=t=>t===aa||t===Z,B2=new Set(["x","y","z"]),z2=la.filter(t=>!B2.has(t));function q2(t){const e=[];return z2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ds={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gg(e,"x"),y:(t,{transform:e})=>gg(e,"y")};ds.translateX=ds.x;ds.translateY=ds.y;const ps=new Set;let yg=!1,vg=!1,_g=!1;function YP(){if(vg){const t=Array.from(ps).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=q2(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vg=!1,yg=!1,ps.forEach(t=>t.complete(_g)),ps.clear()}function XP(){ps.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vg=!0)})}function W2(){_g=!0,XP(),YP(),_g=!1}class Tv{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ps.add(this),yg||(yg=!0,be.read(XP),be.resolveKeyframes(YP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}L2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ps.delete(this)}cancel(){this.state==="scheduled"&&(ps.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const H2=t=>t.startsWith("--");function G2(t,e,n){H2(e)?t.style.setProperty(e,n):t.style[e]=n}const K2=uv(()=>window.ScrollTimeline!==void 0),Q2={};function Y2(t,e){const n=uv(t);return()=>Q2[e]??n()}const JP=Y2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ka=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,N0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ka([0,.65,.55,1]),circOut:Ka([.55,0,1,.45]),backIn:Ka([.31,.01,.66,-.59]),backOut:Ka([.33,1.53,.69,.99])};function ZP(t,e){if(t)return typeof t=="function"?JP()?GP(t,e):"ease-out":LP(t)?Ka(t):Array.isArray(t)?t.map(n=>ZP(n,e)||N0.easeOut):N0[t]}function X2(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const f=ZP(a,i);Array.isArray(f)&&(h.easing=f);const d={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),t.animate(h,d)}function e1(t){return typeof t=="function"&&"applyToOptions"in t}function J2({type:t,...e}){return e1(t)&&JP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Z2 extends wv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,lv(typeof e.type!="string");const c=J2(e);this.animation=X2(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=_v(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):G2(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return qn(Number(e))}get time(){return qn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&K2()?(this.animation.timeline=e,vn):n(this)}}const t1={anticipate:DP,backInOut:VP,circInOut:OP};function eL(t){return t in t1}function tL(t){typeof t.ease=="string"&&eL(t.ease)&&(t.ease=t1[t.ease])}const O0=10;class nL extends Z2{constructor(e){tL(e),QP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Ev({...o,autoplay:!1}),l=zn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-O0).value,a.sample(l).value,O0),a.stop()}}const M0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pi.test(t)||t==="0")&&!t.startsWith("url("));function rL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function iL(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=M0(i,e),a=M0(s,e);return!o||!a?!1:rL(t)||(n==="spring"||e1(n))&&r}function wg(t){t.duration=0,t.type}const sL=new Set(["opacity","clipPath","filter","transform"]),oL=uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aL(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return oL()&&n&&sL.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const lL=40;class uL extends wv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:h,...f}){var v;super(),this.stop=()=>{var _,S;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Kt.now();const d={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:h,...f},g=(h==null?void 0:h.KeyframeResolver)||Tv;this.keyframeResolver=new g(a,(_,S,w)=>this.onKeyframesResolved(_,S,d,!w),l,c,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=Kt.now(),iL(e,s,o,a)||((xr.instantAnimations||!l)&&(h==null||h(_v(e,r,n))),e[0]=e[e.length-1],wg(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>lL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&aL(d)?new nL({...d,element:d.motionValue.owner.current}):new Ev(d);g.finished.then(()=>this.notifyFinished()).catch(vn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),W2()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const cL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hL(t){const e=cL.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function n1(t,e,n=1){const[r,i]=hL(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return SP(o)?parseFloat(o):o}return pv(i)?n1(i,e,n+1):i}function Iv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const r1=new Set(["width","height","top","left","right","bottom",...la]),fL={test:t=>t==="auto",parse:t=>t},i1=t=>e=>e.test(t),s1=[aa,Z,Wn,Hr,r2,n2,fL],L0=t=>s1.find(i1(t));function dL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||CP(t):!0}const pL=new Set(["brightness","contrast","saturate","opacity"]);function mL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(mv)||[];if(!r)return t;const i=n.replace(r,"");let s=pL.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const gL=/\b([a-z-]*)\(.*?\)/gu,Eg={...Pi,getAnimatableNone:t=>{const e=t.match(gL);return e?e.map(mL).join(" "):t}},F0={...aa,transform:Math.round},yL={rotate:Hr,rotateX:Hr,rotateY:Hr,rotateZ:Hr,scale:xc,scaleX:xc,scaleY:xc,scaleZ:xc,skew:Hr,skewX:Hr,skewY:Hr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Bl,originX:A0,originY:A0,originZ:Z},Sv={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,backgroundPositionX:Z,backgroundPositionY:Z,...yL,zIndex:F0,fillOpacity:Bl,strokeOpacity:Bl,numOctaves:F0},vL={...Sv,color:Qe,backgroundColor:Qe,outlineColor:Qe,fill:Qe,stroke:Qe,borderColor:Qe,borderTopColor:Qe,borderRightColor:Qe,borderBottomColor:Qe,borderLeftColor:Qe,filter:Eg,WebkitFilter:Eg},o1=t=>vL[t];function a1(t,e){let n=o1(t);return n!==Eg&&(n=Pi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _L=new Set(["auto","none","0"]);function wL(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!_L.has(s)&&zl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=a1(n,i)}class EL extends Tv{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),pv(c))){const h=n1(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!r1.has(r)||e.length!==2)return;const[i,s]=e,o=L0(i),a=L0(s);if(o!==a)if(D0(o)&&D0(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else ds[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||dL(e[i]))&&r.push(i);r.length&&wL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ds[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function TL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const l1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function u1(t){return AP(t)&&"offsetHeight"in t}const U0=30,IL=t=>!isNaN(parseFloat(t));class SL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Kt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Kt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=IL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cv);const r=this.events[e].add(n);return e==="change"?()=>{r(),be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>U0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,U0);return PP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jo(t,e){return new SL(t,e)}const{schedule:Av}=FP(queueMicrotask,!1),An={x:!1,y:!1};function c1(){return An.x||An.y}function AL(t){return t==="x"||t==="y"?An[t]?null:(An[t]=!0,()=>{An[t]=!1}):An.x||An.y?null:(An.x=An.y=!0,()=>{An.x=An.y=!1})}function h1(t,e){const n=TL(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function j0(t){return!(t.pointerType==="touch"||c1())}function CL(t,e,n={}){const[r,i,s]=h1(t,n),o=a=>{if(!j0(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const h=f=>{j0(f)&&(c(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const f1=(t,e)=>e?t===e?!0:f1(t,e.parentElement):!1,Cv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,PL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RL(t){return PL.has(t.tagName)||t.tabIndex!==-1}const th=new WeakSet;function $0(t){return e=>{e.key==="Enter"&&t(e)}}function Dp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bL=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=$0(()=>{if(th.has(n))return;Dp(n,"down");const i=$0(()=>{Dp(n,"up")}),s=()=>Dp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function B0(t){return Cv(t)&&!c1()}function xL(t,e,n={}){const[r,i,s]=h1(t,n),o=a=>{const l=a.currentTarget;if(!B0(a))return;th.add(l);const c=e(l,a),h=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),th.has(l)&&th.delete(l),B0(g)&&typeof c=="function"&&c(g,{success:v})},f=g=>{h(g,l===window||l===document||n.useGlobalTarget||f1(l,g.target))},d=g=>{h(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),u1(a)&&(a.addEventListener("focus",c=>bL(c,i)),!RL(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function d1(t){return AP(t)&&"ownerSVGElement"in t}function kL(t){return d1(t)&&t.tagName==="svg"}const Rt=t=>!!(t&&t.getVelocity),VL=[...s1,Qe,Pi],DL=t=>VL.find(i1(t)),Pv=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class NL extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=u1(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function OL({children:t,isPresent:e,anchorX:n,root:r}){const i=V.useId(),s=V.useRef(null),o=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=V.useContext(Pv);return V.useInsertionEffect(()=>{const{width:l,height:c,top:h,left:f,right:d}=o.current;if(e||!s.current||!l||!c)return;const g=n==="left"?`left: ${f}`:`right: ${d}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");a&&(v.nonce=a);const _=r??document.head;return _.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${g}px !important;
            top: ${h}px !important;
          }
        `),()=>{_.contains(v)&&_.removeChild(v)}},[e]),Tr.jsx(NL,{isPresent:e,childRef:s,sizeRef:o,children:V.cloneElement(t,{ref:s})})}const ML=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=iv(LL),h=V.useId();let f=!0,d=V.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:g=>{c.set(g,!0);for(const v of c.values())if(!v)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return s&&f&&(d={...d}),V.useMemo(()=>{c.forEach((g,v)=>c.set(v,!1))},[n]),V.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=Tr.jsx(OL,{isPresent:n,anchorX:a,root:l,children:t})),Tr.jsx(Hf.Provider,{value:d,children:t})};function LL(){return new Map}function p1(t=!0){const e=V.useContext(Hf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=V.useId();V.useEffect(()=>{if(t)return i(s)},[t]);const o=V.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const kc=t=>t.key||"";function z0(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const m1=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,h]=p1(o),f=V.useMemo(()=>z0(t),[t]),d=o&&!c?[]:f.map(kc),g=V.useRef(!0),v=V.useRef(f),_=iv(()=>new Map),[S,w]=V.useState(f),[y,E]=V.useState(f);IP(()=>{g.current=!1,v.current=f;for(let F=0;F<y.length;F++){const A=kc(y[F]);d.includes(A)?_.delete(A):_.get(A)!==!0&&_.set(A,!1)}},[y,d.length,d.join("-")]);const b=[];if(f!==S){let F=[...f];for(let A=0;A<y.length;A++){const T=y[A],C=kc(T);d.includes(C)||(F.splice(A,0,T),b.push(T))}return s==="wait"&&b.length&&(F=b),E(z0(F)),w(f),null}const{forceRender:O}=V.useContext(rv);return Tr.jsx(Tr.Fragment,{children:y.map(F=>{const A=kc(F),T=o&&!c?!1:f===y||d.includes(A),C=()=>{if(_.has(A))_.set(A,!0);else return;let P=!0;_.forEach(x=>{x||(P=!1)}),P&&(O==null||O(),E(v.current),o&&(h==null||h()),r&&r())};return Tr.jsx(ML,{isPresent:T,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:T?void 0:C,anchorX:a,children:F},A)})})},g1=V.createContext({strict:!1}),q0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$o={};for(const t in q0)$o[t]={isEnabled:e=>q0[t].some(n=>!!e[n])};function FL(t){for(const e in t)$o[e]={...$o[e],...t[e]}}const UL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UL.has(t)}let y1=t=>!Kh(t);function jL(t){typeof t=="function"&&(y1=e=>e.startsWith("on")?!Kh(e):t(e))}try{jL(require("@emotion/is-prop-valid").default)}catch{}function $L(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(y1(i)||n===!0&&Kh(i)||!e&&!Kh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Gf=V.createContext({});function Kf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ql(t){return typeof t=="string"||Array.isArray(t)}const Rv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bv=["initial",...Rv];function Qf(t){return Kf(t.animate)||bv.some(e=>ql(t[e]))}function v1(t){return!!(Qf(t)||t.variants)}function BL(t,e){if(Qf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ql(n)?n:void 0,animate:ql(r)?r:void 0}}return t.inherit!==!1?e:{}}function zL(t){const{initial:e,animate:n}=BL(t,V.useContext(Gf));return V.useMemo(()=>({initial:e,animate:n}),[W0(e),W0(n)])}function W0(t){return Array.isArray(t)?t.join(" "):t}const Wl={};function qL(t){for(const e in t)Wl[e]=t[e],dv(e)&&(Wl[e].isCSSVariable=!0)}function _1(t,{layout:e,layoutId:n}){return ua.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wl[t]||t==="opacity")}const WL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HL=la.length;function GL(t,e,n){let r="",i=!0;for(let s=0;s<HL;s++){const o=la[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=l1(a,Sv[o]);if(!l){i=!1;const h=WL[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function xv(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ua.has(l)){o=!0;continue}else if(dv(l)){i[l]=c;continue}else{const h=l1(c,Sv[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=GL(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}const kv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function w1(t,e,n){for(const r in e)!Rt(e[r])&&!_1(r,n)&&(t[r]=e[r])}function KL({transformTemplate:t},e){return V.useMemo(()=>{const n=kv();return xv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function QL(t,e){const n=t.style||{},r={};return w1(r,n,t),Object.assign(r,KL(t,e)),r}function YL(t,e){const n={},r=QL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const XL={offset:"stroke-dashoffset",array:"stroke-dasharray"},JL={offset:"strokeDashoffset",array:"strokeDasharray"};function ZL(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?XL:JL;t[s.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[s.array]=`${o} ${a}`}function E1(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,h){if(xv(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:d}=t;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&ZL(f,i,s,o,!1)}const T1=()=>({...kv(),attrs:{}}),I1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eF(t,e,n,r){const i=V.useMemo(()=>{const s=T1();return E1(s,e,I1(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};w1(s,t.style,t),i.style={...s,...i.style}}return i}const tF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vv(t){return typeof t!="string"||t.includes("-")?!1:!!(tF.indexOf(t)>-1||/[A-Z]/u.test(t))}function nF(t,e,n,{latestValues:r},i,s=!1){const a=(Vv(t)?eF:YL)(e,r,i,t),l=$L(e,typeof t=="string",s),c=t!==V.Fragment?{...l,...a,ref:n}:{},{children:h}=e,f=V.useMemo(()=>Rt(h)?h.get():h,[h]);return V.createElement(t,{...c,children:f})}function H0(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Dv(t,e,n,r){if(typeof e=="function"){const[i,s]=H0(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=H0(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function nh(t){return Rt(t)?t.get():t}function rF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:iF(n,r,i,t),renderState:e()}}function iF(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=nh(s[d]);let{initial:o,animate:a}=t;const l=Qf(t),c=v1(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!Kf(f)){const d=Array.isArray(f)?f:[f];for(let g=0;g<d.length;g++){const v=Dv(t,d[g]);if(v){const{transitionEnd:_,transition:S,...w}=v;for(const y in w){let E=w[y];if(Array.isArray(E)){const b=h?E.length-1:0;E=E[b]}E!==null&&(i[y]=E)}for(const y in _)i[y]=_[y]}}}return i}const S1=t=>(e,n)=>{const r=V.useContext(Gf),i=V.useContext(Hf),s=()=>rF(t,e,r,i);return n?s():iv(s)};function Nv(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Rt(r[o])||e.style&&Rt(e.style[o])||_1(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const sF=S1({scrapeMotionValuesFromProps:Nv,createRenderState:kv});function A1(t,e,n){const r=Nv(t,e,n);for(const i in t)if(Rt(t[i])||Rt(e[i])){const s=la.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const oF=S1({scrapeMotionValuesFromProps:A1,createRenderState:T1}),aF=Symbol.for("motionComponentSymbol");function ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function lF(t,e,n){return V.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ao(n)&&(n.current=r))},[e])}const Ov=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uF="framerAppearId",C1="data-"+Ov(uF),P1=V.createContext({});function cF(t,e,n,r,i){var _,S;const{visualElement:s}=V.useContext(Gf),o=V.useContext(g1),a=V.useContext(Hf),l=V.useContext(Pv).reducedMotion,c=V.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,f=V.useContext(P1);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&hF(c.current,n,i,f);const d=V.useRef(!1);V.useInsertionEffect(()=>{h&&d.current&&h.update(n,a)});const g=n[C1],v=V.useRef(!!g&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,g))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,g)));return IP(()=>{h&&(d.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),v.current&&h.animationState&&h.animationState.animateChanges())}),V.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,g)}),v.current=!1),h.enteringChildren=void 0)}),h}function hF(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:R1(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ao(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function R1(t){if(t)return t.options.allowProjection!==!1?t.projection:R1(t.parent)}function Np(t,{forwardMotionProps:e=!1}={},n,r){n&&FL(n);const i=Vv(t)?oF:sF;function s(a,l){let c;const h={...V.useContext(Pv),...a,layoutId:fF(a)},{isStatic:f}=h,d=zL(a),g=i(a,f);if(!f&&sv){dF();const v=pF(h);c=v.MeasureLayout,d.visualElement=cF(t,g,h,r,v.ProjectionNode)}return Tr.jsxs(Gf.Provider,{value:d,children:[c&&d.visualElement?Tr.jsx(c,{visualElement:d.visualElement,...h}):null,nF(t,a,lF(g,d.visualElement,l),g,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=V.forwardRef(s);return o[aF]=t,o}function fF({layoutId:t}){const e=V.useContext(rv).id;return e&&t!==void 0?e+"-"+t:t}function dF(t,e){V.useContext(g1).strict}function pF(t){const{drag:e,layout:n}=$o;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function mF(t,e){if(typeof Proxy>"u")return Np;const n=new Map,r=(s,o)=>Np(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Np(o,void 0,t,e)),n.get(o))})}function b1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function gF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Op(t){return t===void 0||t===1}function Tg({scale:t,scaleX:e,scaleY:n}){return!Op(t)||!Op(e)||!Op(n)}function Xi(t){return Tg(t)||x1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function x1(t){return G0(t.x)||G0(t.y)}function G0(t){return t&&t!=="0%"}function Qh(t,e,n){const r=t-n,i=e*r;return n+i}function K0(t,e,n,r,i){return i!==void 0&&(t=Qh(t,i,r)),Qh(t,n,r)+e}function Ig(t,e=0,n=1,r,i){t.min=K0(t.min,e,n,r,i),t.max=K0(t.max,e,n,r,i)}function k1(t,{x:e,y:n}){Ig(t.x,e.translate,e.scale,e.originPoint),Ig(t.y,n.translate,n.scale,n.originPoint)}const Q0=.999999999999,Y0=1.0000000000001;function vF(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&uo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,k1(t,o)),r&&Xi(s.latestValues)&&uo(t,s.latestValues))}e.x<Y0&&e.x>Q0&&(e.x=1),e.y<Y0&&e.y>Q0&&(e.y=1)}function lo(t,e){t.min=t.min+e,t.max=t.max+e}function X0(t,e,n,r,i=.5){const s=De(t.min,t.max,i);Ig(t,e,n,s,r)}function uo(t,e){X0(t.x,e.x,e.scaleX,e.scale,e.originX),X0(t.y,e.y,e.scaleY,e.scale,e.originY)}function V1(t,e){return b1(yF(t.getBoundingClientRect(),e))}function _F(t,e,n){const r=V1(t,n),{scroll:i}=e;return i&&(lo(r.x,i.offset.x),lo(r.y,i.offset.y)),r}const J0=()=>({translate:0,scale:1,origin:0,originPoint:0}),co=()=>({x:J0(),y:J0()}),Z0=()=>({min:0,max:0}),qe=()=>({x:Z0(),y:Z0()}),Sg={current:null},D1={current:!1};function wF(){if(D1.current=!0,!!sv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sg.current=t.matches;t.addEventListener("change",e),e()}else Sg.current=!1}const EF=new WeakMap;function TF(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Rt(i))t.addValue(r,i);else if(Rt(s))t.addValue(r,jo(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,jo(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const eT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Kt.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,be.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Qf(n),this.isVariantNode=v1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const g=f[d];l[d]!==void 0&&Rt(g)&&g.set(l[d])}}mount(e){var n;this.current=e,EF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),D1.current||wF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ci(this.notifyUpdate),Ci(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ua.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $o){const n=$o[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<eT.length;r++){const i=eT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=TF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=jo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(SP(r)||CP(r))?r=parseFloat(r):!DL(r)&&Pi.test(n)&&(r=a1(e,n)),this.setBaseTarget(e,Rt(r)?r.get():r)),Rt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Dv(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Rt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Av.render(this.render)}}class N1 extends IF{constructor(){super(...arguments),this.KeyframeResolver=EL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function O1(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function SF(t){return window.getComputedStyle(t)}class AF extends N1{constructor(){super(...arguments),this.type="html",this.renderInstance=O1}readValueFromInstance(e,n){var r;if(ua.has(n))return(r=this.projection)!=null&&r.isProjecting?mg(n):j2(e,n);{const i=SF(e),s=(dv(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return V1(e,n)}build(e,n,r){xv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Nv(e,n,r)}}const M1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CF(t,e,n,r){O1(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(M1.has(i)?i:Ov(i),e.attrs[i])}class PF extends N1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ua.has(n)){const r=o1(n);return r&&r.default||0}return n=M1.has(n)?n:Ov(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return A1(e,n,r)}build(e,n,r){E1(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){CF(e,n,r,i)}mount(e){this.isSVGTag=I1(e.tagName),super.mount(e)}}const RF=(t,e)=>Vv(t)?new PF(e):new AF(e,{allowProjection:t!==V.Fragment});function _o(t,e,n){const r=t.getProps();return Dv(r,e,n!==void 0?n:r.custom,t)}const Ag=t=>Array.isArray(t);function bF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jo(n))}function xF(t){return Ag(t)?t[t.length-1]||0:t}function kF(t,e){const n=_o(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=xF(s[o]);bF(t,o,a)}}function VF(t){return!!(Rt(t)&&t.add)}function Cg(t,e){const n=t.getValue("willChange");if(VF(n))return n.add(e);if(!n&&xr.WillChange){const r=new xr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function L1(t){return t.props[C1]}const DF=t=>t!==null;function NF(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(DF),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const OF={type:"spring",stiffness:500,damping:25,restSpeed:10},MF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),LF={type:"keyframes",duration:.8},FF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UF=(t,{keyframes:e})=>e.length>2?LF:ua.has(t)?t.startsWith("scale")?MF(e[1]):OF:FF;function jF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const Mv=(t,e,n,r={},i,s)=>o=>{const a=Iv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-zn(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};jF(a)||Object.assign(h,UF(t,h)),h.duration&&(h.duration=zn(h.duration)),h.repeatDelay&&(h.repeatDelay=zn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(wg(h),h.delay===0&&(f=!0)),(xr.instantAnimations||xr.skipAnimations)&&(f=!0,wg(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const d=NF(h.keyframes,a);if(d!==void 0){be.update(()=>{h.onUpdate(d),h.onComplete()});return}}return a.isSync?new Ev(h):new uL(h)};function $F({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function F1(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h,t.latestValues[h]??null),d=a[h];if(d===void 0||c&&$F(c,h))continue;const g={delay:n,...Iv(s||{},h)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===v&&!g.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const w=L1(t);if(w){const y=window.MotionHandoffAnimation(w,h,be);y!==null&&(g.startTime=y,_=!0)}}Cg(t,h),f.start(Mv(h,f,d,t.shouldReduceMotion&&r1.has(h)?{type:!1}:g,t,_));const S=f.animation;S&&l.push(S)}return o&&Promise.all(l).then(()=>{be.update(()=>{o&&kF(t,o)})}),l}function U1(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Pg(t,e,n={}){var l;const r=_o(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(F1(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:d}=i;return BF(t,e,c,h,f,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,h]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function BF(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Pg(l,e,{...o,delay:n+(typeof r=="function"?0:r)+U1(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function zF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Pg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Pg(t,e,n);else{const i=typeof e=="function"?_o(t,e,n.custom):e;r=Promise.all(F1(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function j1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const qF=bv.length;function $1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qF;n++){const r=bv[n],i=t.props[r];(ql(i)||i===!1)&&(e[r]=i)}return e}const WF=[...Rv].reverse(),HF=Rv.length;function GF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>zF(t,n,r)))}function KF(t){let e=GF(t),n=tT(),r=!0;const i=l=>(c,h)=>{var d;const f=_o(t,h,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:g,transitionEnd:v,..._}=f;c={...c,..._,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,h=$1(t.parent)||{},f=[],d=new Set;let g={},v=1/0;for(let S=0;S<HF;S++){const w=WF[S],y=n[w],E=c[w]!==void 0?c[w]:h[w],b=ql(E),O=w===l?y.isActive:null;O===!1&&(v=S);let F=E===h[w]&&E!==c[w]&&b;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),y.protectedKeys={...g},!y.isActive&&O===null||!E&&!y.prevProp||Kf(E)||typeof E=="boolean")continue;const A=QF(y.prevProp,E);let T=A||w===l&&y.isActive&&!F&&b||S>v&&b,C=!1;const P=Array.isArray(E)?E:[E];let x=P.reduce(i(w),{});O===!1&&(x={});const{prevResolvedValues:D={}}=y,R={...D,...x},Vt=ve=>{T=!0,d.has(ve)&&(C=!0,d.delete(ve)),y.needsAnimating[ve]=!0;const B=t.getValue(ve);B&&(B.liveStyle=!1)};for(const ve in R){const B=x[ve],K=D[ve];if(g.hasOwnProperty(ve))continue;let J=!1;Ag(B)&&Ag(K)?J=!j1(B,K):J=B!==K,J?B!=null?Vt(ve):d.add(ve):B!==void 0&&d.has(ve)?Vt(ve):y.protectedKeys[ve]=!0}y.prevProp=E,y.prevResolvedValues=x,y.isActive&&(g={...g,...x}),r&&t.blockInitialAnimation&&(T=!1);const On=F&&A;T&&(!On||C)&&f.push(...P.map(ve=>{const B={type:w};if(typeof ve=="string"&&r&&!On&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,J=_o(K,ve);if(K.enteringChildren&&J){const{delayChildren:Ie}=J.transition||{};B.delay=U1(K.enteringChildren,t,Ie)}}return{animation:ve,options:B}}))}if(d.size){const S={};if(typeof c.initial!="boolean"){const w=_o(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(S.transition=w.transition)}d.forEach(w=>{const y=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),S[w]=y??null}),f.push({animation:S})}let _=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(d=>{var g;return(g=d.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=tT(),r=!0}}}function QF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!j1(e,t):!1}function Ki(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tT(){return{animate:Ki(!0),whileInView:Ki(),whileHover:Ki(),whileTap:Ki(),whileDrag:Ki(),whileFocus:Ki(),exit:Ki()}}class Ui{constructor(e){this.isMounted=!1,this.node=e}update(){}}class YF extends Ui{constructor(e){super(e),e.animationState||(e.animationState=KF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let XF=0;class JF extends Ui{constructor(){super(...arguments),this.id=XF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ZF={animation:{Feature:YF},exit:{Feature:JF}};function Hl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function bu(t){return{point:{x:t.pageX,y:t.pageY}}}const e4=t=>e=>Cv(e)&&t(e,bu(e));function hl(t,e,n,r){return Hl(t,e,e4(n),r)}const B1=1e-4,t4=1-B1,n4=1+B1,z1=.01,r4=0-z1,i4=0+z1;function Mt(t){return t.max-t.min}function s4(t,e,n){return Math.abs(t-e)<=n}function nT(t,e,n,r=.5){t.origin=r,t.originPoint=De(e.min,e.max,t.origin),t.scale=Mt(n)/Mt(e),t.translate=De(n.min,n.max,t.origin)-t.originPoint,(t.scale>=t4&&t.scale<=n4||isNaN(t.scale))&&(t.scale=1),(t.translate>=r4&&t.translate<=i4||isNaN(t.translate))&&(t.translate=0)}function fl(t,e,n,r){nT(t.x,e.x,n.x,r?r.originX:void 0),nT(t.y,e.y,n.y,r?r.originY:void 0)}function rT(t,e,n){t.min=n.min+e.min,t.max=t.min+Mt(e)}function o4(t,e,n){rT(t.x,e.x,n.x),rT(t.y,e.y,n.y)}function iT(t,e,n){t.min=e.min-n.min,t.max=t.min+Mt(e)}function dl(t,e,n){iT(t.x,e.x,n.x),iT(t.y,e.y,n.y)}function hn(t){return[t("x"),t("y")]}const q1=({current:t})=>t?t.ownerDocument.defaultView:null,sT=(t,e)=>Math.abs(t-e);function a4(t,e){const n=sT(t.x,e.x),r=sT(t.y,e.y);return Math.sqrt(n**2+r**2)}class W1{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Lp(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=a4(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:_}=d,{timestamp:S}=ft;this.history.push({..._,timestamp:S});const{onStart:w,onMove:y}=this.handlers;g||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,g)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Mp(g,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(d,g)=>{this.end();const{onEnd:v,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Lp(d.type==="pointercancel"?this.lastMoveEventInfo:Mp(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(d,w),_&&_(d,w)},!Cv(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=bu(e),l=Mp(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=ft;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,Lp(l,this.history)),this.removeListeners=Cu(hl(this.contextWindow,"pointermove",this.handlePointerMove),hl(this.contextWindow,"pointerup",this.handlePointerUp),hl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ci(this.updatePoint)}}function Mp(t,e){return e?{point:e(t.point)}:t}function oT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lp({point:t},e){return{point:t,delta:oT(t,H1(e)),offset:oT(t,l4(e)),velocity:u4(e,.1)}}function l4(t){return t[0]}function H1(t){return t[t.length-1]}function u4(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=H1(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>zn(e)));)n--;if(!r)return{x:0,y:0};const s=qn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function c4(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?De(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?De(n,t,r.max):Math.min(t,n)),t}function aT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function h4(t,{top:e,left:n,bottom:r,right:i}){return{x:aT(t.x,n,i),y:aT(t.y,e,r)}}function lT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function f4(t,e){return{x:lT(t.x,e.x),y:lT(t.y,e.y)}}function d4(t,e){let n=.5;const r=Mt(t),i=Mt(e);return i>r?n=$l(e.min,e.max-r,t.min):r>i&&(n=$l(t.min,t.max-i,e.min)),br(0,1,n)}function p4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Rg=.35;function m4(t=Rg){return t===!1?t=0:t===!0&&(t=Rg),{x:uT(t,"left","right"),y:uT(t,"top","bottom")}}function uT(t,e,n){return{min:cT(t,e),max:cT(t,n)}}function cT(t,e){return typeof t=="number"?t:t[e]||0}const g4=new WeakMap;class y4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bu(f).point)},o=(f,d)=>{const{drag:g,dragPropagation:v,onDragStart:_}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AL(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(w=>{let y=this.getAxisMotionValue(w).get()||0;if(Wn.test(y)){const{projection:E}=this.visualElement;if(E&&E.layout){const b=E.layout.layoutBox[w];b&&(y=Mt(b)*(parseFloat(y)/100))}}this.originPoint[w]=y}),_&&be.postRender(()=>_(f,d)),Cg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:_,onDrag:S}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=d;if(v&&this.currentDirection===null){this.currentDirection=v4(w),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),S&&S(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>hn(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new W1(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:q1(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&be.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Vc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=c4(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&ao(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=h4(r.layoutBox,e):this.constraints=!1,this.elastic=m4(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=p4(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ao(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_F(r,i.root,this.visualElement.getTransformPagePoint());let o=f4(i.layout.layoutBox,s);if(n){const a=n(gF(o));this.hasMutatedConstraints=!!a,a&&(o=b1(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=hn(h=>{if(!Vc(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const d=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:d,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Cg(this.visualElement,e),r.start(Mv(e,r,0,n,this.visualElement,!1))}stopAnimation(){hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hn(n=>{const{drag:r}=this.getProps();if(!Vc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-De(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ao(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=d4({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hn(o=>{if(!Vc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(De(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;g4.set(this.visualElement,this);const e=this.visualElement.current,n=hl(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ao(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),be.read(r);const o=Hl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(hn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Rg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Vc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function v4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _4 extends Ui{constructor(e){super(e),this.removeGroupControls=vn,this.removeListeners=vn,this.controls=new y4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const hT=t=>(e,n)=>{t&&be.postRender(()=>t(e,n))};class w4 extends Ui{constructor(){super(...arguments),this.removePointerDownListener=vn}onPointerDown(e){this.session=new W1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:hT(e),onStart:hT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&be.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=hl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const za={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=fT(t,e.target.x),r=fT(t,e.target.y);return`${n}% ${r}%`}},E4={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Pi.parse(t);if(i.length>5)return r;const s=Pi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=De(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let Fp=!1;class T4 extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;qL(I4),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Fp&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Fp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Av.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Fp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function G1(t){const[e,n]=p1(),r=V.useContext(rv);return Tr.jsx(T4,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(P1),isPresent:e,safeToRemove:n})}const I4={borderRadius:{...za,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:za,borderTopRightRadius:za,borderBottomLeftRadius:za,borderBottomRightRadius:za,boxShadow:E4};function S4(t,e,n){const r=Rt(t)?t:jo(t);return r.start(Mv("",r,e,n)),r.animation}const A4=(t,e)=>t.depth-e.depth;class C4{constructor(){this.children=[],this.isDirty=!1}add(e){ov(this.children,e),this.isDirty=!0}remove(e){av(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A4),this.isDirty=!1,this.children.forEach(e)}}function P4(t,e){const n=Kt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ci(r),t(s-e))};return be.setup(r,!0),()=>Ci(r)}const K1=["TopLeft","TopRight","BottomLeft","BottomRight"],R4=K1.length,dT=t=>typeof t=="string"?parseFloat(t):t,pT=t=>typeof t=="number"||Z.test(t);function b4(t,e,n,r,i,s){i?(t.opacity=De(0,n.opacity??1,x4(r)),t.opacityExit=De(e.opacity??1,0,k4(r))):s&&(t.opacity=De(e.opacity??1,n.opacity??1,r));for(let o=0;o<R4;o++){const a=`border${K1[o]}Radius`;let l=mT(e,a),c=mT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pT(l)===pT(c)?(t[a]=Math.max(De(dT(l),dT(c),r),0),(Wn.test(c)||Wn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=De(e.rotate||0,n.rotate||0,r))}function mT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const x4=Q1(0,.5,NP),k4=Q1(.5,.95,vn);function Q1(t,e,n){return r=>r<t?0:r>e?1:n($l(t,e,r))}function gT(t,e){t.min=e.min,t.max=e.max}function cn(t,e){gT(t.x,e.x),gT(t.y,e.y)}function yT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vT(t,e,n,r,i){return t-=e,t=Qh(t,1/n,r),i!==void 0&&(t=Qh(t,1/i,r)),t}function V4(t,e=0,n=1,r=.5,i,s=t,o=t){if(Wn.test(e)&&(e=parseFloat(e),e=De(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=De(s.min,s.max,r);t===s&&(a-=e),t.min=vT(t.min,e,n,a,i),t.max=vT(t.max,e,n,a,i)}function _T(t,e,[n,r,i],s,o){V4(t,e[n],e[r],e[i],e.scale,s,o)}const D4=["x","scaleX","originX"],N4=["y","scaleY","originY"];function wT(t,e,n,r){_T(t.x,e,D4,n?n.x:void 0,r?r.x:void 0),_T(t.y,e,N4,n?n.y:void 0,r?r.y:void 0)}function ET(t){return t.translate===0&&t.scale===1}function Y1(t){return ET(t.x)&&ET(t.y)}function TT(t,e){return t.min===e.min&&t.max===e.max}function O4(t,e){return TT(t.x,e.x)&&TT(t.y,e.y)}function IT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function X1(t,e){return IT(t.x,e.x)&&IT(t.y,e.y)}function ST(t){return Mt(t.x)/Mt(t.y)}function AT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class M4{constructor(){this.members=[]}add(e){ov(this.members,e),e.scheduleRender()}remove(e){if(av(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function L4(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:d,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Up=["","X","Y","Z"],F4=1e3;let U4=0;function jp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function J1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=L1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",be,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&J1(r)}function Z1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=U4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(B4),this.nodes.forEach(H4),this.nodes.forEach(G4),this.nodes.forEach(z4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new C4)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=d1(o)&&!kL(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,f=0;const d=()=>this.root.updateBlockedByResize=!1;be.read(()=>{f=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,h&&h(),h=P4(d,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(RT)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||J4,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=c.getProps(),w=!this.targetLayout||!X1(this.targetLayout,g),y=!f&&d;if(this.options.layoutRoot||this.resumeFrom||y||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Iv(v,"layout"),onPlay:_,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,y)}else f||RT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(PT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(W4),this.nodes.forEach(j4),this.nodes.forEach($4)):this.nodes.forEach(PT),this.clearAllSnapshots();const a=Kt.now();ft.delta=br(0,1e3/60,a-ft.timestamp),ft.timestamp=a,ft.isProcessing=!0,Rp.update.process(ft),Rp.preRender.process(ft),Rp.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Av.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q4),this.sharedNodes.forEach(Q4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mt(this.snapshot.measuredBox.x)&&!Mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Y1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Xi(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Z4(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return qe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(e3))){const{scroll:h}=this.root;h&&(lo(a.x,h.offset.x),lo(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=qe();if(cn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:d}=h;h!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&cn(a,o),lo(a.x,f.offset.x),lo(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=qe();cn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&uo(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Xi(h.latestValues)&&uo(l,h.latestValues)}return Xi(this.latestValues)&&uo(l,this.latestValues),l}removeTransform(o){const a=qe();cn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Xi(c.latestValues))continue;Tg(c.latestValues)&&c.updateSnapshot();const h=qe(),f=c.measurePageBox();cn(h,f),wT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Xi(this.latestValues)&&wT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var d;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),dl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),k1(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),dl(this.relativeTargetOrigin,this.target,g.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tg(this.parent.latestValues)||x1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;cn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;vF(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=qe());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yT(this.prevProjectionDelta.x,this.projectionDelta.x),yT(this.prevProjectionDelta.y,this.projectionDelta.y)),fl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!AT(this.projectionDelta.x,this.prevProjectionDelta.x)||!AT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=co(),this.projectionDelta=co(),this.projectionDeltaWithTransform=co()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=qe(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=g!==v,S=this.getStack(),w=!S||S.members.length<=1,y=!!(_&&!w&&this.options.crossfade===!0&&!this.path.some(X4));this.animationProgress=0;let E;this.mixTargetDelta=b=>{const O=b/1e3;bT(f.x,o.x,O),bT(f.y,o.y,O),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dl(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Y4(this.relativeTarget,this.relativeTargetOrigin,d,O),E&&O4(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=qe()),cn(E,this.relativeTarget)),_&&(this.animationValues=h,b4(h,c,this.latestValues,O,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{rh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jo(0)),this.currentAnimation=S4(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(F4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&eR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||qe();const f=Mt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=Mt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}cn(a,l),uo(a,h),fl(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new M4),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&jp("z",o,c,this.animationValues);for(let h=0;h<Up.length;h++)jp(`rotate${Up[h]}`,o,c,this.animationValues),jp(`skew${Up[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=nh(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=nh(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Xi(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=L4(this.projectionDeltaWithTransform,this.treeScale,h);l&&(f=l(h,f)),o.transform=f;const{x:d,y:g}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${g.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Wl){if(h[v]===void 0)continue;const{correct:_,applyTo:S,isCSSVariable:w}=Wl[v],y=f==="none"?h[v]:_(h[v],c);if(S){const E=S.length;for(let b=0;b<E;b++)o[S[b]]=y}else w?this.options.visualElement.renderState.vars[v]=y:o[v]=y}this.options.layoutId&&(o.pointerEvents=c===this?nh(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(CT),this.root.sharedNodes.clear()}}}function j4(t){t.updateLayout()}function $4(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?hn(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],g=Mt(d);d.min=r[f].min,d.max=d.min+g}):eR(s,e.layoutBox,r)&&hn(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],g=Mt(r[f]);d.max=d.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=co();fl(a,r,e.layoutBox);const l=co();o?fl(l,t.applyTransform(i,!0),e.measuredBox):fl(l,r,e.layoutBox);const c=!Y1(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:g}=f;if(d&&g){const v=qe();dl(v,e.layoutBox,d.layoutBox);const _=qe();dl(_,r,g.layoutBox),X1(v,_)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function B4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function z4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q4(t){t.clearSnapshot()}function CT(t){t.clearMeasurements()}function PT(t){t.isLayoutDirty=!1}function W4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function RT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H4(t){t.resolveTargetDelta()}function G4(t){t.calcProjection()}function K4(t){t.resetSkewAndRotation()}function Q4(t){t.removeLeadSnapshot()}function bT(t,e,n){t.translate=De(e.translate,0,n),t.scale=De(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xT(t,e,n,r){t.min=De(e.min,n.min,r),t.max=De(e.max,n.max,r)}function Y4(t,e,n,r){xT(t.x,e.x,n.x,r),xT(t.y,e.y,n.y,r)}function X4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const J4={duration:.45,ease:[.4,0,.1,1]},kT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),VT=kT("applewebkit/")&&!kT("chrome/")?Math.round:vn;function DT(t){t.min=VT(t.min),t.max=VT(t.max)}function Z4(t){DT(t.x),DT(t.y)}function eR(t,e,n){return t==="position"||t==="preserve-aspect"&&!s4(ST(e),ST(n),.2)}function e3(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const t3=Z1({attachResizeListener:(t,e)=>Hl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$p={current:void 0},tR=Z1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$p.current){const t=new t3({});t.mount(window),t.setOptions({layoutScroll:!0}),$p.current=t}return $p.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),n3={pan:{Feature:w4},drag:{Feature:_4,ProjectionNode:tR,MeasureLayout:G1}};function NT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&be.postRender(()=>s(e,bu(e)))}class r3 extends Ui{mount(){const{current:e}=this.node;e&&(this.unmount=CL(e,(n,r)=>(NT(this.node,r,"Start"),i=>NT(this.node,i,"End"))))}unmount(){}}class i3 extends Ui{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cu(Hl(this.node.current,"focus",()=>this.onFocus()),Hl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function OT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&be.postRender(()=>s(e,bu(e)))}class s3 extends Ui{mount(){const{current:e}=this.node;e&&(this.unmount=xL(e,(n,r)=>(OT(this.node,r,"Start"),(i,{success:s})=>OT(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bg=new WeakMap,Bp=new WeakMap,o3=t=>{const e=bg.get(t.target);e&&e(t)},a3=t=>{t.forEach(o3)};function l3({root:t,...e}){const n=t||document;Bp.has(n)||Bp.set(n,{});const r=Bp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(a3,{root:t,...e})),r[i]}function u3(t,e,n){const r=l3(e);return bg.set(t,n),r.observe(t),()=>{bg.delete(t),r.unobserve(t)}}const c3={some:0,all:1};class h3 extends Ui{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:c3[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),d=c?h:f;d&&d(l)};return u3(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(f3(e,n))&&this.startObserver()}unmount(){}}function f3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const d3={inView:{Feature:h3},tap:{Feature:s3},focus:{Feature:i3},hover:{Feature:r3}},p3={layout:{ProjectionNode:tR,MeasureLayout:G1}},m3={...ZF,...d3,...n3,...p3},mr=mF(m3,RF),g3="/gallery/logo.png?text=Local+Effort&font=mono",MT=[{path:"/services",name:"Services"},{path:"/pricing",name:"Pricing"},{path:"/menu",name:"Menus"},{path:"/about",name:"About"},{path:"/gallery",name:"Gallery"}],LT=!1,y3=()=>{const[t,e]=V.useState(!1);return V.useEffect(()=>(document.body.style.overflow=t?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[t]),M.createElement("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60 border-b border-neutral-200"},M.createElement("div",{className:"mx-auto max-w-6xl px-4 md:px-6 lg:px-8 h-16 flex items-center justify-between"},M.createElement(Pp,{to:"/",onClick:()=>e(!1),className:"flex items-center gap-2"},M.createElement(mr.img,{src:g3,alt:"Local Effort Logo",className:"h-9 w-auto",whileHover:{scale:1.03},transition:{type:"spring",stiffness:300,damping:20}})),M.createElement("nav",{className:"hidden md:flex items-center gap-2 font-mono text-[0.9rem]"},MT.map(({path:n,name:r})=>M.createElement(Pp,{key:n,to:n,className:"relative px-2 py-1 rounded"},({isActive:i})=>M.createElement(M.Fragment,null,M.createElement("span",{className:"transition-colors hover:text-neutral-900 text-neutral-700"},r),M.createElement(mr.span,{layoutId:"nav-underline",className:"absolute left-2 right-2 -bottom-0.5 h-0.5 bg-[var(--color-accent)]",initial:!1,animate:{opacity:i?1:0},transition:{duration:.2}})))),LT),M.createElement("button",{onClick:()=>e(n=>!n),className:"md:hidden z-50 w-9 h-7 flex flex-col justify-between","aria-label":"Toggle menu"},M.createElement("span",{className:`block h-0.5 w-full bg-black transition-transform ${t?"rotate-45 translate-y-[10px]":""}`}),M.createElement("span",{className:`block h-0.5 w-full bg-black transition-opacity ${t?"opacity-0":"opacity-100"}`}),M.createElement("span",{className:`block h-0.5 w-full bg-black transition-transform ${t?"-rotate-45 -translate-y-[10px]":""}`}))),M.createElement(m1,null,t&&M.createElement(mr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"md:hidden fixed inset-0 bg-neutral-50"},M.createElement(mr.nav,{initial:"hidden",animate:"show",exit:"hidden",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08,delayChildren:.12}}},className:"flex flex-col items-center justify-center h-full space-y-6 font-mono"},MT.map(n=>M.createElement(mr.div,{key:n.path,variants:{hidden:{y:10,opacity:0},show:{y:0,opacity:1}}},M.createElement(Pp,{to:n.path,onClick:()=>e(!1),className:"text-3xl uppercase"},n.name))),LT))))},v3=()=>M.createElement("footer",{className:"mt-16 border-t border-neutral-200"},M.createElement("div",{className:"mx-auto max-w-6xl px-4 md:px-6 lg:px-8 py-8 font-mono text-sm text-neutral-700"},M.createElement("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},M.createElement("div",null,M.createElement("p",null," ",new Date().getFullYear()," Local Effort"),M.createElement("p",{className:"text-neutral-500"},"Roseville, MN  Midwest")),M.createElement("div",{className:"flex gap-4"},M.createElement("a",{href:"https://instagram.com/localeffort",className:"underline underline-offset-4 hover:opacity-80"},"Instagram"),M.createElement("a",{href:"https://facebook.com/localeffort",className:"underline underline-offset-4 hover:opacity-80"},"Facebook"),M.createElement("a",{href:"https://www.thumbtack.com/mn/saint-paul/personal-chefs/weston-smith/service/429294230165643268",className:"underline underline-offset-4 hover:opacity-80"},"Thumbtack"),M.createElement("a",{href:"/partner-portal",className:"underline underline-offset-4 hover:opacity-80"},"Partner Portal"))))),nR=()=>M.createElement(mr.div,{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-red-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},M.createElement("div",{className:"text-center"},M.createElement(mr.div,{className:"w-16 h-16 mx-auto mb-4 border-4 border-orange-200 border-t-orange-500 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),M.createElement(mr.p,{className:"text-gray-600 font-medium",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2}},"Preparing something delicious..."))),l7=Object.freeze(Object.defineProperty({__proto__:null,LoadingSpinner:nR},Symbol.toStringTag,{value:"Module"})),_3={initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.4,0,.2,1],staggerChildren:.1}},exit:{opacity:0,y:-20,scale:.98,transition:{duration:.4,ease:[.4,0,.2,1]}}},u7={initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.4,0,.2,1]}},c7={initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.4,0,.2,1]}},h7={whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:25}},it=({children:t})=>M.createElement(mr.div,{variants:_3,initial:"initial",animate:"animate",exit:"exit",className:"optimize-rendering"},t),rR=!(typeof navigator>"u")&&navigator.product==="ReactNative",iR={timeout:rR?6e4:12e4},w3=function(t){const e={...iR,...typeof t=="string"?{url:t}:t};if(e.timeout=sR(e.timeout),e.query){const{url:n,searchParams:r}=function(i){const s=i.indexOf("?");if(s===-1)return{url:i,searchParams:new URLSearchParams};const o=i.slice(0,s),a=i.slice(s+1);if(!rR)return{url:o,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const l=new URLSearchParams;for(const c of a.split("&")){const[h,f]=c.split("=");h&&l.append(FT(h),FT(f||""))}return{url:o,searchParams:l}}(e.url);for(const[i,s]of Object.entries(e.query)){if(s!==void 0)if(Array.isArray(s))for(const a of s)r.append(i,a);else r.append(i,s);const o=r.toString();o&&(e.url=`${n}?${o}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function FT(t){return decodeURIComponent(t.replace(/\+/g," "))}function sR(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?sR(iR.timeout):{connect:e,socket:e}}const E3=/^https?:\/\//i,T3=function(t){if(!E3.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function oR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const I3=["request","response","progress","error","abort"],UT=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function aR(t,e){const n=[],r=UT.reduce((s,o)=>(s[o]=s[o]||[],s),{processOptions:[w3],validateOptions:[T3]});function i(s){const o=I3.reduce((g,v)=>(g[v]=function(){const _=Object.create(null);let S=0;return{publish:function(w){for(const y in _)_[y](w)},subscribe:function(w){const y=S++;return _[y]=w,function(){delete _[y]}}}}(),g),{}),a=(g=>function(v,_,...S){const w=v==="onError";let y=_;for(let E=0;E<g[v].length&&(y=(0,g[v][E])(y,...S),!w||y);E++);return y})(r),l=a("processOptions",s);a("validateOptions",l);const c={options:l,channels:o,applyMiddleware:a};let h;const f=o.request.subscribe(g=>{h=e(g,(v,_)=>((S,w,y)=>{let E=S,b=w;if(!E)try{b=a("onResponse",w,y)}catch(O){b=null,E=O}E=E&&a("onError",E,y),E?o.error.publish(E):b&&o.response.publish(b)})(v,_,g))});o.abort.subscribe(()=>{f(),h&&h.abort()});const d=a("onReturn",o,c);return d===o&&o.request.publish(c),d}return i.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return UT.forEach(o=>{s[o]&&r[o].push(s[o])}),n.push(s),i},i.clone=()=>aR(n,e),t.forEach(i.use),i}var jT,$T,S3=oR(function(){if($T)return jT;$T=1;var t=function(n){return n.replace(/^\s+|\s+$/g,"")},e=function(n){return Object.prototype.toString.call(n)==="[object Array]"};return jT=function(n){if(!n)return{};for(var r=Object.create(null),i=t(n).split(`
`),s=0;s<i.length;s++){var o=i[s],a=o.indexOf(":"),l=t(o.slice(0,a)).toLowerCase(),c=t(o.slice(a+1));typeof r[l]>"u"?r[l]=c:e(r[l])?r[l].push(c):r[l]=[r[l],c]}return r}}()),ru,iu,Co,su,ur,ou,au,HS;let xg=(HS=class{constructor(){Q(this,"onabort");Q(this,"onerror");Q(this,"onreadystatechange");Q(this,"ontimeout");Q(this,"readyState",0);Q(this,"response");Q(this,"responseText","");Q(this,"responseType","");Q(this,"status");Q(this,"statusText");Q(this,"withCredentials");ne(this,ru);ne(this,iu);ne(this,Co);ne(this,su,{});ne(this,ur);ne(this,ou,{});ne(this,au)}open(e,n,r){var i;te(this,ru,e),te(this,iu,n),te(this,Co,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),te(this,ur,void 0)}abort(){k(this,ur)&&k(this,ur).abort()}getAllResponseHeaders(){return k(this,Co)}setRequestHeader(e,n){k(this,su)[e]=n}setInit(e,n=!0){te(this,ou,e),te(this,au,n)}send(e){const n=this.responseType!=="arraybuffer",r={...k(this,ou),method:k(this,ru),headers:k(this,su),body:e};typeof AbortController=="function"&&k(this,au)&&(te(this,ur,new AbortController),typeof EventTarget<"u"&&k(this,ur).signal instanceof EventTarget&&(r.signal=k(this,ur).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(k(this,iu),r).then(i=>{var s;return i.headers.forEach((o,a)=>{te(this,Co,k(this,Co)+`${a}: ${o}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(s=this.onreadystatechange)==null||s.call(this),n?i.text():i.arrayBuffer()}).then(i=>{var s;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(s=this.onreadystatechange)==null||s.call(this)}).catch(i=>{var s,o;i.name!=="AbortError"?(s=this.onerror)==null||s.call(this,i):(o=this.onabort)==null||o.call(this)})}},ru=new WeakMap,iu=new WeakMap,Co=new WeakMap,su=new WeakMap,ur=new WeakMap,ou=new WeakMap,au=new WeakMap,HS);const kg=typeof XMLHttpRequest=="function"?"xhr":"fetch",A3=kg==="xhr"?XMLHttpRequest:xg,C3=(t,e)=>{const n=t.options,r=t.applyMiddleware("finalizeOptions",n),i={},s=t.applyMiddleware("interceptRequest",void 0,{adapter:kg,context:t});if(s){const _=setTimeout(e,0,null,s);return{abort:()=>clearTimeout(_)}}let o=new A3;o instanceof xg&&typeof r.fetch=="object"&&o.setInit(r.fetch,r.useAbortSignal??!0);const a=r.headers,l=r.timeout;let c=!1,h=!1,f=!1;if(o.onerror=_=>{v(o instanceof xg?_ instanceof Error?_:new Error(`Request error while attempting to reach is ${r.url}`,{cause:_}):new Error(`Request error while attempting to reach is ${r.url}${_.lengthComputable?`(${_.loaded} of ${_.total} bytes transferred)`:""}`))},o.ontimeout=_=>{v(new Error(`Request timeout while attempting to reach ${r.url}${_.lengthComputable?`(${_.loaded} of ${_.total} bytes transferred)`:""}`))},o.onabort=()=>{g(!0),c=!0},o.onreadystatechange=function(){l&&(g(),i.socket=setTimeout(()=>d("ESOCKETTIMEDOUT"),l.socket)),!c&&o&&o.readyState===4&&o.status!==0&&function(){if(!(c||h||f)){if(o.status===0)return void v(new Error("Unknown XHR error"));g(),h=!0,e(null,{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:r.url,method:r.method,headers:S3(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}}()},o.open(r.method,r.url,!0),o.withCredentials=!!r.withCredentials,a&&o.setRequestHeader)for(const _ in a)a.hasOwnProperty(_)&&o.setRequestHeader(_,a[_]);return r.rawBody&&(o.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:r,adapter:kg,request:o,context:t}),o.send(r.body||null),l&&(i.connect=setTimeout(()=>d("ETIMEDOUT"),l.connect)),{abort:function(){c=!0,o&&o.abort()}};function d(_){f=!0,o.abort();const S=new Error(_==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);S.code=_,t.channels.error.publish(S)}function g(_){(_||c||o&&o.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function v(_){if(h)return;g(!0),h=!0,o=null;const S=_||new Error(`Network error while attempting to reach ${r.url}`);S.isNetworkError=!0,S.request=r,e(S)}},P3=(t=[],e=C3)=>aR(t,e);var R3={},BT,zT,qT,WT,HT,zp={exports:{}};HT||(HT=1,function(t,e){e.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let s=0,o=0;r[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(s++,a==="%c"&&(o=s))}),r.splice(o,0,i)},e.save=function(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}},e.load=function(){let r;try{r=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=R3.DEBUG),r},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=(WT?qT:(WT=1,qT=function(r){function i(a){let l,c,h,f=null;function d(...g){if(!d.enabled)return;const v=d,_=Number(new Date),S=_-(l||_);v.diff=S,v.prev=l,v.curr=_,l=_,g[0]=i.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let w=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(y,E)=>{if(y==="%%")return"%";w++;const b=i.formatters[E];if(typeof b=="function"){const O=g[w];y=b.call(v,O),g.splice(w,1),w--}return y}),i.formatArgs.call(v,g),(v.log||i.log).apply(v,g)}return d.namespace=a,d.useColors=i.useColors(),d.color=i.selectColor(a),d.extend=s,d.destroy=i.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(c!==i.namespaces&&(c=i.namespaces,h=i.enabled(a)),h),set:g=>{f=g}}),typeof i.init=="function"&&i.init(d),d}function s(a,l){const c=i(this.namespace+(typeof l>"u"?":":l)+a);return c.log=this.log,c}function o(a,l){let c=0,h=0,f=-1,d=0;for(;c<a.length;)if(h<l.length&&(l[h]===a[c]||l[h]==="*"))l[h]==="*"?(f=h,d=c,h++):(c++,h++);else{if(f===-1)return!1;h=f+1,d++,c=d}for(;h<l.length&&l[h]==="*";)h++;return h===l.length}return i.debug=i,i.default=i,i.coerce=function(a){return a instanceof Error?a.stack||a.message:a},i.disable=function(){const a=[...i.names,...i.skips.map(l=>"-"+l)].join(",");return i.enable(""),a},i.enable=function(a){i.save(a),i.namespaces=a,i.names=[],i.skips=[];const l=(typeof a=="string"?a:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const c of l)c[0]==="-"?i.skips.push(c.slice(1)):i.names.push(c)},i.enabled=function(a){for(const l of i.skips)if(o(a,l))return!1;for(const l of i.names)if(o(a,l))return!0;return!1},i.humanize=function(){if(zT)return BT;zT=1;var a=1e3,l=60*a,c=60*l,h=24*c,f=7*h;function d(g,v,_,S){var w=v>=1.5*_;return Math.round(g/_)+" "+S+(w?"s":"")}return BT=function(g,v){v=v||{};var _,S,w=typeof g;if(w==="string"&&g.length>0)return function(y){if(!((y=String(y)).length>100)){var E=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(E){var b=parseFloat(E[1]);switch((E[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*b;case"weeks":case"week":case"w":return b*f;case"days":case"day":case"d":return b*h;case"hours":case"hour":case"hrs":case"hr":case"h":return b*c;case"minutes":case"minute":case"mins":case"min":case"m":return b*l;case"seconds":case"second":case"secs":case"sec":case"s":return b*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}(g);if(w==="number"&&isFinite(g))return v.long?(_=g,(S=Math.abs(_))>=h?d(_,S,h,"day"):S>=c?d(_,S,c,"hour"):S>=l?d(_,S,l,"minute"):S>=a?d(_,S,a,"second"):_+" ms"):function(y){var E=Math.abs(y);return E>=h?Math.round(y/h)+"d":E>=c?Math.round(y/c)+"h":E>=l?Math.round(y/l)+"m":E>=a?Math.round(y/a)+"s":y+"ms"}(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(a=>{i[a]=r[a]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(a){let l=0;for(let c=0;c<a.length;c++)l=(l<<5)-l+a.charCodeAt(c),l|=0;return i.colors[Math.abs(l)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:n}=t.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(zp,zp.exports)),zp.exports;const b3=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function GT(t){return Object.prototype.toString.call(t)==="[object Object]"}function x3(t){if(GT(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(GT(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}const k3=["boolean","string","number"];function V3(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||b3(e)||k3.indexOf(typeof e)===-1&&!Array.isArray(e)&&!x3(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function D3(t){return{onResponse:n=>{const r=n.headers["content-type"]||"",i=t&&t.force||r.indexOf("application/json")!==-1;return n.body&&r&&i?Object.assign({},n,{body:e(n.body)}):n},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function e(n){try{return JSON.parse(n)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let Qa={};typeof globalThis<"u"?Qa=globalThis:typeof window<"u"?Qa=window:typeof global<"u"?Qa=global:typeof self<"u"&&(Qa=self);var N3=Qa;function O3(t={}){const e=t.implementation||N3.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new e(i=>(n.error.subscribe(s=>i.error(s)),n.progress.subscribe(s=>i.next(Object.assign({type:"progress"},s))),n.response.subscribe(s=>{i.next(Object.assign({type:"response"},s)),i.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function M3(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,n=t.context;function r(i){return s=>{const o=s.lengthComputable?s.loaded/s.total*100:-1;n.channels.progress.publish({stage:i,percent:o,total:s.total,loaded:s.loaded,lengthComputable:s.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"))}}}var lR=(t,e,n)=>(n.method==="GET"||n.method==="HEAD")&&(t.isNetworkError||!1);function L3(t){return 100*Math.pow(2,t)+100*Math.random()}const Lv=(t={})=>(e=>{const n=e.maxRetries||5,r=e.retryDelay||L3,i=e.shouldRetry;return{onError:(s,o)=>{const a=o.options,l=a.maxRetries||n,c=a.retryDelay||r,h=a.shouldRetry||i,f=a.attemptNumber||0;if((d=a.body)!==null&&typeof d=="object"&&typeof d.pipe=="function"||!h(s,f,a)||f>=l)return s;var d;const g=Object.assign({},o,{options:Object.assign({},a,{attemptNumber:f+1})});return setTimeout(()=>o.channels.request.publish(g),c(f)),null}}})({shouldRetry:lR,...t});Lv.shouldRetry=lR;var Vg=function(t,e){return Vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vg(t,e)};function Ur(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function F3(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function uR(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Bo(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kr(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Vr(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function wo(t){return this instanceof wo?(this.v=t,this):new wo(t)}function U3(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(v){return Promise.resolve(v).then(g,f)}}function a(g,v){r[g]&&(i[g]=function(_){return new Promise(function(S,w){s.push([g,_,S,w])>1||l(g,_)})},v&&(i[g]=v(i[g])))}function l(g,v){try{c(r[g](v))}catch(_){d(s[0][3],_)}}function c(g){g.value instanceof wo?Promise.resolve(g.value.v).then(h,f):d(s[0][2],g)}function h(g){l("next",g)}function f(g){l("throw",g)}function d(g,v){g(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function j3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Bo=="function"?Bo(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function xe(t){return typeof t=="function"}function Fv(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var qp=Fv(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Yh(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xu=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Bo(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(_){e={error:_}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var h=this.initialTeardown;if(xe(h))try{h()}catch(_){s=_ instanceof qp?_.errors:[_]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=Bo(f),g=d.next();!g.done;g=d.next()){var v=g.value;try{KT(v)}catch(_){s=s??[],_ instanceof qp?s=Vr(Vr([],kr(s)),kr(_.errors)):s.push(_)}}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new qp(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)KT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Yh(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Yh(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),cR=xu.EMPTY;function hR(t){return t instanceof xu||t&&"closed"in t&&xe(t.remove)&&xe(t.add)&&xe(t.unsubscribe)}function KT(t){xe(t)?t():t.unsubscribe()}var $3={Promise:void 0},B3={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Vr([t,e],kr(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function fR(t){B3.setTimeout(function(){throw t})}function QT(){}function ih(t){t()}var Uv=function(t){Ur(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,hR(n)&&n.add(r)):r.destination=W3,r}return e.create=function(n,r,i){return new zo(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(xu),z3=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Dc(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Dc(r)}else Dc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Dc(n)}},t}(),zo=function(t){Ur(e,t);function e(n,r,i){var s=t.call(this)||this,o;return xe(n)||!n?o={next:n??void 0,error:r??void 0,complete:i??void 0}:o=n,s.destination=new z3(o),s}return e}(Uv);function Dc(t){fR(t)}function q3(t){throw t}var W3={closed:!0,next:QT,error:q3,complete:QT},jv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Yf(t){return t}function H3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dR(t)}function dR(t){return t.length===0?Yf:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Be=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=K3(e)?e:new zo(e,n,r);return ih(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=YT(n),new n(function(i,s){var o=new zo({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[jv]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return dR(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=YT(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function YT(t){var e;return(e=t??$3.Promise)!==null&&e!==void 0?e:Promise}function G3(t){return t&&xe(t.next)&&xe(t.error)&&xe(t.complete)}function K3(t){return t&&t instanceof Uv||G3(t)&&hR(t)}function Q3(t){return xe(t==null?void 0:t.lift)}function Zn(t){return function(e){if(Q3(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ri(t,e,n,r,i){return new Y3(t,e,n,r,i)}var Y3=function(t){Ur(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(c){try{r(c)}catch(h){n.error(h)}}:t.prototype._next,l._error=s?function(c){try{s(c)}catch(h){n.error(h)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Uv),X3=Fv(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),$v=function(t){Ur(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new XT(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new X3},e.prototype.next=function(n){var r=this;ih(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Bo(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;ih(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;ih(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?cR:(this.currentObservers=null,a.push(n),new xu(function(){r.currentObservers=null,Yh(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new Be;return n.source=this,n},e.create=function(n,r){return new XT(n,r)},e}(Be),XT=function(t){Ur(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:cR},e}($v),Bv={now:function(){return(Bv.delegate||Date).now()},delegate:void 0},J3=function(t){Ur(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Bv);var s=t.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+l)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),l=0;l<a.length&&!n.closed;l+=s?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=i.now(),c=0,h=1;h<s.length&&s[h]<=l;h+=2)c=h;c&&s.splice(0,c+1)}},e}($v),Z3=function(t){Ur(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(xu),JT={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Vr([t,e],kr(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},eU=function(t){Ur(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),JT.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&JT.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Yh(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Z3),ZT=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=Bv.now,t}(),tU=function(t){Ur(e,t);function e(n,r){r===void 0&&(r=ZT.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(ZT),nU=new tU(eU),rU=nU,pR=new Be(function(t){return t.complete()});function iU(t){return t&&xe(t.schedule)}function zv(t){return t[t.length-1]}function sU(t){return xe(zv(t))?t.pop():void 0}function qv(t){return iU(zv(t))?t.pop():void 0}function oU(t,e){return typeof zv(t)=="number"?t.pop():e}var mR=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function gR(t){return xe(t==null?void 0:t.then)}function yR(t){return xe(t[jv])}function vR(t){return Symbol.asyncIterator&&xe(t==null?void 0:t[Symbol.asyncIterator])}function _R(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function aU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wR=aU();function ER(t){return xe(t==null?void 0:t[wR])}function TR(t){return U3(this,arguments,function(){var n,r,i,s;return uR(this,function(o){switch(o.label){case 0:n=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,wo(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,wo(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,wo(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function IR(t){return xe(t==null?void 0:t.getReader)}function er(t){if(t instanceof Be)return t;if(t!=null){if(yR(t))return lU(t);if(mR(t))return uU(t);if(gR(t))return cU(t);if(vR(t))return SR(t);if(ER(t))return hU(t);if(IR(t))return fU(t)}throw _R(t)}function lU(t){return new Be(function(e){var n=t[jv]();if(xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uU(t){return new Be(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function cU(t){return new Be(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,fR)})}function hU(t){return new Be(function(e){var n,r;try{for(var i=Bo(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function SR(t){return new Be(function(e){dU(t,e).catch(function(n){return e.error(n)})})}function fU(t){return SR(TR(t))}function dU(t,e){var n,r,i,s;return F3(this,void 0,void 0,function(){var o,a;return uR(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=j3(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ms(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function AR(t,e){return e===void 0&&(e=0),Zn(function(n,r){n.subscribe(Ri(r,function(i){return ms(r,t,function(){return r.next(i)},e)},function(){return ms(r,t,function(){return r.complete()},e)},function(i){return ms(r,t,function(){return r.error(i)},e)}))})}function CR(t,e){return e===void 0&&(e=0),Zn(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function pU(t,e){return er(t).pipe(CR(e),AR(e))}function mU(t,e){return er(t).pipe(CR(e),AR(e))}function gU(t,e){return new Be(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function yU(t,e){return new Be(function(n){var r;return ms(n,e,function(){r=t[wR](),ms(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return xe(r==null?void 0:r.return)&&r.return()}})}function PR(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(function(n){ms(n,e,function(){var r=t[Symbol.asyncIterator]();ms(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function vU(t,e){return PR(TR(t),e)}function _U(t,e){if(t!=null){if(yR(t))return pU(t,e);if(mR(t))return gU(t,e);if(gR(t))return mU(t,e);if(vR(t))return PR(t,e);if(ER(t))return yU(t,e);if(IR(t))return vU(t,e)}throw _R(t)}function ku(t,e){return e?_U(t,e):er(t)}function Xf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=qv(t);return ku(t,n)}function RR(t,e){var n=xe(t)?t:function(){return t},r=function(i){return i.error(n())};return new Be(r)}function wU(t){return!!t&&(t instanceof Be||xe(t.lift)&&xe(t.subscribe))}var bR=Fv(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function se(t,e){return new Promise(function(n,r){var i=!1,s;t.subscribe({next:function(o){s=o,i=!0},error:r,complete:function(){i?n(s):r(new bR)}})})}function Wp(t,e){return new Promise(function(n,r){var i=new zo({next:function(s){n(s),i.unsubscribe()},error:r,complete:function(){r(new bR)}});t.subscribe(i)})}function EU(t){return t instanceof Date&&!isNaN(t)}function xt(t,e){return Zn(function(n,r){var i=0;n.subscribe(Ri(r,function(s){r.next(t.call(e,s,i++))}))})}var TU=Array.isArray;function IU(t,e){return TU(e)?t.apply(void 0,Vr([],kr(e))):t(e)}function SU(t){return xt(function(e){return IU(t,e)})}function AU(t,e,n){return n===void 0&&(n=Yf),function(r){eI(e,function(){for(var i=t.length,s=new Array(i),o=i,a=i,l=function(h){eI(e,function(){var f=ku(t[h],e),d=!1;f.subscribe(Ri(r,function(g){s[h]=g,d||(d=!0,a--),a||r.next(n(s.slice()))},function(){--o||r.complete()}))},r)},c=0;c<i;c++)l(c)})}}function eI(t,e,n){e()}function CU(t,e,n,r,i,s,o,a){var l=[],c=0,h=0,f=!1,d=function(){f&&!l.length&&!c&&e.complete()},g=function(_){return c<r?v(_):l.push(_)},v=function(_){c++;var S=!1;er(n(_,h++)).subscribe(Ri(e,function(w){e.next(w)},function(){S=!0},void 0,function(){if(S)try{c--;for(var w=function(){var y=l.shift();o||v(y)};l.length&&c<r;)w();d()}catch(y){e.error(y)}}))};return t.subscribe(Ri(e,g,function(){f=!0,d()})),function(){}}function Vu(t,e,n){return n===void 0&&(n=1/0),xe(e)?Vu(function(r,i){return xt(function(s,o){return e(r,s,i,o)})(er(t(r,i)))},n):(typeof e=="number"&&(n=e),Zn(function(r,i){return CU(r,i,t,n)}))}function xR(t){return t===void 0&&(t=1/0),Vu(Yf,t)}function PU(){return xR(1)}function kR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return PU()(ku(t,qv(t)))}function VR(t){return new Be(function(e){er(t()).subscribe(e)})}function RU(t,e,n){return n===void 0&&(n=rU),new Be(function(r){var i=EU(t)?+t-n.now():t;i<0&&(i=0);var s=0;return n.schedule(function(){r.closed||(r.next(s++),r.complete())},i)})}function bU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=qv(t),r=oU(t,1/0),i=t;return i.length?i.length===1?er(i[0]):xR(r)(ku(i,n)):pR}var xU=Array.isArray;function kU(t){return t.length===1&&xU(t[0])?t[0]:t}function ca(t,e){return Zn(function(n,r){var i=0;n.subscribe(Ri(r,function(s){return t.call(e,s,i++)&&r.next(s)}))})}function Wv(t){return Zn(function(e,n){var r=null,i=!1,s;r=e.subscribe(Ri(n,void 0,void 0,function(o){s=er(t(o,Wv(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function DR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=sU(t);return n?H3(DR.apply(void 0,Vr([],kr(t))),SU(n)):Zn(function(r,i){AU(Vr([r],kr(kU(t))))(i)})}function VU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return DR.apply(void 0,Vr([],kr(t)))}function NR(t){return Zn(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function OR(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new $v}:e,r=t.resetOnError,i=r===void 0?!0:r,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,l=a===void 0?!0:a;return function(c){var h,f,d,g=0,v=!1,_=!1,S=function(){f==null||f.unsubscribe(),f=void 0},w=function(){S(),h=d=void 0,v=_=!1},y=function(){var E=h;w(),E==null||E.unsubscribe()};return Zn(function(E,b){g++,!_&&!v&&S();var O=d=d??n();b.add(function(){g--,g===0&&!_&&!v&&(f=Hp(y,l))}),O.subscribe(b),!h&&g>0&&(h=new zo({next:function(F){return O.next(F)},error:function(F){_=!0,S(),f=Hp(w,i,F),O.error(F)},complete:function(){v=!0,S(),f=Hp(w,o),O.complete()}}),er(E).subscribe(h))})(c)}}function Hp(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new zo({next:function(){i.unsubscribe(),t()}});return er(e.apply(void 0,Vr([],kr(n)))).subscribe(i)}}function DU(t,e,n){var r,i=!1;return r=t,OR({connector:function(){return new J3(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function NU(t,e,n){var r=xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Zn(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(Ri(s,function(l){var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},function(){var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Yf}function MR(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var LR={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Hv={0:8203,1:8204,2:8205,3:65279},OU=new Array(4).fill(String.fromCodePoint(Hv[0])).join("");function MU(t){let e=JSON.stringify(t);return`${OU}${Array.from(e).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(Hv[i])).join("")}).join("")}`}function LU(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function FU(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function d7(t,e,n="auto"){return n===!0||n==="auto"&&(LU(t)||FU(t))?t:`${t}${MU(e)}`}Object.fromEntries(Object.entries(Hv).map(t=>t.reverse()));Object.fromEntries(Object.entries(LR).map(t=>t.reverse()));var UU=`${Object.values(LR).map(t=>`\\u{${t.toString(16)}}`).join("")}`,tI=new RegExp(`[${UU}]{4,}`,"gu");function jU(t){var e;return{cleaned:t.replace(tI,""),encoded:((e=t.match(tI))==null?void 0:e[0])||""}}function $U(t){return t&&JSON.parse(jU(JSON.stringify(t)).cleaned)}function BU(t){return $U(t)}const zU="drafts",qU="versions",qo=".",Xh=`${zU}${qo}`,FR=`${qU}${qo}`;function Jf(t){return t.startsWith(Xh)}function Zf(t){return t.startsWith(FR)}function UR(t){if(Zf(t)){const e=ed(t);return Xh+e}return Jf(t)?t:Xh+t}function Du(t,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${FR}${e}${qo}${ed(t)}`}function jR(t){if(!Zf(t))return;const[e,n,...r]=t.split(qo);return n}function ed(t){return Zf(t)?t.split(qo).slice(2).join(qo):Jf(t)?t.slice(Xh.length):t}let WU=t=>crypto.getRandomValues(new Uint8Array(t)),HU=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(s=e)=>{let o="";for(;;){let a=n(i),l=i|0;for(;l--;)if(o+=t[a[l]&r]||"",o.length===s)return o}}},GU=(t,e=21)=>HU(t,e,WU);const nI=/\r\n|[\n\r\u2028\u2029]/;function KU(t,e,n){const r=t.split(nI),i={start:rI(e.start,r),end:e.end?rI(e.end,r):void 0},{start:s,end:o,markerLines:a}=QU(i,r),l=`${o}`.length;return t.split(nI,o).slice(s,o).map((c,h)=>{const f=s+1+h,d=` ${` ${f}`.slice(-l)} |`,g=a[f],v=!a[f+1];if(!g)return` ${d}${c.length>0?` ${c}`:""}`;let _="";if(Array.isArray(g)){const S=c.slice(0,Math.max(g[0]-1,0)).replace(/[^\t]/g," "),w=g[1]||1;_=[`
 `,d.replace(/\d/g," ")," ",S,"^".repeat(w)].join(""),v&&n&&(_+=" "+n)}return[">",d,c.length>0?` ${c}`:"",_].join("")}).join(`
`)}function QU(t,e){const n={...t.start},r={...n,...t.end},i=2,s=3,o=n.line??-1,a=n.column??0,l=r.line,c=r.column;let h=Math.max(o-(i+1),0),f=Math.min(e.length,l+s);o===-1&&(h=0),l===-1&&(f=e.length);const d=l-o,g={};if(d)for(let v=0;v<=d;v++){const _=v+o;if(!a)g[_]=!0;else if(v===0){const S=e[_-1].length;g[_]=[a,S-a+1]}else if(v===d)g[_]=[0,c];else{const S=e[_-v].length;g[_]=[0,S]}}else a===c?a?g[o]=[a,0]:g[o]=!0:g[o]=[a,c-a];return{start:h,end:f,markerLines:g}}function rI(t,e){var r;let n=0;for(let i=0;i<e.length;i++){const s=e[i].length+1;if(n+s>t)return{line:i+1,column:t-n};n+=s}return{line:e.length,column:((r=e[e.length-1])==null?void 0:r.length)??0}}const Gp=5;class YU extends Error{constructor(n,r){const i=$R(n,r);super(i.message);Q(this,"response");Q(this,"statusCode",400);Q(this,"responseBody");Q(this,"details");Object.assign(this,i)}}class XU extends Error{constructor(n){const r=$R(n);super(r.message);Q(this,"response");Q(this,"statusCode",500);Q(this,"responseBody");Q(this,"details");Object.assign(this,r)}}function $R(t,e){var s,o;const n=t.body,r={response:t,statusCode:t.statusCode,responseBody:e6(n,t),message:"",details:void 0};if(!MR(n))return r.message=Kp(t,n),r;const i=n.error;if(typeof i=="string"&&typeof n.message=="string")return r.message=`${i} - ${n.message}`,r;if(typeof i!="object"||i===null)return typeof i=="string"?r.message=i:typeof n.message=="string"?r.message=n.message:r.message=Kp(t,n),r;if(JU(i)||ZU(i)){const a=i.items||[],l=a.slice(0,Gp).map(h=>{var f;return(f=h.error)==null?void 0:f.description}).filter(Boolean);let c=l.length?`:
- ${l.join(`
- `)}`:"";return a.length>Gp&&(c+=`
...and ${a.length-Gp} more`),r.message=`${i.description}${c}`,r.details=n.error,r}if(BR(i)){const a=(o=(s=e==null?void 0:e.options)==null?void 0:s.query)==null?void 0:o.tag;return r.message=zR(i,a),r.details=n.error,r}return"description"in i&&typeof i.description=="string"?(r.message=i.description,r.details=i,r):(r.message=Kp(t,n),r)}function JU(t){return"type"in t&&t.type==="mutationError"&&"description"in t&&typeof t.description=="string"}function ZU(t){return"type"in t&&t.type==="actionError"&&"description"in t&&typeof t.description=="string"}function BR(t){return MR(t)&&t.type==="queryParseError"&&typeof t.query=="string"&&typeof t.start=="number"&&typeof t.end=="number"}function zR(t,e){const{query:n,start:r,end:i,description:s}=t;if(!n||typeof r>"u")return`GROQ query parse error: ${s}`;const o=e?`

Tag: ${e}`:"";return`GROQ query parse error:
${KU(n,{start:r,end:i},s)}${o}`}function Kp(t,e){const n=typeof e=="string"?` (${t6(e,100)})`:"",r=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${r}${n}`}function e6(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}function t6(t,e){return t.length>e?`${t.slice(0,e)}`:t}class n6 extends Error{constructor({projectId:n}){super("CorsOriginError");Q(this,"projectId");Q(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=n;const r=new URL(`https://sanity.io/manage/project/${n}/api`);if(typeof location<"u"){const{origin:i}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",i),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}}const r6={onResponse:(t,e)=>{if(t.statusCode>=500)throw new XU(t);if(t.statusCode>=400)throw new YU(t,e);return t}};function i6(t={}){const e={},n=r=>t.ignoreWarnings===void 0?!1:(Array.isArray(t.ignoreWarnings)?t.ignoreWarnings:[t.ignoreWarnings]).some(i=>typeof i=="string"?r.includes(i):i instanceof RegExp?i.test(r):!1);return{onResponse:r=>{const i=r.headers["x-sanity-warning"],s=Array.isArray(i)?i:[i];for(const o of s)!o||e[o]||n(o)||(e[o]=!0,console.warn(o));return r}}}function iI(t,e={}){return P3([Lv({shouldRetry:s6}),...t,i6(e),V3(),D3(),M3(),r6,O3({implementation:Be})])}function s6(t,e,n){if(n.maxRetries===0)return!1;const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(r||i)&&s?!0:Lv.shouldRetry(t,e,n)}const o6="https://www.sanity.io/help/";function Gv(t){return o6+t}const sI=["image","file"],oI=["before","after","replace"],qR=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},a6=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},l6=t=>{if(sI.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${sI.join(", ")}`)},pl=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},Jh=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},Wo=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);Jh(t,e._id)},u6=(t,e)=>{if(typeof e!="string")throw new Error(`\`${t}()\`: \`${e}\` is not a valid document type`)},WR=(t,e)=>{if(!e._type)throw new Error(`\`${t}()\` requires that the document contains a type (\`_type\` property)`);u6(t,e._type)},c6=(t,e)=>{if(e._id&&e._id!==t)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${t}\`)`)},h6=(t,e,n)=>{const r="insert(at, selector, items)";if(oI.indexOf(t)===-1){const i=oI.map(s=>`"${s}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)},Vs=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},HR=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},GR=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{if(n.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},is=(t,e)=>{if(e["~experimental_resource"])throw new Error(`\`${t}\` does not support resource-based operations`)};function f6(t){let e=!1,n;return(...r)=>(e||(n=t(...r),e=!0),n)}const ji=t=>f6((...e)=>console.warn(t.join(" "),...e)),d6=ji(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),p6=ji(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),m6=ji(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),g6=ji(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),y6=ji(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Gv("js-client-browser-token")} for more information and how to hide this warning.`]),v6=ji(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),_6=ji(["Using the Sanity client without specifying an API version is deprecated.",`See ${Gv("js-client-api-version")}`]),w6=ji(["You have called `createVersion()` with a defined `document`. The recommended approach is to provide a `baseId` and `releaseId` instead."]),E6="apicdn.sanity.io",ml={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},T6=["localhost","127.0.0.1","0.0.0.0"],I6=t=>T6.indexOf(t)!==-1;function S6(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function KR(t){if(Array.isArray(t)&&t.length>1&&t.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const QR=(t,e)=>{const n={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||ml.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};n.apiVersion||_6();const r={...ml,...n},i=r.useProjectHostname&&!r["~experimental_resource"];if(typeof Promise>"u"){const d=Gv("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${d}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(r["~experimental_resource"]&&GR(r),typeof r.perspective<"u"&&KR(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const s=typeof window<"u"&&window.location&&window.location.hostname,o=s&&I6(window.location.hostname),a=!!r.token;r.withCredentials&&a&&(v6(),r.withCredentials=!1),s&&o&&a&&r.ignoreBrowserTokenWarning!==!0?y6():typeof r.useCdn>"u"&&p6(),i&&a6(r.projectId),r.dataset&&qR(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?HR(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===ml.apiHost,r.useCdn===!0&&r.withCredentials&&d6(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,S6(r.apiVersion);const l=r.apiHost.split("://",2),c=l[0],h=l[1],f=r.isDefaultApi?E6:h;return i?(r.url=`${c}://${r.projectId}.${h}/v${r.apiVersion}`,r.cdnUrl=`${c}://${r.projectId}.${f}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};class YR extends Error{constructor(){super(...arguments);Q(this,"name","ConnectionFailedError")}}class A6 extends Error{constructor(n,r,i={}){super(n,i);Q(this,"name","DisconnectError");Q(this,"reason");this.reason=r}}class C6 extends Error{constructor(n,r){super(n);Q(this,"name","ChannelError");Q(this,"data");this.data=r}}class P6 extends Error{constructor(n,r,i={}){super(n,i);Q(this,"name","MessageError");Q(this,"data");this.data=r}}class aI extends Error{constructor(){super(...arguments);Q(this,"name","MessageParseError")}}const R6=["channelError","disconnect"];function XR(t,e){return VR(()=>{const n=t();return wU(n)?n:Xf(n)}).pipe(Vu(n=>b6(n,e)))}function b6(t,e){return new Be(n=>{const r=e.includes("open"),i=e.includes("reconnect");function s(c){if("data"in c){const[h,f]=lI(c);n.error(h?new aI("Unable to parse EventSource error message",{cause:f}):new P6((f==null?void 0:f.data).message,f));return}t.readyState===t.CLOSED?n.error(new YR("EventSource connection failed")):i&&n.next({type:"reconnect"})}function o(){n.next({type:"open"})}function a(c){var d;const[h,f]=lI(c);if(h){n.error(new aI("Unable to parse EventSource message",{cause:h}));return}if(c.type==="channelError"){const g=new URL(t.url).searchParams.get("tag");n.error(new C6(x6(f==null?void 0:f.data,g),f.data));return}if(c.type==="disconnect"){n.error(new A6(`Server disconnected client: ${((d=f.data)==null?void 0:d.reason)||"unknown error"}`));return}n.next({type:c.type,id:c.lastEventId,...f.data?{data:f.data}:{}})}t.addEventListener("error",s),r&&t.addEventListener("open",o);const l=[...new Set([...R6,...e])].filter(c=>c!=="error"&&c!=="open"&&c!=="reconnect");return l.forEach(c=>t.addEventListener(c,a)),()=>{t.removeEventListener("error",s),r&&t.removeEventListener("open",o),l.forEach(c=>t.removeEventListener(c,a)),t.close()}})}function lI(t){try{const e=typeof t.data=="string"&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,...k6(e)?{}:{data:e}}]}catch(e){return[e,null]}}function x6(t,e){const n=t.error;return n?BR(n)?zR(n,e):n.description?n.description:typeof n=="string"?n:JSON.stringify(n,null,2):t.message||"Unknown listener error"}function k6(t){for(const e in t)return!1;return!0}function JR(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class ZR{constructor(e,n={}){Q(this,"selection");Q(this,"operations");this.selection=e,this.operations=n}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return pl("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,n,r){return h6(e,n,r),this._assign("insert",{[e]:n,items:r})}append(e,n){return this.insert("after",`${e}[-1]`,n)}prepend(e,n){return this.insert("before",`${e}[0]`,n)}splice(e,n,r,i){const s=typeof r>"u"||r===-1,o=n<0?n-1:n,a=s?-1:Math.max(0,n+r),l=o<0&&a>=0?"":a,c=`${e}[${o}:${l}]`;return this.insert("replace",c,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...JR(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,n,r=!0){return pl(e,n),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},n)}),this}_set(e,n){return this._assign(e,n,!1)}}var as;const Q_=class Q_ extends ZR{constructor(n,r,i){super(n,r);ne(this,as);te(this,as,i)}clone(){return new Q_(this.selection,{...this.operations},k(this,as))}commit(n){if(!k(this,as))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return k(this,as).mutate({patch:this.serialize()},i)}};as=new WeakMap;let gs=Q_;var ls;const Y_=class Y_ extends ZR{constructor(n,r,i){super(n,r);ne(this,ls);te(this,ls,i)}clone(){return new Y_(this.selection,{...this.operations},k(this,ls))}commit(n){if(!k(this,ls))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return k(this,ls).mutate({patch:this.serialize()},i)}};ls=new WeakMap;let ai=Y_;const eb={returnDocuments:!1};class tb{constructor(e=[],n){Q(this,"operations");Q(this,"trxId");this.operations=e,this.trxId=n}create(e){return pl("create",e),this._add({create:e})}createIfNotExists(e){const n="createIfNotExists";return pl(n,e),Wo(n,e),this._add({[n]:e})}createOrReplace(e){const n="createOrReplace";return pl(n,e),Wo(n,e),this._add({[n]:e})}delete(e){return Jh("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var cr;const X_=class X_ extends tb{constructor(n,r,i){super(n,i);ne(this,cr);te(this,cr,r)}clone(){return new X_([...this.operations],k(this,cr),this.trxId)}commit(n){if(!k(this,cr))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return k(this,cr).mutate(this.serialize(),Object.assign({transactionId:this.trxId},eb,n||{}))}patch(n,r){const i=typeof r=="function",s=typeof n!="string"&&n instanceof ai,o=typeof n=="object"&&("query"in n||"id"in n);if(s)return this._add({patch:n.serialize()});if(i){const a=r(new ai(n,{},k(this,cr)));if(!(a instanceof ai))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}if(o){const a=new ai(n,r||{},k(this,cr));return this._add({patch:a.serialize()})}return this._add({patch:{id:n,...r}})}};cr=new WeakMap;let Zh=X_;var ei;const J_=class J_ extends tb{constructor(n,r,i){super(n,i);ne(this,ei);te(this,ei,r)}clone(){return new J_([...this.operations],k(this,ei),this.trxId)}commit(n){if(!k(this,ei))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return k(this,ei).mutate(this.serialize(),Object.assign({transactionId:this.trxId},eb,n||{}))}patch(n,r){const i=typeof r=="function";if(typeof n!="string"&&n instanceof gs)return this._add({patch:n.serialize()});if(i){const s=r(new gs(n,{},k(this,ei)));if(!(s instanceof gs))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:n,...r}})}};ei=new WeakMap;let ef=J_;const V6="X-Sanity-Project-ID";function D6(t,e={}){const n={};t.headers&&Object.assign(n,t.headers);const r=e.token||t.token;r&&(n.Authorization=`Bearer ${r}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(n[V6]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.withCredentials:e.withCredentials),s=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},n,e.headers||{}),timeout:typeof s>"u"?5*60*1e3:s,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const nb=({query:t,params:e={},options:n={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:s,returnQuery:o,...a}=n;i&&r.append("tag",i),r.append("query",t);for(const[l,c]of Object.entries(e))c!==void 0&&r.append(`$${l}`,JSON.stringify(c));for(const[l,c]of Object.entries(a))c&&r.append(l,`${c}`);return o===!1&&r.append("returnQuery","false"),s===!1&&r.append("includeMutations","false"),`?${r}`},N6=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,O6=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:N6(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),Kv=t=>t.type==="response",M6=t=>t.body,L6=(t,e)=>t.reduce((n,r)=>(n[e(r)]=r,n),Object.create(null)),F6=11264;function rb(t,e,n,r,i={},s={}){const o="stega"in s?{...n||{},...typeof s.stega=="boolean"?{enabled:s.stega}:s.stega||{}}:n,a=o.enabled?BU(i):i,l=s.filterResponse===!1?v=>v:v=>v.result,{cache:c,next:h,...f}={useAbortSignal:typeof s.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":s.resultSourceMap,...s,returnQuery:s.filterResponse===!1&&s.returnQuery!==!1},d=typeof c<"u"||typeof h<"u"?{...f,fetch:{cache:c,next:h}}:f,g=Ds(t,e,"query",{query:r,params:a},d);return o.enabled?g.pipe(VU(ku(Ze(()=>import("./stegaEncodeSourceMap-ovP25Pus.js"),[]).then(function(v){return v.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:v})=>v))),xt(([v,_])=>{const S=_(v.result,v.resultSourceMap,o);return l({...v,result:S})})):g.pipe(xt(l))}function Ho(t,e,n,r={}){const i=(()=>{if(!r.releaseId)return n;const o=jR(n);if(!o){if(Jf(n))throw new Error(`The document ID (\`${n}\`) is a draft, but \`options.releaseId\` is set as \`${r.releaseId}\``);return Du(n,r.releaseId)}if(o!==r.releaseId)throw new Error(`The document ID (\`${n}\`) is already a version of \`${o}\` release, but this does not match the provided \`options.releaseId\` (\`${r.releaseId}\`)`);return n})(),s={uri:Tn(t,"doc",i),json:!0,tag:r.tag,signal:r.signal,query:r.includeAllVersions!==void 0?{includeAllVersions:r.includeAllVersions}:void 0};return Ou(t,e,s).pipe(ca(Kv),xt(o=>{const a=o.body.documents;return a?r.includeAllVersions?a:a[0]:r.includeAllVersions?[]:void 0}))}function ib(t,e,n,r={}){const i={uri:Tn(t,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal};return Ou(t,e,i).pipe(ca(Kv),xt(s=>{const o=L6(s.body.documents||[],a=>a._id);return n.map(a=>o[a]||null)}))}function sb(t,e,n,r={}){return Ds(t,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:n}},r)}function ob(t,e,n,r){return Wo("createIfNotExists",n),td(t,e,n,"createIfNotExists",r)}function ab(t,e,n,r){return Wo("createOrReplace",n),td(t,e,n,"createOrReplace",r)}function lb(t,e,n,r,i){return Wo("createVersion",n),WR("createVersion",n),w6(),Ve(t,e,{actionType:"sanity.action.document.version.create",publishedId:r,document:n},i)}function ub(t,e,n,r,i,s,o){if(!r)throw new Error("`createVersion()` requires `baseId` when no `document` is provided");if(!n)throw new Error("`createVersion()` requires `publishedId` when `baseId` is provided");Jh("createVersion",r),Jh("createVersion",n);const a={actionType:"sanity.action.document.version.create",publishedId:n,baseId:r,versionId:i?Du(n,i):UR(n),ifBaseRevisionId:s};return Ve(t,e,a,o)}function cb(t,e,n,r){return Ds(t,e,"mutate",{mutations:[{delete:JR(n)}]},r)}function hb(t,e,n,r=!1,i){return Ve(t,e,{actionType:"sanity.action.document.version.discard",versionId:n,purge:r},i)}function fb(t,e,n,r){return Wo("replaceVersion",n),WR("replaceVersion",n),Ve(t,e,{actionType:"sanity.action.document.version.replace",document:n},r)}function db(t,e,n,r,i){return Ve(t,e,{actionType:"sanity.action.document.version.unpublish",versionId:n,publishedId:r},i)}function pb(t,e,n,r){let i;n instanceof ai||n instanceof gs?i={patch:n.serialize()}:n instanceof Zh||n instanceof ef?i=n.serialize():i=n;const s=Array.isArray(i)?i:[i],o=r&&r.transactionId||void 0;return Ds(t,e,"mutate",{mutations:s,transactionId:o},r)}function Ve(t,e,n,r){const i=Array.isArray(n)?n:[n],s=r&&r.transactionId||void 0,o=r&&r.skipCrossDatasetReferenceValidation||void 0,a=r&&r.dryRun||void 0;return Ds(t,e,"actions",{actions:i,transactionId:s,skipCrossDatasetReferenceValidation:o,dryRun:a},r)}function Ds(t,e,n,r,i={}){const s=n==="mutate",o=n==="actions",a=n==="query",l=s||o?"":nb(r),c=!s&&!o&&l.length<F6,h=c?l:"",f=i.returnFirst,{timeout:d,token:g,tag:v,headers:_,returnQuery:S,lastLiveEventId:w,cacheMode:y}=i,E=Tn(t,n,h),b={method:c?"GET":"POST",uri:E,json:!0,body:c?void 0:r,query:s&&O6(i),timeout:d,headers:_,token:g,tag:v,returnQuery:S,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(w)?w[0]:w,cacheMode:y,canUseCdn:a,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return Ou(t,e,b).pipe(ca(Kv),xt(M6),xt(O=>{if(!s)return O;const F=O.results||[];if(i.returnDocuments)return f?F[0]&&F[0].document:F.map(C=>C.document);const A=f?"documentId":"documentIds",T=f?F[0]&&F[0].id:F.map(C=>C.id);return{transactionId:O.transactionId,results:F,[A]:T}}))}function td(t,e,n,r,i={}){const s={[r]:n},o=Object.assign({returnFirst:!0,returnDocuments:!0},i);return Ds(t,e,"mutate",{mutations:[s]},o)}const Nu=t=>t.config().dataset!==void 0&&t.config().projectId!==void 0||t.config()["~experimental_resource"]!==void 0,mb=(t,e)=>Nu(t)&&e.startsWith(Tn(t,"query")),U6=(t,e)=>Nu(t)&&e.startsWith(Tn(t,"mutate")),j6=(t,e)=>Nu(t)&&e.startsWith(Tn(t,"doc","")),$6=(t,e)=>Nu(t)&&e.startsWith(Tn(t,"listen")),B6=(t,e)=>Nu(t)&&e.startsWith(Tn(t,"history","")),z6=(t,e)=>e.startsWith("/data/")||mb(t,e)||U6(t,e)||j6(t,e)||$6(t,e)||B6(t,e);function Ou(t,e,n){const r=n.url||n.uri,i=t.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&z6(t,r):n.canUseCdn;let o=(n.useCdn??i.useCdn)&&s;const a=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(a&&n.tag!==null&&(n.query={tag:HR(a),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&mb(t,r)){const h=n.resultSourceMap??i.resultSourceMap;h!==void 0&&h!==!1&&(n.query={resultSourceMap:h,...n.query});const f=n.perspective||i.perspective;typeof f<"u"&&(f==="previewDrafts"&&g6(),KR(f),n.query={perspective:Array.isArray(f)?f.join(","):f,...n.query},(Array.isArray(f)&&f.length>0||f==="previewDrafts"||f==="drafts")&&o&&(o=!1,m6())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),n.returnQuery===!1&&(n.query={returnQuery:"false",...n.query}),o&&n.cacheMode=="noStale"&&(n.query={cacheMode:"noStale",...n.query})}const l=D6(i,Object.assign({},n,{url:Qv(t,r,o)})),c=new Be(h=>e(l,i.requester).subscribe(h));return n.signal?c.pipe(q6(n.signal)):c}function yt(t,e,n){return Ou(t,e,n).pipe(ca(r=>r.type==="response"),xt(r=>r.body))}function Tn(t,e,n){const r=t.config();if(r["~experimental_resource"]){GR(r);const o=G6(r),a=n!==void 0?`${e}/${n}`:e;return`${o}/${a}`.replace(/\/($|\?)/,"$1")}const i=Vs(r),s=`/${e}/${i}`;return`/data${n!==void 0?`${s}/${n}`:s}`.replace(/\/($|\?)/,"$1")}function Qv(t,e,n=!1){const{url:r,cdnUrl:i}=t.config();return`${n?i:r}/${e.replace(/^\//,"")}`}function q6(t){return e=>new Be(n=>{const r=()=>n.error(H6(t));if(t&&t.aborted){r();return}const i=e.subscribe(n);return t.addEventListener("abort",r),()=>{t.removeEventListener("abort",r),i.unsubscribe()}})}const W6=!!globalThis.DOMException;function H6(t){if(W6)return new DOMException((t==null?void 0:t.reason)??"The operation was aborted.","AbortError");const e=new Error((t==null?void 0:t.reason)??"The operation was aborted.");return e.name="AbortError",e}const G6=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:n}=t["~experimental_resource"];switch(e){case"dataset":{const r=n.split(".");if(r.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${r[0]}/datasets/${r[1]}`}case"canvas":return`/canvases/${n}`;case"media-library":return`/media-libraries/${n}`;case"dashboard":return`/dashboards/${n}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function gb(t,e,n){const r=Vs(t.config());return yt(t,e,{method:"POST",uri:`/agent/action/generate/${r}`,body:n})}function K6(t,e,n){const r=Vs(t.config());return yt(t,e,{method:"POST",uri:`/agent/action/patch/${r}`,body:n})}function Q6(t,e,n){const r=Vs(t.config());return yt(t,e,{method:"POST",uri:`/agent/action/prompt/${r}`,body:n})}function yb(t,e,n){const r=Vs(t.config());return yt(t,e,{method:"POST",uri:`/agent/action/transform/${r}`,body:n})}function vb(t,e,n){const r=Vs(t.config());return yt(t,e,{method:"POST",uri:`/agent/action/translate/${r}`,body:n})}var us,cs;class Y6{constructor(e,n){ne(this,us);ne(this,cs);te(this,us,e),te(this,cs,n)}generate(e){return gb(k(this,us),k(this,cs),e)}transform(e){return yb(k(this,us),k(this,cs),e)}translate(e){return vb(k(this,us),k(this,cs),e)}}us=new WeakMap,cs=new WeakMap;var hr,fr;class X6{constructor(e,n){ne(this,hr);ne(this,fr);te(this,hr,e),te(this,fr,n)}generate(e){return se(gb(k(this,hr),k(this,fr),e))}transform(e){return se(yb(k(this,hr),k(this,fr),e))}translate(e){return se(vb(k(this,hr),k(this,fr),e))}prompt(e){return se(Q6(k(this,hr),k(this,fr),e))}patch(e){return se(K6(k(this,hr),k(this,fr),e))}}hr=new WeakMap,fr=new WeakMap;var lu,uu;class J6{constructor(e,n){ne(this,lu);ne(this,uu);te(this,lu,e),te(this,uu,n)}upload(e,n,r){return _b(k(this,lu),k(this,uu),e,n,r)}}lu=new WeakMap,uu=new WeakMap;var cu,hu;class Z6{constructor(e,n){ne(this,cu);ne(this,hu);te(this,cu,e),te(this,hu,n)}upload(e,n,r){const i=_b(k(this,cu),k(this,hu),e,n,r);return se(i.pipe(ca(s=>s.type==="response"),xt(s=>s.body.document)))}}cu=new WeakMap,hu=new WeakMap;function _b(t,e,n,r,i={}){l6(n);let s=i.extract||void 0;s&&!s.length&&(s=["none"]);const o=t.config(),a=tj(i,r),{tag:l,label:c,title:h,description:f,creditLine:d,filename:g,source:v}=a,_={label:c,title:h,description:f,filename:g,meta:s,creditLine:d};return v&&(_.sourceId=v.id,_.sourceName=v.name,_.sourceUrl=v.url),Ou(t,e,{tag:l,method:"POST",timeout:a.timeout||0,uri:ej(o,n),headers:a.contentType?{"Content-Type":a.contentType}:{},query:_,body:r})}function ej(t,e){const n=e==="image"?"images":"files";if(t["~experimental_resource"]){const{type:i,id:s}=t["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${s}/assets/${n}`;case"media-library":return`/media-libraries/${s}/upload`;case"dashboard":return`/dashboards/${s}/assets/${n}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const r=Vs(t);return`assets/${n}/${r}`}function tj(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var nj=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((n,r)=>(n[r]=typeof t[r]>"u"?e[r]:t[r],n),{});const rj=(t,e)=>e.reduce((n,r)=>(typeof t[r]>"u"||(n[r]=t[r]),n),{}),wb=VR(()=>Ze(()=>import("./browser-C3bNIYCx.js").then(t=>t.b),[])).pipe(xt(({default:t})=>t),DU(1));function Eb(){return function(t){return t.pipe(Wv((e,n)=>e instanceof YR?kR(Xf({type:"reconnect"}),RU(1e3).pipe(Vu(()=>n))):RR(()=>e)))}}const ij=14800,sj=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],oj={includeResult:!0};function Tb(t,e,n={}){const{url:r,token:i,withCredentials:s,requestTagPrefix:o,headers:a}=this.config(),l=n.tag&&o?[o,n.tag].join("."):n.tag,c={...nj(n,oj),tag:l},h=rj(c,sj),f=nb({query:t,params:e,options:{tag:l,...h}}),d=`${r}${Tn(this,"listen",f)}`;if(d.length>ij)return RR(()=>new Error("Query too large for listener"));const g=c.events?c.events:["mutation"],v={};return s&&(v.withCredentials=!0),(i||a)&&(v.headers={},i&&(v.headers.Authorization=`Bearer ${i}`),a&&Object.assign(v.headers,a)),XR(()=>(typeof EventSource>"u"||v.headers?wb:Xf(EventSource)).pipe(xt(_=>new _(d,v))),g).pipe(Eb(),ca(_=>g.includes(_.type)),xt(_=>({type:_.type,..."data"in _?_.data:{}})))}function aj(t,e){return lj(typeof t=="function"?{predicate:t,...e}:t)}function lj(t){return e=>{let n,r=!1;const{predicate:i,...s}=t,o=e.pipe(NU(l=>{t.predicate(l)&&(r=!0,n=l)}),NR(()=>{r=!1,n=void 0}),OR(s)),a=new Be(l=>{r&&l.next(n),l.complete()});return bU(o,a)}}const uI="2021-03-25";var ti;class Ib{constructor(e){ne(this,ti);te(this,ti,e)}events({includeDrafts:e=!1,tag:n}={}){is("live",k(this,ti).config());const{projectId:r,apiVersion:i,token:s,withCredentials:o,requestTagPrefix:a,headers:l}=k(this,ti).config(),c=i.replace(/^v/,"");if(c!=="X"&&c<uI)throw new Error(`The live events API requires API version ${uI} or later. The current API version is ${c}. Please update your API version to use this feature.`);if(e&&!s&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const h=Tn(k(this,ti),"live/events"),f=new URL(k(this,ti).getUrl(h,!1)),d=n&&a?[a,n].join("."):n;d&&f.searchParams.set("tag",d),e&&f.searchParams.set("includeDrafts","true");const g={};e&&o&&(g.withCredentials=!0),(e&&s||l)&&(g.headers={},e&&s&&(g.headers.Authorization=`Bearer ${s}`),l&&Object.assign(g.headers,l));const v=`${f.href}::${JSON.stringify(g)}`,_=Qp.get(v);if(_)return _;const S=XR(()=>(typeof EventSource>"u"||g.headers?wb:Xf(EventSource)).pipe(xt(E=>new E(f.href,g))),["message","restart","welcome","reconnect","goaway"]).pipe(Eb(),xt(E=>{if(E.type==="message"){const{data:b,...O}=E;return{...O,tags:b.tags}}return E})),w=uj(f,{method:"OPTIONS",mode:"cors",credentials:g.withCredentials?"include":"omit",headers:g.headers}).pipe(Vu(()=>pR),Wv(()=>{throw new n6({projectId:r})})),y=kR(w,S).pipe(NR(()=>Qp.delete(v)),aj({predicate:E=>E.type==="welcome"}));return Qp.set(v,y),y}}ti=new WeakMap;function uj(t,e){return new Be(n=>{const r=new AbortController,i=r.signal;return fetch(t,{...e,signal:r.signal}).then(s=>{n.next(s),n.complete()},s=>{i.aborted||n.error(s)}),()=>r.abort()})}const Qp=new Map;var Un,ni;class cj{constructor(e,n){ne(this,Un);ne(this,ni);te(this,Un,e),te(this,ni,n)}create(e,n){return Eo(k(this,Un),k(this,ni),"PUT",e,n)}edit(e,n){return Eo(k(this,Un),k(this,ni),"PATCH",e,n)}delete(e){return Eo(k(this,Un),k(this,ni),"DELETE",e)}list(){is("dataset",k(this,Un).config());const e=k(this,Un).config(),n=e.projectId;let r="/datasets";return e.useProjectHostname===!1&&(r=`/projects/${n}/datasets`),yt(k(this,Un),k(this,ni),{uri:r,tag:null})}}Un=new WeakMap,ni=new WeakMap;var en,ri;class hj{constructor(e,n){ne(this,en);ne(this,ri);te(this,en,e),te(this,ri,n)}create(e,n){return is("dataset",k(this,en).config()),se(Eo(k(this,en),k(this,ri),"PUT",e,n))}edit(e,n){return is("dataset",k(this,en).config()),se(Eo(k(this,en),k(this,ri),"PATCH",e,n))}delete(e){return is("dataset",k(this,en).config()),se(Eo(k(this,en),k(this,ri),"DELETE",e))}list(){is("dataset",k(this,en).config());const e=k(this,en).config(),n=e.projectId;let r="/datasets";return e.useProjectHostname===!1&&(r=`/projects/${n}/datasets`),se(yt(k(this,en),k(this,ri),{uri:r,tag:null}))}}en=new WeakMap,ri=new WeakMap;function Eo(t,e,n,r,i){return is("dataset",t.config()),qR(r),yt(t,e,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}var Po,fu;class Sb{constructor(e,n){ne(this,Po);ne(this,fu);te(this,Po,e),te(this,fu,n)}getPlaybackInfo(e,n={}){var c;const r=(c=k(this,Po).config()["~experimental_resource"])==null?void 0:c.id,{instanceId:i,libraryId:s}=mj(e),o=s||r;if(!o)throw new Error("Could not determine Media Library ID - you need to provide a valid Media Library ID in the client config or a Media Library GDR");const a=gj(i,o),l=yj(n);return yt(k(this,Po),k(this,fu),{method:"GET",uri:a,query:l})}}Po=new WeakMap,fu=new WeakMap;var du,pu;class fj{constructor(e,n){ne(this,du);ne(this,pu);te(this,du,e),te(this,pu,n)}getPlaybackInfo(e,n={}){return se(new Sb(k(this,du).observable,k(this,pu)).getPlaybackInfo(e,n))}}du=new WeakMap,pu=new WeakMap;const dj=/^media-library:(ml[^:]+):([^:]+)$/;function pj(t){return typeof t=="object"&&"_ref"in t}function mj(t){const e=pj(t)?t._ref:t,n=dj.exec(e);if(n){const[,r,i]=n;return{libraryId:r,instanceId:i}}if(typeof t=="string"&&t.startsWith("video-"))return{instanceId:t};throw new Error(`Invalid video asset instance identifier "${e}": must be a valid video instance id or a Global Dataset Reference (GDR) to the video asset in the Media Library`)}function gj(t,e){return`/media-libraries/${e}/video/${t}/playback-info`}function yj(t){const e={};if(t.transformations){const{thumbnail:n,animated:r,storyboard:i}=t.transformations;n&&(n.width&&(e.thumbnailWidth=n.width),n.height&&(e.thumbnailHeight=n.height),n.time!==void 0&&(e.thumbnailTime=n.time),n.fit&&(e.thumbnailFit=n.fit),n.format&&(e.thumbnailFormat=n.format)),r&&(r.width&&(e.animatedWidth=r.width),r.height&&(e.animatedHeight=r.height),r.start!==void 0&&(e.animatedStart=r.start),r.end!==void 0&&(e.animatedEnd=r.end),r.fps&&(e.animatedFps=r.fps),r.format&&(e.animatedFormat=r.format)),i&&i.format&&(e.storyboardFormat=i.format)}return t.expiration&&(e.expiration=t.expiration),e}var Ro,bo;class vj{constructor(e,n){ne(this,Ro);ne(this,bo);te(this,Ro,e),te(this,bo,n)}list(e){const n={},r="/projects";return(e==null?void 0:e.includeMembers)===!1&&(n.includeMembers="false"),e!=null&&e.organizationId&&(n.organizationId=e.organizationId),yt(k(this,Ro),k(this,bo),{uri:r,query:n})}getById(e){return yt(k(this,Ro),k(this,bo),{uri:`/projects/${e}`})}}Ro=new WeakMap,bo=new WeakMap;var xo,ko;class _j{constructor(e,n){ne(this,xo);ne(this,ko);te(this,xo,e),te(this,ko,n)}list(e){const n={},r="/projects";return(e==null?void 0:e.includeMembers)===!1&&(n.includeMembers="false"),e!=null&&e.organizationId&&(n.organizationId=e.organizationId),se(yt(k(this,xo),k(this,ko),{uri:r,query:n}))}getById(e){return se(yt(k(this,xo),k(this,ko),{uri:`/projects/${e}`}))}}xo=new WeakMap,ko=new WeakMap;const cI=GU("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),tf=(t,e)=>e?Du(t,e):UR(t);function nf(t,{releaseId:e,publishedId:n,document:r}){if(n&&r._id){const i=tf(n,e);return c6(i,r),i}if(r._id){const i=Jf(r._id),s=Zf(r._id);if(!i&&!s)throw new Error(`\`${t}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(i)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);const o=jR(r._id);if(o!==e)throw new Error(`\`${t}()\` was called with a document ID (\`${r._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${o}\`).`)}return r._id}if(n)return tf(n,e);throw new Error(`\`${t}()\` requires either a publishedId or a document with an \`_id\``)}const wj=(t,e)=>{if(typeof t=="object"&&t!==null&&("releaseId"in t||"metadata"in t)){const{releaseId:n=cI(),metadata:r={}}=t;return[n,r,e]}return[cI(),{},t]},Ab=(t,e)=>{const[n,r,i]=wj(t,e),s={...r,releaseType:r.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:n,metadata:s},options:i}};var jt,$t;class Ej{constructor(e,n){ne(this,jt);ne(this,$t);te(this,jt,e),te(this,$t,n)}get({releaseId:e},n){return Ho(k(this,jt),k(this,$t),`_.releases.${e}`,n)}create(e,n){const{action:r,options:i}=Ab(e,n),{releaseId:s,metadata:o}=r;return Ve(k(this,jt),k(this,$t),r,i).pipe(xt(a=>({...a,releaseId:s,metadata:o})))}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return Ve(k(this,jt),k(this,$t),i,r)}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return Ve(k(this,jt),k(this,$t),r,n)}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return Ve(k(this,jt),k(this,$t),r,n)}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return Ve(k(this,jt),k(this,$t),r,n)}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return Ve(k(this,jt),k(this,$t),i,r)}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return Ve(k(this,jt),k(this,$t),r,n)}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return Ve(k(this,jt),k(this,$t),r,n)}fetchDocuments({releaseId:e},n){return sb(k(this,jt),k(this,$t),e,n)}}jt=new WeakMap,$t=new WeakMap;var Bt,zt;class Tj{constructor(e,n){ne(this,Bt);ne(this,zt);te(this,Bt,e),te(this,zt,n)}get({releaseId:e},n){return se(Ho(k(this,Bt),k(this,zt),`_.releases.${e}`,n))}async create(e,n){const{action:r,options:i}=Ab(e,n),{releaseId:s,metadata:o}=r;return{...await se(Ve(k(this,Bt),k(this,zt),r,i)),releaseId:s,metadata:o}}edit({releaseId:e,patch:n},r){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:n};return se(Ve(k(this,Bt),k(this,zt),i,r))}publish({releaseId:e},n){const r={actionType:"sanity.action.release.publish",releaseId:e};return se(Ve(k(this,Bt),k(this,zt),r,n))}archive({releaseId:e},n){const r={actionType:"sanity.action.release.archive",releaseId:e};return se(Ve(k(this,Bt),k(this,zt),r,n))}unarchive({releaseId:e},n){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return se(Ve(k(this,Bt),k(this,zt),r,n))}schedule({releaseId:e,publishAt:n},r){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:n};return se(Ve(k(this,Bt),k(this,zt),i,r))}unschedule({releaseId:e},n){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return se(Ve(k(this,Bt),k(this,zt),r,n))}delete({releaseId:e},n){const r={actionType:"sanity.action.release.delete",releaseId:e};return se(Ve(k(this,Bt),k(this,zt),r,n))}fetchDocuments({releaseId:e},n){return se(sb(k(this,Bt),k(this,zt),e,n))}}Bt=new WeakMap,zt=new WeakMap;var mu,gu;class Ij{constructor(e,n){ne(this,mu);ne(this,gu);te(this,mu,e),te(this,gu,n)}getById(e){return yt(k(this,mu),k(this,gu),{uri:`/users/${e}`})}}mu=new WeakMap,gu=new WeakMap;var yu,vu;class Sj{constructor(e,n){ne(this,yu);ne(this,vu);te(this,yu,e),te(this,vu,n)}getById(e){return se(yt(k(this,yu),k(this,vu),{uri:`/users/${e}`}))}}yu=new WeakMap,vu=new WeakMap;var dr,ge;const Af=class Af{constructor(e,n=ml){Q(this,"assets");Q(this,"datasets");Q(this,"live");Q(this,"mediaLibrary");Q(this,"projects");Q(this,"users");Q(this,"agent");Q(this,"releases");ne(this,dr);ne(this,ge);Q(this,"listen",Tb);this.config(n),te(this,ge,e),this.assets=new J6(this,k(this,ge)),this.datasets=new cj(this,k(this,ge)),this.live=new Ib(this),this.mediaLibrary={video:new Sb(this,k(this,ge))},this.projects=new vj(this,k(this,ge)),this.users=new Ij(this,k(this,ge)),this.agent={action:new Y6(this,k(this,ge))},this.releases=new Ej(this,k(this,ge))}clone(){return new Af(k(this,ge),this.config())}config(e){if(e===void 0)return{...k(this,dr)};if(k(this,dr)&&k(this,dr).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return te(this,dr,QR(e,k(this,dr)||{})),this}withConfig(e){const n=this.config();return new Af(k(this,ge),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return rb(this,k(this,ge),k(this,dr).stega,e,n,r)}getDocument(e,n){if((n==null?void 0:n.includeAllVersions)===!0)return Ho(this,k(this,ge),e,{...n,includeAllVersions:!0});const r={signal:n==null?void 0:n.signal,tag:n==null?void 0:n.tag,releaseId:n==null?void 0:n.releaseId,...n&&"includeAllVersions"in n?{includeAllVersions:!1}:{}};return Ho(this,k(this,ge),e,r)}getDocuments(e,n){return ib(this,k(this,ge),e,n)}create(e,n){return td(this,k(this,ge),e,"create",n)}createIfNotExists(e,n){return ob(this,k(this,ge),e,n)}createOrReplace(e,n){return ab(this,k(this,ge),e,n)}createVersion({document:e,publishedId:n,releaseId:r,baseId:i,ifBaseRevisionId:s},o){if(!e)return ub(this,k(this,ge),n,i,r,s,o);const a=nf("createVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a},c=n||ed(e._id);return lb(this,k(this,ge),l,c,o)}delete(e,n){return cb(this,k(this,ge),e,n)}discardVersion({releaseId:e,publishedId:n},r,i){const s=tf(n,e);return hb(this,k(this,ge),s,r,i)}replaceVersion({document:e,publishedId:n,releaseId:r},i){const s=nf("replaceVersion",{document:e,publishedId:n,releaseId:r}),o={...e,_id:s};return fb(this,k(this,ge),o,i)}unpublishVersion({releaseId:e,publishedId:n},r){const i=Du(n,e);return db(this,k(this,ge),i,n,r)}mutate(e,n){return pb(this,k(this,ge),e,n)}patch(e,n){return new gs(e,n,this)}transaction(e){return new ef(e,this)}action(e,n){return Ve(this,k(this,ge),e,n)}request(e){return yt(this,k(this,ge),e)}getUrl(e,n){return Qv(this,e,n)}getDataUrl(e,n){return Tn(this,e,n)}};dr=new WeakMap,ge=new WeakMap;let Dg=Af;var pr,pe;const Cf=class Cf{constructor(e,n=ml){Q(this,"assets");Q(this,"datasets");Q(this,"live");Q(this,"mediaLibrary");Q(this,"projects");Q(this,"users");Q(this,"agent");Q(this,"releases");Q(this,"observable");ne(this,pr);ne(this,pe);Q(this,"listen",Tb);this.config(n),te(this,pe,e),this.assets=new Z6(this,k(this,pe)),this.datasets=new hj(this,k(this,pe)),this.live=new Ib(this),this.mediaLibrary={video:new fj(this,k(this,pe))},this.projects=new _j(this,k(this,pe)),this.users=new Sj(this,k(this,pe)),this.agent={action:new X6(this,k(this,pe))},this.releases=new Tj(this,k(this,pe)),this.observable=new Dg(e,n)}clone(){return new Cf(k(this,pe),this.config())}config(e){if(e===void 0)return{...k(this,pr)};if(k(this,pr)&&k(this,pr).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),te(this,pr,QR(e,k(this,pr)||{})),this}withConfig(e){const n=this.config();return new Cf(k(this,pe),{...n,...e,stega:{...n.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,n,r){return se(rb(this,k(this,pe),k(this,pr).stega,e,n,r))}getDocument(e,n){if((n==null?void 0:n.includeAllVersions)===!0)return se(Ho(this,k(this,pe),e,{...n,includeAllVersions:!0}));const r={signal:n==null?void 0:n.signal,tag:n==null?void 0:n.tag,releaseId:n==null?void 0:n.releaseId,...n&&"includeAllVersions"in n?{includeAllVersions:!1}:{}};return se(Ho(this,k(this,pe),e,r))}getDocuments(e,n){return se(ib(this,k(this,pe),e,n))}create(e,n){return se(td(this,k(this,pe),e,"create",n))}createIfNotExists(e,n){return se(ob(this,k(this,pe),e,n))}createOrReplace(e,n){return se(ab(this,k(this,pe),e,n))}createVersion({document:e,publishedId:n,releaseId:r,baseId:i,ifBaseRevisionId:s},o){if(!e)return Wp(ub(this,k(this,pe),n,i,r,s,o));const a=nf("createVersion",{document:e,publishedId:n,releaseId:r}),l={...e,_id:a},c=n||ed(e._id);return Wp(lb(this,k(this,pe),l,c,o))}delete(e,n){return se(cb(this,k(this,pe),e,n))}discardVersion({releaseId:e,publishedId:n},r,i){const s=tf(n,e);return se(hb(this,k(this,pe),s,r,i))}replaceVersion({document:e,publishedId:n,releaseId:r},i){const s=nf("replaceVersion",{document:e,publishedId:n,releaseId:r}),o={...e,_id:s};return Wp(fb(this,k(this,pe),o,i))}unpublishVersion({releaseId:e,publishedId:n},r){const i=Du(n,e);return se(db(this,k(this,pe),i,n,r))}mutate(e,n){return se(pb(this,k(this,pe),e,n))}patch(e,n){return new ai(e,n,this)}transaction(e){return new Zh(e,this)}action(e,n){return se(Ve(this,k(this,pe),e,n))}request(e){return se(yt(this,k(this,pe),e))}dataRequest(e,n,r){return se(Ds(this,k(this,pe),e,n,r))}getUrl(e,n){return Qv(this,e,n)}getDataUrl(e,n){return Tn(this,e,n)}};pr=new WeakMap,pe=new WeakMap;let Ng=Cf;function Aj(t,e){return{requester:iI(t),createClient:n=>{const r=iI(t,{ignoreWarnings:n.ignoreWarnings});return new e((i,s)=>(s||r)({maxRedirects:0,maxRetries:n.maxRetries,retryDelay:n.retryDelay,...i}),n)}}}var Cj=[];const Pj=Aj(Cj,Ng),Rj=Pj.createClient,bj={VITE_APP_SANITY_DATASET:"localeffort",VITE_APP_SANITY_PROJECT_ID:"d6l9d0ea"},rf=(typeof import.meta<"u"?bj:{})||{},hI=rf.VITE_APP_SANITY_PROJECT_ID||rf.VITE_SANITY_PROJECT_ID,fI=rf.VITE_APP_SANITY_DATASET||rf.VITE_SANITY_DATASET;let sh=null;try{hI&&fI?sh=Rj({projectId:hI,dataset:fI,useCdn:!0,apiVersion:"2023-05-03"}):sh={fetch:async()=>{throw new Error("Sanity client unavailable")}}}catch(t){console.warn("Failed to initialize Sanity client:",t&&(t.message||t)),sh={fetch:async()=>{throw new Error("Sanity client unavailable")}}}const xj=sh;function kj(){var _,S;const[t,e]=V.useState(!1),[n,r]=V.useState(""),[i,s]=V.useState(null),[o,a]=V.useState([]),[l,c]=V.useState(!1),[h,f]=V.useState(null),d=((S=(_=import.meta)==null?void 0:_.env)==null?void 0:S.VITE_SUPPORT_KB_API)!=="false",g=async()=>{f(null),s(null),a([]);const w=(n||"").trim();if(w){c(!0);try{if(d){const y=await fetch(`/api/support/search?q=${encodeURIComponent(w)}`);if(!y.ok)throw new Error(await y.text());const E=await y.json();if(E.cached)a([]),s(E.answer);else{const b=(E.results||[]).map(O=>({_id:O.id||O.chunk_id,question:O.heading||"Result",answer:O.text}));a(b),(!b||b.length===0)&&/estimate|price|cost|calculator|budget/i.test(w)&&s("Try the Pricing estimator on the Pricing page for a tailored ballpark.")}}else{const y=`*${w}*`,E=await xj.fetch('*[_type == "pricingFaq" && (question match $q || answer match $q)] | order(_updatedAt desc)[0...10]{ _id, question, answer }',{q:y});a(Array.isArray(E)?E:[])}(!o||o.length===0)&&s("We couldn't find an instant answer. Send us a note and we'll reply fast.")}catch(y){f((y==null?void 0:y.message)||"Search failed"),s("Search is temporarily unavailable. Send us a note and we'll reply fast.")}finally{c(!1)}}},v=async w=>{w.preventDefault();const y=new FormData(w.target),E=Object.fromEntries(y.entries());(await fetch("/api/messages/submit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(E)})).ok&&(s("Thanks! We'll get back to you shortly."),w.target.reset())};return M.createElement("div",{className:"fixed bottom-4 right-4 z-50"},t&&M.createElement("div",{className:"w-80 rounded-lg shadow-xl border bg-white p-3"},M.createElement("div",{className:"flex justify-between items-center mb-2"},M.createElement("h3",{className:"font-semibold"},"Need help?"),M.createElement("button",{onClick:()=>e(!1),className:"text-sm text-gray-500"},"Close")),M.createElement("div",{className:"space-y-2"},M.createElement("div",null,M.createElement("input",{className:"w-full border p-2",placeholder:"Search FAQs",value:n,onChange:w=>r(w.target.value)}),M.createElement("button",{className:"mt-1 px-3 py-1 bg-black text-white rounded",onClick:g,disabled:l},l?"Searching":"Search"),h&&M.createElement("p",{className:"text-sm text-red-700 mt-1"},h),o.length>0&&M.createElement("ul",{className:"mt-2 space-y-2 max-h-48 overflow-auto"},o.map(w=>M.createElement("li",{key:w._id,className:"border rounded p-2"},M.createElement("p",{className:"font-medium text-sm"},w.question),w.answer&&M.createElement("p",{className:"text-sm text-gray-700 mt-1 whitespace-pre-wrap"},w.answer)))),i&&o.length===0&&M.createElement("p",{className:"text-sm text-gray-700 mt-1"},i),!i&&o.length===0&&!l&&M.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Tip: try keywords like meal prep, events, or pricing.")),M.createElement("form",{className:"space-y-2",onSubmit:v},M.createElement("input",{name:"name",className:"w-full border p-2",placeholder:"Your name"}),M.createElement("input",{name:"email",type:"email",required:!0,className:"w-full border p-2",placeholder:"Email"}),M.createElement("input",{name:"subject",className:"w-full border p-2",placeholder:"Subject"}),M.createElement("textarea",{name:"message",required:!0,className:"w-full border p-2 h-24",placeholder:"How can we help?"}),M.createElement("button",{className:"px-3 py-2 bg-emerald-600 text-white rounded",type:"submit"},"Send")))),M.createElement("button",{onClick:()=>e(!t),className:"px-4 py-2 rounded-full bg-black text-white shadow","aria-label":"get help"},"get help"))}const Vj=()=>{};var dI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Dj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(d=64)),r.push(n[h],n[f],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new Nj;const d=s<<2|a>>4;if(r.push(d),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oj=function(t){const e=Cb(t);return Pb.encodeByteArray(e,!0)},sf=function(t){return Oj(t).replace(/\./g,"")},Rb=function(t){try{return Pb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=()=>Mj().__FIREBASE_DEFAULTS__,Fj=()=>{if(typeof process>"u"||typeof dI>"u")return;const t=dI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Uj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rb(t[1]);return e&&JSON.parse(e)},nd=()=>{try{return Vj()||Lj()||Fj()||Uj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bb=t=>{var e,n;return(n=(e=nd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},jj=t=>{const e=bb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xb=()=>{var t;return(t=nd())==null?void 0:t.config},kb=t=>{var e;return(e=nd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sf(JSON.stringify(n)),sf(JSON.stringify(o)),""].join(".")}const gl={};function zj(){const t={prod:[],emulator:[]};for(const e of Object.keys(gl))gl[e]?t.emulator.push(e):t.prod.push(e);return t}function qj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pI=!1;function Db(t,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||gl[t]===e||gl[t]||pI)return;gl[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=zj().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,g){d.setAttribute("width","24"),d.setAttribute("id",g),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{pI=!0,o()},d}function h(d,g){d.setAttribute("id",g),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=qj(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),_=n("learnmore"),S=document.getElementById(_)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const E=d.element;a(E),h(S,_);const b=c();l(y,w),E.append(y,v,S,b),document.body.appendChild(E)}s?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function Hj(){var e;const t=(e=nd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yj(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Xj(){return!Hj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jj(){try{return typeof indexedDB=="object"}catch{return!1}}function Zj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$="FirebaseError";class jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=e$,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?t$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new jr(i,a,r)}}function t$(t,e){return t.replace(n$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const n$=/\{\$([^}]+)}/g;function r$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ss(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mI(s)&&mI(o)){if(!Ss(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function i$(t,e){const n=new s$(t,e);return n.subscribe.bind(n)}class s${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");o$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yp),i.error===void 0&&(i.error=Yp),i.complete===void 0&&(i.complete=Yp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $j;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u$(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l$(t){return t===Ji?void 0:t}function u$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const h$={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},f$=ae.INFO,d$={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},p$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=d$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yv{constructor(e){this.name=e,this._logLevel=f$,this._logHandler=p$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const m$=(t,e)=>e.some(n=>t instanceof n);let gI,yI;function g$(){return gI||(gI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y$(){return yI||(yI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nb=new WeakMap,Og=new WeakMap,Ob=new WeakMap,Xp=new WeakMap,Xv=new WeakMap;function v$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Nb.set(n,t)}).catch(()=>{}),Xv.set(e,t),e}function _$(t){if(Og.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Og.set(t,e)}let Mg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ob.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w$(t){Mg=t(Mg)}function E$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jp(this),e,...n);return Ob.set(r,e.sort?e.sort():[e]),vi(r)}:y$().includes(t)?function(...e){return t.apply(Jp(this),e),vi(Nb.get(this))}:function(...e){return vi(t.apply(Jp(this),e))}}function T$(t){return typeof t=="function"?E$(t):(t instanceof IDBTransaction&&_$(t),m$(t,g$())?new Proxy(t,Mg):t)}function vi(t){if(t instanceof IDBRequest)return v$(t);if(Xp.has(t))return Xp.get(t);const e=T$(t);return e!==t&&(Xp.set(t,e),Xv.set(e,t)),e}const Jp=t=>Xv.get(t);function I$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vi(o.result),l.oldVersion,l.newVersion,vi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const S$=["get","getKey","getAll","getAllKeys","count"],A$=["put","add","delete","clear"],Zp=new Map;function vI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=A$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S$.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Zp.set(e,s),s}w$(t=>({...t,get:(e,n,r)=>vI(e,n)||t.get(e,n,r),has:(e,n)=>!!vI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function P$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lg="@firebase/app",_I="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Yv("@firebase/app"),R$="@firebase/app-compat",b$="@firebase/analytics-compat",x$="@firebase/analytics",k$="@firebase/app-check-compat",V$="@firebase/app-check",D$="@firebase/auth",N$="@firebase/auth-compat",O$="@firebase/database",M$="@firebase/data-connect",L$="@firebase/database-compat",F$="@firebase/functions",U$="@firebase/functions-compat",j$="@firebase/installations",$$="@firebase/installations-compat",B$="@firebase/messaging",z$="@firebase/messaging-compat",q$="@firebase/performance",W$="@firebase/performance-compat",H$="@firebase/remote-config",G$="@firebase/remote-config-compat",K$="@firebase/storage",Q$="@firebase/storage-compat",Y$="@firebase/firestore",X$="@firebase/ai",J$="@firebase/firestore-compat",Z$="firebase",e9="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="[DEFAULT]",t9={[Lg]:"fire-core",[R$]:"fire-core-compat",[x$]:"fire-analytics",[b$]:"fire-analytics-compat",[V$]:"fire-app-check",[k$]:"fire-app-check-compat",[D$]:"fire-auth",[N$]:"fire-auth-compat",[O$]:"fire-rtdb",[M$]:"fire-data-connect",[L$]:"fire-rtdb-compat",[F$]:"fire-fn",[U$]:"fire-fn-compat",[j$]:"fire-iid",[$$]:"fire-iid-compat",[B$]:"fire-fcm",[z$]:"fire-fcm-compat",[q$]:"fire-perf",[W$]:"fire-perf-compat",[H$]:"fire-rc",[G$]:"fire-rc-compat",[K$]:"fire-gcs",[Q$]:"fire-gcs-compat",[Y$]:"fire-fst",[J$]:"fire-fst-compat",[X$]:"fire-vertex","fire-js":"fire-js",[Z$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Map,n9=new Map,Ug=new Map;function wI(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(Ug.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Ug.set(e,t);for(const n of of.values())wI(n,t);for(const n of n9.values())wI(n,t);return!0}function Jv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new Mu("app","Firebase",r9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=e9;function Mb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Fg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw _i.create("bad-app-name",{appName:String(i)});if(n||(n=xb()),!n)throw _i.create("no-options");const s=of.get(i);if(s){if(Ss(n,s.options)&&Ss(r,s.config))return s;throw _i.create("duplicate-app",{appName:i})}const o=new c$(i);for(const l of Ug.values())o.addComponent(l);const a=new i9(n,r,o);return of.set(i,a),a}function Lb(t=Fg){const e=of.get(t);if(!e&&t===Fg&&xb())return Mb();if(!e)throw _i.create("no-app",{appName:t});return e}function wi(t,e,n){let r=t9[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(o.join(" "));return}Go(new As(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9="firebase-heartbeat-database",o9=1,Gl="firebase-heartbeat-store";let em=null;function Fb(){return em||(em=I$(s9,o9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),em}async function a9(t){try{const n=(await Fb()).transaction(Gl),r=await n.objectStore(Gl).get(Ub(t));return await n.done,r}catch(e){if(e instanceof jr)Dr.warn(e.message);else{const n=_i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(n.message)}}}async function EI(t,e){try{const r=(await Fb()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,Ub(t)),await r.done}catch(n){if(n instanceof jr)Dr.warn(n.message);else{const r=_i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(r.message)}}}function Ub(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=1024,u9=30;class c9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=TI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>u9){const o=d9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TI(),{heartbeatsToSend:r,unsentEntries:i}=h9(this._heartbeatsCache.heartbeats),s=sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dr.warn(n),""}}}function TI(){return new Date().toISOString().substring(0,10)}function h9(t,e=l9){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),II(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),II(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class f9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jj()?Zj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return EI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return EI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function II(t){return sf(JSON.stringify({version:2,heartbeats:t})).length}function d9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){Go(new As("platform-logger",e=>new C$(e),"PRIVATE")),Go(new As("heartbeat",e=>new c9(e),"PRIVATE")),wi(Lg,_I,t),wi(Lg,_I,"esm2020"),wi("fire-js","")}p9("");function jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m9=jb,$b=new Mu("auth","Firebase",jb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Yv("@firebase/auth");function g9(t,...e){af.logLevel<=ae.WARN&&af.warn(`Auth (${fa}): ${t}`,...e)}function oh(t,...e){af.logLevel<=ae.ERROR&&af.error(`Auth (${fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw e_(t,...e)}function Vn(t,...e){return e_(t,...e)}function Zv(t,e,n){const r={...m9(),[e]:n};return new Mu("auth","Firebase",r).create(e,{appName:t.name})}function Ei(t){return Zv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xn(t,"argument-error"),Zv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function e_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $b.create(t,...e)}function ee(t,e,...n){if(!t)throw e_(e,...n)}function _r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw oh(e),new Error(e)}function Nr(t,e){t||_r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function y9(){return SI()==="http:"||SI()==="https:"}function SI(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y9()||Kj()||"connection"in navigator)?navigator.onLine:!0}function _9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=Wj()||Qj()}get(){return v9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e){Nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T9=new Fu(3e4,6e4);function n_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function da(t,e,n,r,i={}){return qb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Lu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return Gj()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ha(t.emulatorConfig.host)&&(c.credentials="include"),zb.fetch()(await Wb(t,t.config.apiHost,n,a),c)})}async function qb(t,e,n){t._canInitEmulator=!1;const r={...w9,...e};try{const i=new S9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Nc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Nc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Nc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Zv(t,h,c);Xn(t,h)}}catch(i){if(i instanceof jr)throw i;Xn(t,"network-request-failed",{message:String(i)})}}async function I9(t,e,n,r,i={}){const s=await da(t,e,n,r,i);return"mfaPendingCredential"in s&&Xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Wb(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?t_(t.config,i):`${t.config.apiScheme}://${i}`;return E9.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class S9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vn(this.auth,"network-request-failed")),T9.get())})}}function Nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(t,e){return da(t,"POST","/v1/accounts:delete",e)}async function lf(t,e){return da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C9(t,e=!1){const n=ut(t),r=await n.getIdToken(e),i=r_(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yl(tm(i.auth_time)),issuedAtTime:yl(tm(i.iat)),expirationTime:yl(tm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tm(t){return Number(t)*1e3}function r_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rb(n);return i?JSON.parse(i):(oh("Failed to decode base64 JWT payload"),null)}catch(i){return oh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function AI(t){const e=r_(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof jr&&P9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function P9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Kl(t,lf(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?Hb(i.providerUserInfo):[],o=x9(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new $g(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function b9(t){const e=ut(t);await uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Hb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(t,e){const n=await qb(t,{},async()=>{const r=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Wb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ha(t.emulatorConfig.host)&&(l.credentials="include"),zb.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V9(t,e){return da(t,"POST","/v2/accounts:revokeToken",n_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=AI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await k9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new To;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new R9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $g(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C9(this,e)}reload(){return b9(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await Kl(this,A9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:g,providerData:v,stsTokenManager:_}=n;ee(f&&_,e,"internal-error");const S=To.fromJSON(this.name,_);ee(typeof f=="string",e,"internal-error"),Wr(r,e.name),Wr(i,e.name),ee(typeof d=="boolean",e,"internal-error"),ee(typeof g=="boolean",e,"internal-error"),Wr(s,e.name),Wr(o,e.name),Wr(a,e.name),Wr(l,e.name),Wr(c,e.name),Wr(h,e.name);const w=new bn({uid:f,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:S,createdAt:c,lastLoginAt:h});return v&&Array.isArray(v)&&(w.providerData=v.map(y=>({...y}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new To;i.updateFromServerResponse(n);const s=new bn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Hb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new To;a.updateFromIdToken(r);const l=new bn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $g(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new Map;function wr(t){Nr(t instanceof Function,"Expected a class definition");let e=CI.get(t);return e?(Nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Gb.type="NONE";const PI=Gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ah(this.userKey,i.apiKey,s),this.fullPersistenceKey=ah("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lf(this.auth,{idToken:e}).catch(()=>{});return n?bn._fromGetAccountInfoResponse(this.auth,n,e):null}return bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(wr(PI),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||wr(PI);const o=ah(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let f;if(typeof h=="string"){const d=await lf(e,{idToken:h}).catch(()=>{});if(!d)break;f=await bn._fromGetAccountInfoResponse(e,d,h)}else f=bn._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Io(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Io(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zb(e))return"Blackberry";if(ex(e))return"Webos";if(Qb(e))return"Safari";if((e.includes("chrome/")||Yb(e))&&!e.includes("edge/"))return"Chrome";if(Jb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Kb(t=kt()){return/firefox\//i.test(t)}function Qb(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yb(t=kt()){return/crios\//i.test(t)}function Xb(t=kt()){return/iemobile/i.test(t)}function Jb(t=kt()){return/android/i.test(t)}function Zb(t=kt()){return/blackberry/i.test(t)}function ex(t=kt()){return/webos/i.test(t)}function i_(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D9(t=kt()){var e;return i_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function N9(){return Yj()&&document.documentMode===10}function tx(t=kt()){return i_(t)||Jb(t)||ex(t)||Zb(t)||/windows phone/i.test(t)||Xb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t,e=[]){let n;switch(t){case"Browser":n=RI(kt());break;case"Worker":n=`${RI(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t,e={}){return da(t,"GET","/v2/passwordPolicy",n_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=6;class F9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??L9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bI(this),this.idTokenSubscription=new bI(this),this.beforeStateQueue=new O9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lf(this,{idToken:e}),r=await bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(Ei(this));const n=e?ut(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M9(this),n=new F9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await V9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&g9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function pa(t){return ut(t)}class bI{constructor(e){this.auth=e,this.observer=null,this.addObserver=i$(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j9(t){s_=t}function $9(t){return s_.loadJS(t)}function B9(){return s_.gapiScript}function z9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t,e){const n=Jv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ss(s,e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}function W9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function H9(t,e,n){const r=pa(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=rx(e),{host:o,port:a}=G9(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Ss(c,r.config.emulator)&&Ss(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ha(o)?(Vb(`${s}//${o}${l}`),Db("Auth",!0)):K9()}function rx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function G9(t){const e=rx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:xI(o)}}}function xI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,n){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e){return I9(t,"POST","/v1/accounts:signInWithIdp",n_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9="http://localhost";class Cs extends ix{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Cs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:Q9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends rd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Uu{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Uu{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Uu{constructor(){super("twitter.com")}static credential(e,n){return Cs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await bn._fromIdTokenResponse(e,r,i),o=kI(r);return new Ko({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kI(r);return new Ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends jr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cf(e,n,r,i)}}function sx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cf._fromErrorAndOperation(t,s,e,r):s})}async function Y9(t,e,n=!1){const r=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X9(t,e,n=!1){const{auth:r}=t;if(pn(r.app))return Promise.reject(Ei(r));const i="reauthenticate";try{const s=await Kl(t,sx(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=r_(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),Ko._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(t,e,n=!1){if(pn(t.app))return Promise.reject(Ei(t));const r="signIn",i=await sx(t,r,e),s=await Ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function Z9(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function eB(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function ox(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function tB(t){return ut(t).signOut()}const hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=1e3,rB=10;class lx extends ax{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);N9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lx.type="LOCAL";const iB=lx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends ax{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ux.type="SESSION";const cx=ux;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new id(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await sB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=o_("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function aB(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function lB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function cB(){return hx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="firebaseLocalStorageDb",hB=1,ff="firebaseLocalStorage",dx="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sd(t,e){return t.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function fB(){const t=indexedDB.deleteDatabase(fx);return new ju(t).toPromise()}function Bg(){const t=indexedDB.open(fx,hB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ff,{keyPath:dx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ff)?e(r):(r.close(),await fB(),e(await Bg()))})})}async function VI(t,e,n){const r=sd(t,!0).put({[dx]:e,value:n});return new ju(r).toPromise()}async function dB(t,e){const n=sd(t,!1).get(e),r=await new ju(n).toPromise();return r===void 0?null:r.value}function DI(t,e){const n=sd(t,!0).delete(e);return new ju(n).toPromise()}const pB=800,mB=3;class px{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(cB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await lB(),!this.activeServiceWorker)return;this.sender=new oB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bg();return await VI(e,hf,"1"),await DI(e,hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sd(i,!1).getAll();return new ju(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}px.type="LOCAL";const gB=px;new Fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e){return e?wr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_ extends ix{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yB(t){return J9(t.auth,new l_(t),t.bypassAuthState)}function vB(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),X9(n,new l_(t),t.bypassAuthState)}async function _B(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),Y9(n,new l_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yB;case"linkViaPopup":case"linkViaRedirect":return _B;case"reauthViaPopup":case"reauthViaRedirect":return vB;default:Xn(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=new Fu(2e3,1e4);async function EB(t,e,n){if(pn(t.app))return Promise.reject(Vn(t,"operation-not-supported-in-this-environment"));const r=pa(t);Bb(t,e,rd);const i=a_(r,n);return new ss(r,"signInViaPopup",e,i).executeNotNull()}class ss extends mx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=o_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wB.get())};e()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB="pendingRedirect",lh=new Map;class IB extends mx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const r=await SB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SB(t,e){const n=yx(e),r=gx(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function AB(t,e){return gx(t)._set(yx(e),"true")}function CB(t,e){lh.set(t._key(),e)}function gx(t){return wr(t._redirectPersistence)}function yx(t){return ah(TB,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t,e,n){return PB(t,e,n)}async function PB(t,e,n){if(pn(t.app))return Promise.reject(Ei(t));const r=pa(t);Bb(t,e,rd),await r._initializationPromise;const i=a_(r,n);return await AB(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function m7(t,e){return await pa(t)._initializationPromise,vx(t,e,!1)}async function vx(t,e,n=!1){if(pn(t.app))return Promise.reject(Ei(t));const r=pa(t),i=a_(r,e),o=await new IB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=10*60*1e3;class bB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_x(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RB&&this.cachedEventUids.clear(),this.cachedEventUids.has(NI(e))}saveEventToCache(e){this.cachedEventUids.add(NI(e)),this.lastProcessedEventTime=Date.now()}}function NI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _x({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _x(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kB(t,e={}){return da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DB=/^https?/;async function NB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kB(t);for(const n of e)try{if(OB(n))return}catch{}Xn(t,"unauthorized-domain")}function OB(t){const e=jg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!DB.test(n))return!1;if(VB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=new Fu(3e4,6e4);function OI(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LB(t){return new Promise((e,n)=>{var i,s,o;function r(){OI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OI(),n(Vn(t,"network-request-failed"))},timeout:MB.get()})}if((s=(i=Hn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Hn().gapi)!=null&&o.load)r();else{const a=z9("iframefcb");return Hn()[a]=()=>{gapi.load?r():n(Vn(t,"network-request-failed"))},$9(`${B9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw uh=null,e})}let uh=null;function FB(t){return uh=uh||LB(t),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=new Fu(5e3,15e3),jB="__/auth/iframe",$B="emulator/auth/iframe",BB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qB(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?t_(e,$B):`https://${t.config.authDomain}/${jB}`,r={apiKey:e.apiKey,appName:t.name,v:fa},i=zB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Lu(r).slice(1)}`}async function WB(t){const e=await FB(t),n=Hn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:qB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Vn(t,"network-request-failed"),a=Hn().setTimeout(()=>{s(o)},UB.get());function l(){Hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GB=500,KB=600,QB="_blank",YB="http://localhost";class MI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XB(t,e,n,r=GB,i=KB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...HB,width:r.toString(),height:i.toString(),top:s,left:o},c=kt().toLowerCase();n&&(a=Yb(c)?QB:n),Kb(c)&&(e=e||YB,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[g,v])=>`${d}${g}=${v},`,"");if(D9(c)&&a!=="_self")return JB(e||"",a),new MI(null);const f=window.open(e||"",a,h);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new MI(f)}function JB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="__/auth/handler",e5="emulator/auth/handler",t5=encodeURIComponent("fac");async function LI(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fa,eventId:i};if(e instanceof rd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",r$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Uu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${t5}=${encodeURIComponent(l)}`:"";return`${n5(t)}?${Lu(a).slice(1)}${c}`}function n5({config:t}){return t.emulator?t_(t,e5):`https://${t.authDomain}/${ZB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="webStorageSupport";class r5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cx,this._completeRedirectFn=vx,this._overrideRedirectResult=CB}async _openPopup(e,n,r,i){var o;Nr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await LI(e,n,r,jg(),i);return XB(e,s,o_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await LI(e,n,r,jg(),i);return aB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Nr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await WB(e),r=new bB(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nm,{type:nm},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[nm];s!==void 0&&n(!!s),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tx()||Qb()||i_()}}const i5=r5;var FI="@firebase/auth",UI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a5(t){Go(new As("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nx(t)},c=new U9(r,i,s,l);return W9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Go(new As("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(r=>new s5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(FI,UI,o5(t)),wi(FI,UI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=5*60,u5=kb("authIdTokenMaxAge")||l5;let jI=null;const c5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>u5)return;const i=n==null?void 0:n.token;jI!==i&&(jI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function h5(t=Lb()){const e=Jv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=q9(t,{popupRedirectResolver:i5,persistence:[gB,iB,cx]}),r=kb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=c5(s.toString());eB(n,o,()=>o(n.currentUser)),Z9(n,a=>o(a))}}const i=bb("auth");return i&&H9(n,`http://${i}`),n}function f5(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}j9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",f5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a5("Browser");var d5="firebase",p5="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(d5,p5,"app");var $I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,wx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function C(){}C.prototype=T.prototype,A.D=T.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(P,x,D){for(var R=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)R[Vt-2]=arguments[Vt];return T.prototype[x].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,C){C||(C=0);var P=Array(16);if(typeof T=="string")for(var x=0;16>x;++x)P[x]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(x=0;16>x;++x)P[x]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=A.g[0],C=A.g[1],x=A.g[2];var D=A.g[3],R=T+(D^C&(x^D))+P[0]+3614090360&4294967295;T=C+(R<<7&4294967295|R>>>25),R=D+(x^T&(C^x))+P[1]+3905402710&4294967295,D=T+(R<<12&4294967295|R>>>20),R=x+(C^D&(T^C))+P[2]+606105819&4294967295,x=D+(R<<17&4294967295|R>>>15),R=C+(T^x&(D^T))+P[3]+3250441966&4294967295,C=x+(R<<22&4294967295|R>>>10),R=T+(D^C&(x^D))+P[4]+4118548399&4294967295,T=C+(R<<7&4294967295|R>>>25),R=D+(x^T&(C^x))+P[5]+1200080426&4294967295,D=T+(R<<12&4294967295|R>>>20),R=x+(C^D&(T^C))+P[6]+2821735955&4294967295,x=D+(R<<17&4294967295|R>>>15),R=C+(T^x&(D^T))+P[7]+4249261313&4294967295,C=x+(R<<22&4294967295|R>>>10),R=T+(D^C&(x^D))+P[8]+1770035416&4294967295,T=C+(R<<7&4294967295|R>>>25),R=D+(x^T&(C^x))+P[9]+2336552879&4294967295,D=T+(R<<12&4294967295|R>>>20),R=x+(C^D&(T^C))+P[10]+4294925233&4294967295,x=D+(R<<17&4294967295|R>>>15),R=C+(T^x&(D^T))+P[11]+2304563134&4294967295,C=x+(R<<22&4294967295|R>>>10),R=T+(D^C&(x^D))+P[12]+1804603682&4294967295,T=C+(R<<7&4294967295|R>>>25),R=D+(x^T&(C^x))+P[13]+4254626195&4294967295,D=T+(R<<12&4294967295|R>>>20),R=x+(C^D&(T^C))+P[14]+2792965006&4294967295,x=D+(R<<17&4294967295|R>>>15),R=C+(T^x&(D^T))+P[15]+1236535329&4294967295,C=x+(R<<22&4294967295|R>>>10),R=T+(x^D&(C^x))+P[1]+4129170786&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^x&(T^C))+P[6]+3225465664&4294967295,D=T+(R<<9&4294967295|R>>>23),R=x+(T^C&(D^T))+P[11]+643717713&4294967295,x=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(x^D))+P[0]+3921069994&4294967295,C=x+(R<<20&4294967295|R>>>12),R=T+(x^D&(C^x))+P[5]+3593408605&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^x&(T^C))+P[10]+38016083&4294967295,D=T+(R<<9&4294967295|R>>>23),R=x+(T^C&(D^T))+P[15]+3634488961&4294967295,x=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(x^D))+P[4]+3889429448&4294967295,C=x+(R<<20&4294967295|R>>>12),R=T+(x^D&(C^x))+P[9]+568446438&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^x&(T^C))+P[14]+3275163606&4294967295,D=T+(R<<9&4294967295|R>>>23),R=x+(T^C&(D^T))+P[3]+4107603335&4294967295,x=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(x^D))+P[8]+1163531501&4294967295,C=x+(R<<20&4294967295|R>>>12),R=T+(x^D&(C^x))+P[13]+2850285829&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^x&(T^C))+P[2]+4243563512&4294967295,D=T+(R<<9&4294967295|R>>>23),R=x+(T^C&(D^T))+P[7]+1735328473&4294967295,x=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(x^D))+P[12]+2368359562&4294967295,C=x+(R<<20&4294967295|R>>>12),R=T+(C^x^D)+P[5]+4294588738&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^x)+P[8]+2272392833&4294967295,D=T+(R<<11&4294967295|R>>>21),R=x+(D^T^C)+P[11]+1839030562&4294967295,x=D+(R<<16&4294967295|R>>>16),R=C+(x^D^T)+P[14]+4259657740&4294967295,C=x+(R<<23&4294967295|R>>>9),R=T+(C^x^D)+P[1]+2763975236&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^x)+P[4]+1272893353&4294967295,D=T+(R<<11&4294967295|R>>>21),R=x+(D^T^C)+P[7]+4139469664&4294967295,x=D+(R<<16&4294967295|R>>>16),R=C+(x^D^T)+P[10]+3200236656&4294967295,C=x+(R<<23&4294967295|R>>>9),R=T+(C^x^D)+P[13]+681279174&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^x)+P[0]+3936430074&4294967295,D=T+(R<<11&4294967295|R>>>21),R=x+(D^T^C)+P[3]+3572445317&4294967295,x=D+(R<<16&4294967295|R>>>16),R=C+(x^D^T)+P[6]+76029189&4294967295,C=x+(R<<23&4294967295|R>>>9),R=T+(C^x^D)+P[9]+3654602809&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^x)+P[12]+3873151461&4294967295,D=T+(R<<11&4294967295|R>>>21),R=x+(D^T^C)+P[15]+530742520&4294967295,x=D+(R<<16&4294967295|R>>>16),R=C+(x^D^T)+P[2]+3299628645&4294967295,C=x+(R<<23&4294967295|R>>>9),R=T+(x^(C|~D))+P[0]+4096336452&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~x))+P[7]+1126891415&4294967295,D=T+(R<<10&4294967295|R>>>22),R=x+(T^(D|~C))+P[14]+2878612391&4294967295,x=D+(R<<15&4294967295|R>>>17),R=C+(D^(x|~T))+P[5]+4237533241&4294967295,C=x+(R<<21&4294967295|R>>>11),R=T+(x^(C|~D))+P[12]+1700485571&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~x))+P[3]+2399980690&4294967295,D=T+(R<<10&4294967295|R>>>22),R=x+(T^(D|~C))+P[10]+4293915773&4294967295,x=D+(R<<15&4294967295|R>>>17),R=C+(D^(x|~T))+P[1]+2240044497&4294967295,C=x+(R<<21&4294967295|R>>>11),R=T+(x^(C|~D))+P[8]+1873313359&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~x))+P[15]+4264355552&4294967295,D=T+(R<<10&4294967295|R>>>22),R=x+(T^(D|~C))+P[6]+2734768916&4294967295,x=D+(R<<15&4294967295|R>>>17),R=C+(D^(x|~T))+P[13]+1309151649&4294967295,C=x+(R<<21&4294967295|R>>>11),R=T+(x^(C|~D))+P[4]+4149444226&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~x))+P[11]+3174756917&4294967295,D=T+(R<<10&4294967295|R>>>22),R=x+(T^(D|~C))+P[2]+718787259&4294967295,x=D+(R<<15&4294967295|R>>>17),R=C+(D^(x|~T))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+x&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var C=T-this.blockSize,P=this.B,x=this.h,D=0;D<T;){if(x==0)for(;D<=C;)i(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<T;)if(P[x++]=A.charCodeAt(D++),x==this.blockSize){i(this,P),x=0;break}}else for(;D<T;)if(P[x++]=A[D++],x==this.blockSize){i(this,P),x=0;break}}this.h=x,this.o+=T},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var C=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=C&255,C/=256;for(this.u(A),A=Array(16),T=C=0;4>T;++T)for(var P=0;32>P;P+=8)A[C++]=this.g[T]>>>P&255;return A};function s(A,T){var C=a;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=T(A)}function o(A,T){this.h=T;for(var C=[],P=!0,x=A.length-1;0<=x;x--){var D=A[x]|0;P&&D==T||(C[x]=D,P=!1)}this.g=C}var a={};function l(A){return-128<=A&&128>A?s(A,function(T){return new o([T|0],0>T?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return S(c(-A));for(var T=[],C=1,P=0;A>=C;P++)T[P]=A/C|0,C*=4294967296;return new o(T,0)}function h(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return S(h(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(T,8)),P=f,x=0;x<A.length;x+=8){var D=Math.min(8,A.length-x),R=parseInt(A.substring(x,x+D),T);8>D?(D=c(Math.pow(T,D)),P=P.j(D).add(c(R))):(P=P.j(C),P=P.add(c(R)))}return P}var f=l(0),d=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-S(this).m();for(var A=0,T=1,C=0;C<this.g.length;C++){var P=this.i(C);A+=(0<=P?P:4294967296+P)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(v(this))return"0";if(_(this))return"-"+S(this).toString(A);for(var T=c(Math.pow(A,6)),C=this,P="";;){var x=b(C,T).g;C=w(C,x.j(T));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=x,v(C))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function v(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function _(A){return A.h==-1}t.l=function(A){return A=w(this,A),_(A)?-1:v(A)?0:1};function S(A){for(var T=A.g.length,C=[],P=0;P<T;P++)C[P]=~A.g[P];return new o(C,~A.h).add(d)}t.abs=function(){return _(this)?S(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],P=0,x=0;x<=T;x++){var D=P+(this.i(x)&65535)+(A.i(x)&65535),R=(D>>>16)+(this.i(x)>>>16)+(A.i(x)>>>16);P=R>>>16,D&=65535,R&=65535,C[x]=R<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(A,T){return A.add(S(T))}t.j=function(A){if(v(this)||v(A))return f;if(_(this))return _(A)?S(this).j(S(A)):S(S(this).j(A));if(_(A))return S(this.j(S(A)));if(0>this.l(g)&&0>A.l(g))return c(this.m()*A.m());for(var T=this.g.length+A.g.length,C=[],P=0;P<2*T;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<A.g.length;x++){var D=this.i(P)>>>16,R=this.i(P)&65535,Vt=A.i(x)>>>16,On=A.i(x)&65535;C[2*P+2*x]+=R*On,y(C,2*P+2*x),C[2*P+2*x+1]+=D*On,y(C,2*P+2*x+1),C[2*P+2*x+1]+=R*Vt,y(C,2*P+2*x+1),C[2*P+2*x+2]+=D*Vt,y(C,2*P+2*x+2)}for(P=0;P<T;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=T;P<2*T;P++)C[P]=0;return new o(C,0)};function y(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function E(A,T){this.g=A,this.h=T}function b(A,T){if(v(T))throw Error("division by zero");if(v(A))return new E(f,f);if(_(A))return T=b(S(A),T),new E(S(T.g),S(T.h));if(_(T))return T=b(A,S(T)),new E(S(T.g),T.h);if(30<A.g.length){if(_(A)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var C=d,P=T;0>=P.l(A);)C=O(C),P=O(P);var x=F(C,1),D=F(P,1);for(P=F(P,2),C=F(C,2);!v(P);){var R=D.add(P);0>=R.l(A)&&(x=x.add(C),D=R),P=F(P,1),C=F(C,1)}return T=w(A,x.j(T)),new E(x,T)}for(x=f;0<=A.l(T);){for(C=Math.max(1,Math.floor(A.m()/T.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(C),R=D.j(T);_(R)||0<R.l(A);)C-=P,D=c(C),R=D.j(T);v(D)&&(D=d),x=x.add(D),A=w(A,R)}return new E(x,A)}t.A=function(A){return b(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)&A.i(P);return new o(C,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)|A.i(P);return new o(C,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)^A.i(P);return new o(C,this.h^A.h)};function O(A){for(var T=A.g.length+1,C=[],P=0;P<T;P++)C[P]=A.i(P)<<1|A.i(P-1)>>>31;return new o(C,A.h)}function F(A,T){var C=T>>5;T%=32;for(var P=A.g.length-C,x=[],D=0;D<P;D++)x[D]=0<T?A.i(D+C)>>>T|A.i(D+C+1)<<32-T:A.i(D+C);return new o(x,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Ti=o}).apply(typeof $I<"u"?$I:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ex,Ya,Tx,ch,zg,Ix,Sx,Ax;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var m=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var N=u[I];if(!(N in m))break e;m=m[N]}u=u[u.length-1],I=m[u],p=p(I),p!=I&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var m=0,I=!1,N={next:function(){if(!I&&m<u.length){var L=m++;return{value:p(L,u[L]),done:!1}}return I=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,m){return u.call.apply(u.bind,arguments)}function f(u,p,m){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,I),u.apply(p,N)}}return function(){return u.apply(p,arguments)}}function d(u,p,m){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var I=m.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function v(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(I,N,L){for(var z=Array(arguments.length-2),we=2;we<arguments.length;we++)z[we-2]=arguments[we];return p.prototype[N].apply(I,z)}}function _(u){const p=u.length;if(0<p){const m=Array(p);for(let I=0;I<p;I++)m[I]=u[I];return m}return[]}function S(u,p){for(let m=1;m<arguments.length;m++){const I=arguments[m];if(l(I)){const N=u.length||0,L=I.length||0;u.length=N+L;for(let z=0;z<L;z++)u[N+z]=I[z]}else u.push(I)}}class w{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function b(u){return b[" "](u),u}b[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function F(u,p,m){for(const I in u)p.call(m,u[I],I,u)}function A(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function T(u){const p={};for(const m in u)p[m]=u[m];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let m,I;for(let N=1;N<arguments.length;N++){I=arguments[N];for(m in I)u[m]=I[m];for(let L=0;L<C.length;L++)m=C[L],Object.prototype.hasOwnProperty.call(I,m)&&(u[m]=I[m])}}function x(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function D(u){a.setTimeout(()=>{throw u},0)}function R(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Vt{constructor(){this.h=this.g=null}add(p,m){const I=On.get();I.set(p,m),this.h?this.h.next=I:this.g=I,this.h=I}}var On=new w(()=>new Ms,u=>u.reset());class Ms{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,B=!1,K=new Vt,J=()=>{const u=a.Promise.resolve(void 0);ve=()=>{u.then(Ie)}};var Ie=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(m){D(m)}var p=On;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}B=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var tr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function nr(u,p){if(ze.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(O){e:{try{b(p.nodeName);var N=!0;break e}catch{}N=!1}N||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:rr[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&nr.aa.h.call(this)}}v(nr,ze);var rr={2:"touch",3:"pen",4:"mouse"};nr.prototype.h=function(){nr.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ir="closure_listenable_"+(1e6*Math.random()|0),Jk=0;function Zk(u,p,m,I,N){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!I,this.ha=N,this.key=++Jk,this.da=this.fa=!1}function Gu(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ku(u){this.src=u,this.g={},this.h=0}Ku.prototype.add=function(u,p,m,I,N){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var z=Pd(u,p,I,N);return-1<z?(p=u[z],m||(p.fa=!1)):(p=new Zk(p,this.src,L,!!I,N),p.fa=m,u.push(p)),p};function Cd(u,p){var m=p.type;if(m in u.g){var I=u.g[m],N=Array.prototype.indexOf.call(I,p,void 0),L;(L=0<=N)&&Array.prototype.splice.call(I,N,1),L&&(Gu(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Pd(u,p,m,I){for(var N=0;N<u.length;++N){var L=u[N];if(!L.da&&L.listener==p&&L.capture==!!m&&L.ha==I)return N}return-1}var Rd="closure_lm_"+(1e6*Math.random()|0),bd={};function Z_(u,p,m,I,N){if(Array.isArray(p)){for(var L=0;L<p.length;L++)Z_(u,p[L],m,I,N);return null}return m=nw(m),u&&u[ir]?u.K(p,m,c(I)?!!I.capture:!1,N):eV(u,p,m,!1,I,N)}function eV(u,p,m,I,N,L){if(!p)throw Error("Invalid event type");var z=c(N)?!!N.capture:!!N,we=kd(u);if(we||(u[Rd]=we=new Ku(u)),m=we.add(p,m,I,z,L),m.proxy)return m;if(I=tV(),m.proxy=I,I.src=u,I.listener=m,u.addEventListener)tr||(N=z),N===void 0&&(N=!1),u.addEventListener(p.toString(),I,N);else if(u.attachEvent)u.attachEvent(tw(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return m}function tV(){function u(m){return p.call(u.src,u.listener,m)}const p=nV;return u}function ew(u,p,m,I,N){if(Array.isArray(p))for(var L=0;L<p.length;L++)ew(u,p[L],m,I,N);else I=c(I)?!!I.capture:!!I,m=nw(m),u&&u[ir]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],m=Pd(L,m,I,N),-1<m&&(Gu(L[m]),Array.prototype.splice.call(L,m,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=kd(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Pd(p,m,I,N)),(m=-1<u?p[u]:null)&&xd(m))}function xd(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ir])Cd(p.i,u);else{var m=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(m,I,u.capture):p.detachEvent?p.detachEvent(tw(m),I):p.addListener&&p.removeListener&&p.removeListener(I),(m=kd(p))?(Cd(m,u),m.h==0&&(m.src=null,p[Rd]=null)):Gu(u)}}}function tw(u){return u in bd?bd[u]:bd[u]="on"+u}function nV(u,p){if(u.da)u=!0;else{p=new nr(p,this);var m=u.listener,I=u.ha||u.src;u.fa&&xd(u),u=m.call(I,p)}return u}function kd(u){return u=u[Rd],u instanceof Ku?u:null}var Vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function nw(u){return typeof u=="function"?u:(u[Vd]||(u[Vd]=function(p){return u.handleEvent(p)}),u[Vd])}function _t(){_e.call(this),this.i=new Ku(this),this.M=this,this.F=null}v(_t,_e),_t.prototype[ir]=!0,_t.prototype.removeEventListener=function(u,p,m,I){ew(this,u,p,m,I)};function Dt(u,p){var m,I=u.F;if(I)for(m=[];I;I=I.F)m.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new ze(p,u);else if(p instanceof ze)p.target=p.target||u;else{var N=p;p=new ze(I,u),P(p,N)}if(N=!0,m)for(var L=m.length-1;0<=L;L--){var z=p.g=m[L];N=Qu(z,I,!0,p)&&N}if(z=p.g=u,N=Qu(z,I,!0,p)&&N,N=Qu(z,I,!1,p)&&N,m)for(L=0;L<m.length;L++)z=p.g=m[L],N=Qu(z,I,!1,p)&&N}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],I=0;I<m.length;I++)Gu(m[I]);delete u.g[p],u.h--}}this.F=null},_t.prototype.K=function(u,p,m,I){return this.i.add(String(u),p,!1,m,I)},_t.prototype.L=function(u,p,m,I){return this.i.add(String(u),p,!0,m,I)};function Qu(u,p,m,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var N=!0,L=0;L<p.length;++L){var z=p[L];if(z&&!z.da&&z.capture==m){var we=z.listener,ct=z.ha||z.src;z.fa&&Cd(u.i,z),N=we.call(ct,I)!==!1&&N}}return N&&!I.defaultPrevented}function rw(u,p,m){if(typeof u=="function")m&&(u=d(u,m));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function iw(u){u.g=rw(()=>{u.g=null,u.i&&(u.i=!1,iw(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class rV extends _e{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:iw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(u){_e.call(this),this.h=u,this.g={}}v(wa,_e);var sw=[];function ow(u){F(u.g,function(p,m){this.g.hasOwnProperty(m)&&xd(p)},u),u.g={}}wa.prototype.N=function(){wa.aa.N.call(this),ow(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dd=a.JSON.stringify,iV=a.JSON.parse,sV=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Nd(){}Nd.prototype.h=null;function aw(u){return u.h||(u.h=u.i())}function lw(){}var Ea={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Od(){ze.call(this,"d")}v(Od,ze);function Md(){ze.call(this,"c")}v(Md,ze);var qi={},uw=null;function Yu(){return uw=uw||new _t}qi.La="serverreachability";function cw(u){ze.call(this,qi.La,u)}v(cw,ze);function Ta(u){const p=Yu();Dt(p,new cw(p))}qi.STAT_EVENT="statevent";function hw(u,p){ze.call(this,qi.STAT_EVENT,u),this.stat=p}v(hw,ze);function Nt(u){const p=Yu();Dt(p,new hw(p,u))}qi.Ma="timingevent";function fw(u,p){ze.call(this,qi.Ma,u),this.size=p}v(fw,ze);function Ia(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Sa(){this.g=!0}Sa.prototype.xa=function(){this.g=!1};function oV(u,p,m,I,N,L){u.info(function(){if(u.g)if(L)for(var z="",we=L.split("&"),ct=0;ct<we.length;ct++){var de=we[ct].split("=");if(1<de.length){var wt=de[0];de=de[1];var Et=wt.split("_");z=2<=Et.length&&Et[1]=="type"?z+(wt+"="+de+"&"):z+(wt+"=redacted&")}}else z=null;else z=L;return"XMLHTTP REQ ("+I+") [attempt "+N+"]: "+p+`
`+m+`
`+z})}function aV(u,p,m,I,N,L,z){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+N+"]: "+p+`
`+m+`
`+L+" "+z})}function Ls(u,p,m,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+uV(u,m)+(I?" "+I:"")})}function lV(u,p){u.info(function(){return"TIMEOUT: "+p})}Sa.prototype.info=function(){};function uV(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var I=m[u];if(!(2>I.length)){var N=I[1];if(Array.isArray(N)&&!(1>N.length)){var L=N[0];if(L!="noop"&&L!="stop"&&L!="close")for(var z=1;z<N.length;z++)N[z]=""}}}}return Dd(m)}catch{return p}}var Xu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ld;function Ju(){}v(Ju,Nd),Ju.prototype.g=function(){return new XMLHttpRequest},Ju.prototype.i=function(){return{}},Ld=new Ju;function $r(u,p,m,I){this.j=u,this.i=p,this.l=m,this.R=I||1,this.U=new wa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pw}function pw(){this.i=null,this.g="",this.h=!1}var mw={},Fd={};function Ud(u,p,m){u.L=1,u.v=nc(sr(p)),u.m=m,u.P=!0,gw(u,null)}function gw(u,p){u.F=Date.now(),Zu(u),u.A=sr(u.v);var m=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),xw(m.i,"t",I),u.C=0,m=u.j.J,u.h=new pw,u.g=Kw(u.j,m?p:null,!u.m),0<u.O&&(u.M=new rV(d(u.Y,u,u.g),u.O)),p=u.U,m=u.g,I=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(sw[0]=N.toString()),N=sw);for(var L=0;L<N.length;L++){var z=Z_(m,N[L],I||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Ta(),oV(u.i,u.u,u.A,u.l,u.R,u.m)}$r.prototype.ca=function(u){u=u.target;const p=this.M;p&&or(u)==3?p.j():this.Y(u)},$r.prototype.Y=function(u){try{if(u==this.g)e:{const Et=or(this.g);var p=this.g.Ba();const js=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Lw(this.g)))){this.J||Et!=4||p==7||(p==8||0>=js?Ta(3):Ta(2)),jd(this);var m=this.g.Z();this.X=m;t:if(yw(this)){var I=Lw(this.g);u="";var N=I.length,L=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wi(this),Aa(this);var z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<N;p++)this.h.h=!0,u+=this.h.i.decode(I[p],{stream:!(L&&p==N-1)});I.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,aV(this.i,this.u,this.A,this.l,this.R,Et,m),this.o){if(this.T&&!this.K){t:{if(this.g){var we,ct=this.g;if((we=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(we)){var de=we;break t}}de=null}if(m=de)Ls(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$d(this,m);else{this.o=!1,this.s=3,Nt(12),Wi(this),Aa(this);break e}}if(this.P){m=!0;let In;for(;!this.J&&this.C<z.length;)if(In=cV(this,z),In==Fd){Et==4&&(this.s=4,Nt(14),m=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(In==mw){this.s=4,Nt(15),Ls(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else Ls(this.i,this.l,In,null),$d(this,In);if(yw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||z.length!=0||this.h.h||(this.s=1,Nt(16),m=!1),this.o=this.o&&m,!m)Ls(this.i,this.l,z,"[Invalid Chunked Response]"),Wi(this),Aa(this);else if(0<z.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Gd(wt),wt.M=!0,Nt(11))}}else Ls(this.i,this.l,z,null),$d(this,z);Et==4&&Wi(this),this.o&&!this.J&&(Et==4?qw(this.j,this):(this.o=!1,Zu(this)))}else PV(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Wi(this),Aa(this)}}}catch{}finally{}};function yw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function cV(u,p){var m=u.C,I=p.indexOf(`
`,m);return I==-1?Fd:(m=Number(p.substring(m,I)),isNaN(m)?mw:(I+=1,I+m>p.length?Fd:(p=p.slice(I,I+m),u.C=I+m,p)))}$r.prototype.cancel=function(){this.J=!0,Wi(this)};function Zu(u){u.S=Date.now()+u.I,vw(u,u.I)}function vw(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ia(d(u.ba,u),p)}function jd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}$r.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(lV(this.i,this.A),this.L!=2&&(Ta(),Nt(17)),Wi(this),this.s=2,Aa(this)):vw(this,this.S-u)};function Aa(u){u.j.G==0||u.J||qw(u.j,u)}function Wi(u){jd(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ow(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function $d(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||Bd(m.h,u))){if(!u.K&&Bd(m.h,u)&&m.G==3){try{var I=m.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var N=I;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)lc(m),oc(m);else break e;Hd(m),Nt(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ia(d(m.Za,m),6e3));if(1>=Ew(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Gi(m,11)}else if((u.K||m.g==u)&&lc(m),!y(p))for(N=m.Da.g.parse(p),p=0;p<N.length;p++){let de=N[p];if(m.T=de[0],de=de[1],m.G==2)if(de[0]=="c"){m.K=de[1],m.ia=de[2];const wt=de[3];wt!=null&&(m.la=wt,m.j.info("VER="+m.la));const Et=de[4];Et!=null&&(m.Aa=Et,m.j.info("SVER="+m.Aa));const js=de[5];js!=null&&typeof js=="number"&&0<js&&(I=1.5*js,m.L=I,m.j.info("backChannelRequestTimeoutMs_="+I)),I=m;const In=u.g;if(In){const cc=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cc){var L=I.h;L.g||cc.indexOf("spdy")==-1&&cc.indexOf("quic")==-1&&cc.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(zd(L,L.h),L.h=null))}if(I.D){const Kd=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Kd&&(I.ya=Kd,Se(I.I,I.D,Kd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),I=m;var z=u;if(I.qa=Gw(I,I.J?I.ia:null,I.W),z.K){Tw(I.h,z);var we=z,ct=I.L;ct&&(we.I=ct),we.B&&(jd(we),Zu(we)),I.g=z}else Bw(I);0<m.i.length&&ac(m)}else de[0]!="stop"&&de[0]!="close"||Gi(m,7);else m.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Gi(m,7):Wd(m):de[0]!="noop"&&m.l&&m.l.ta(de),m.v=0)}}Ta(4)}catch{}}var hV=class{constructor(u,p){this.g=u,this.map=p}};function _w(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ww(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ew(u){return u.h?1:u.g?u.g.size:0}function Bd(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function zd(u,p){u.g?u.g.add(p):u.h=p}function Tw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}_w.prototype.cancel=function(){if(this.i=Iw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Iw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return _(u.i)}function fV(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],m=u.length,I=0;I<m;I++)p.push(u[I]);return p}p=[],m=0;for(I in u)p[m++]=u[I];return p}function dV(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const I in u)p[m++]=I;return p}}}function Sw(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=dV(u),I=fV(u),N=I.length,L=0;L<N;L++)p.call(void 0,I[L],m&&m[L],u)}var Aw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pV(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var I=u[m].indexOf("="),N=null;if(0<=I){var L=u[m].substring(0,I);N=u[m].substring(I+1)}else L=u[m];p(L,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Hi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Hi){this.h=u.h,ec(this,u.j),this.o=u.o,this.g=u.g,tc(this,u.s),this.l=u.l;var p=u.i,m=new Ra;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),Cw(this,m),this.m=u.m}else u&&(p=String(u).match(Aw))?(this.h=!1,ec(this,p[1]||"",!0),this.o=Ca(p[2]||""),this.g=Ca(p[3]||"",!0),tc(this,p[4]),this.l=Ca(p[5]||"",!0),Cw(this,p[6]||"",!0),this.m=Ca(p[7]||"")):(this.h=!1,this.i=new Ra(null,this.h))}Hi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Pa(p,Pw,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Pa(p,Pw,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Pa(m,m.charAt(0)=="/"?yV:gV,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Pa(m,_V)),u.join("")};function sr(u){return new Hi(u)}function ec(u,p,m){u.j=m?Ca(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function tc(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Cw(u,p,m){p instanceof Ra?(u.i=p,wV(u.i,u.h)):(m||(p=Pa(p,vV)),u.i=new Ra(p,u.h))}function Se(u,p,m){u.i.set(p,m)}function nc(u){return Se(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ca(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Pa(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,mV),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mV(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Pw=/[#\/\?@]/g,gV=/[#\?:]/g,yV=/[#\?]/g,vV=/[#\?@]/g,_V=/#/g;function Ra(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Br(u){u.g||(u.g=new Map,u.h=0,u.i&&pV(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=Ra.prototype,t.add=function(u,p){Br(this),this.i=null,u=Fs(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function Rw(u,p){Br(u),p=Fs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function bw(u,p){return Br(u),p=Fs(u,p),u.g.has(p)}t.forEach=function(u,p){Br(this),this.g.forEach(function(m,I){m.forEach(function(N){u.call(p,N,I,this)},this)},this)},t.na=function(){Br(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let I=0;I<p.length;I++){const N=u[I];for(let L=0;L<N.length;L++)m.push(p[I])}return m},t.V=function(u){Br(this);let p=[];if(typeof u=="string")bw(this,u)&&(p=p.concat(this.g.get(Fs(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return Br(this),this.i=null,u=Fs(this,u),bw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function xw(u,p,m){Rw(u,p),0<m.length&&(u.i=null,u.g.set(Fs(u,p),_(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var I=p[m];const L=encodeURIComponent(String(I)),z=this.V(I);for(I=0;I<z.length;I++){var N=L;z[I]!==""&&(N+="="+encodeURIComponent(String(z[I]))),u.push(N)}}return this.i=u.join("&")};function Fs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function wV(u,p){p&&!u.j&&(Br(u),u.i=null,u.g.forEach(function(m,I){var N=I.toLowerCase();I!=N&&(Rw(this,I),xw(this,N,m))},u)),u.j=p}function EV(u,p){const m=new Sa;if(a.Image){const I=new Image;I.onload=g(zr,m,"TestLoadImage: loaded",!0,p,I),I.onerror=g(zr,m,"TestLoadImage: error",!1,p,I),I.onabort=g(zr,m,"TestLoadImage: abort",!1,p,I),I.ontimeout=g(zr,m,"TestLoadImage: timeout",!1,p,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function TV(u,p){const m=new Sa,I=new AbortController,N=setTimeout(()=>{I.abort(),zr(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then(L=>{clearTimeout(N),L.ok?zr(m,"TestPingServer: ok",!0,p):zr(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(N),zr(m,"TestPingServer: error",!1,p)})}function zr(u,p,m,I,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),I(m)}catch{}}function IV(){this.g=new sV}function SV(u,p,m){const I=m||"";try{Sw(u,function(N,L){let z=N;c(N)&&(z=Dd(N)),p.push(I+L+"="+encodeURIComponent(z))})}catch(N){throw p.push(I+"type="+encodeURIComponent("_badmap")),N}}function rc(u){this.l=u.Ub||null,this.j=u.eb||!1}v(rc,Nd),rc.prototype.g=function(){return new ic(this.l,this.j)},rc.prototype.i=function(u){return function(){return u}}({});function ic(u,p){_t.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ic,_t),t=ic.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,xa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function kw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ba(this):xa(this),this.readyState==3&&kw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ba(this))},t.Qa=function(u){this.g&&(this.response=u,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xa(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function xa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vw(u){let p="";return F(u,function(m,I){p+=I,p+=":",p+=m,p+=`\r
`}),p}function qd(u,p,m){e:{for(I in m){var I=!1;break e}I=!0}I||(m=Vw(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Se(u,p,m))}function Le(u){_t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Le,_t);var AV=/^https?$/i,CV=["POST","PUT"];t=Le.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ld.g(),this.v=this.o?aw(this.o):aw(Ld),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){Dw(this,L);return}if(u=m||"",m=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var N in I)m.set(N,I[N]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const L of I.keys())m.set(L,I.get(L));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),N=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(CV,p,void 0))||I||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of m)this.g.setRequestHeader(L,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mw(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){Dw(this,L)}};function Dw(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Nw(u),sc(u)}function Nw(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Dt(this,"complete"),Dt(this,"abort"),sc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sc(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ow(this):this.bb())},t.bb=function(){Ow(this)};function Ow(u){if(u.h&&typeof o<"u"&&(!u.v[1]||or(u)!=4||u.Z()!=2)){if(u.u&&or(u)==4)rw(u.Ea,0,u);else if(Dt(u,"readystatechange"),or(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var I;if(I=z===0){var N=String(u.D).match(Aw)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),I=!AV.test(N?N.toLowerCase():"")}m=I}if(m)Dt(u,"complete"),Dt(u,"success");else{u.m=6;try{var L=2<or(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",Nw(u)}}finally{sc(u)}}}}function sc(u,p){if(u.g){Mw(u);const m=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Dt(u,"ready");try{m.onreadystatechange=I}catch{}}}function Mw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function or(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),iV(p)}};function Lw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function PV(u){const p={};u=(u.g&&2<=or(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(y(u[I]))continue;var m=x(u[I]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=p[N]||[];p[N]=L,L.push(m)}A(p,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function Fw(u){this.Aa=0,this.i=[],this.j=new Sa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ka("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ka("baseRetryDelayMs",5e3,u),this.cb=ka("retryDelaySeedMs",1e4,u),this.Wa=ka("forwardChannelMaxRetries",2,u),this.wa=ka("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _w(u&&u.concurrentRequestLimit),this.Da=new IV,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fw.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,I){Nt(0),this.W=u,this.H=p||{},m&&I!==void 0&&(this.H.OSID=m,this.H.OAID=I),this.F=this.X,this.I=Gw(this,null,this.W),ac(this)};function Wd(u){if(Uw(u),u.G==3){var p=u.U++,m=sr(u.I);if(Se(m,"SID",u.K),Se(m,"RID",p),Se(m,"TYPE","terminate"),Va(u,m),p=new $r(u,u.j,p),p.L=2,p.v=nc(sr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=Kw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Zu(p)}Hw(u)}function oc(u){u.g&&(Gd(u),u.g.cancel(),u.g=null)}function Uw(u){oc(u),u.u&&(a.clearTimeout(u.u),u.u=null),lc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ac(u){if(!ww(u.h)&&!u.s){u.s=!0;var p=u.Ga;ve||J(),B||(ve(),B=!0),K.add(p,u),u.B=0}}function RV(u,p){return Ew(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ia(d(u.Ga,u,p),Ww(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const N=new $r(this,this.j,u);let L=this.o;if(this.S&&(L?(L=T(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(N.H=L,L=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var I=this.i[m];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=$w(this,N,p),m=sr(this.I),Se(m,"RID",u),Se(m,"CVER",22),this.D&&Se(m,"X-HTTP-Session-Id",this.D),Va(this,m),L&&(this.O?p="headers="+encodeURIComponent(String(Vw(L)))+"&"+p:this.m&&qd(m,this.m,L)),zd(this.h,N),this.Ua&&Se(m,"TYPE","init"),this.P?(Se(m,"$req",p),Se(m,"SID","null"),N.T=!0,Ud(N,m,null)):Ud(N,m,p),this.G=2}}else this.G==3&&(u?jw(this,u):this.i.length==0||ww(this.h)||jw(this))};function jw(u,p){var m;p?m=p.l:m=u.U++;const I=sr(u.I);Se(I,"SID",u.K),Se(I,"RID",m),Se(I,"AID",u.T),Va(u,I),u.m&&u.o&&qd(I,u.m,u.o),m=new $r(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=$w(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),zd(u.h,m),Ud(m,I,p)}function Va(u,p){u.H&&F(u.H,function(m,I){Se(p,I,m)}),u.l&&Sw({},function(m,I){Se(p,I,m)})}function $w(u,p,m){m=Math.min(u.i.length,m);var I=u.l?d(u.l.Na,u.l,u):null;e:{var N=u.i;let L=-1;for(;;){const z=["count="+m];L==-1?0<m?(L=N[0].g,z.push("ofs="+L)):L=0:z.push("ofs="+L);let we=!0;for(let ct=0;ct<m;ct++){let de=N[ct].g;const wt=N[ct].map;if(de-=L,0>de)L=Math.max(0,N[ct].g-100),we=!1;else try{SV(wt,z,"req"+de+"_")}catch{I&&I(wt)}}if(we){I=z.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,I}function Bw(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ve||J(),B||(ve(),B=!0),K.add(p,u),u.v=0}}function Hd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ia(d(u.Fa,u),Ww(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,zw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ia(d(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),oc(this),zw(this))};function Gd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function zw(u){u.g=new $r(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=sr(u.qa);Se(p,"RID","rpc"),Se(p,"SID",u.K),Se(p,"AID",u.T),Se(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Se(p,"TO",u.ja),Se(p,"TYPE","xmlhttp"),Va(u,p),u.m&&u.o&&qd(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=nc(sr(p)),m.m=null,m.P=!0,gw(m,u)}t.Za=function(){this.C!=null&&(this.C=null,oc(this),Hd(this),Nt(19))};function lc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function qw(u,p){var m=null;if(u.g==p){lc(u),Gd(u),u.g=null;var I=2}else if(Bd(u.h,p))m=p.D,Tw(u.h,p),I=1;else return;if(u.G!=0){if(p.o)if(I==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var N=u.B;I=Yu(),Dt(I,new fw(I,m)),ac(u)}else Bw(u);else if(N=p.s,N==3||N==0&&0<p.X||!(I==1&&RV(u,p)||I==2&&Hd(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),N){case 1:Gi(u,5);break;case 4:Gi(u,10);break;case 3:Gi(u,6);break;default:Gi(u,2)}}}function Ww(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function Gi(u,p){if(u.j.info("Error code "+p),p==2){var m=d(u.fb,u),I=u.Xa;const N=!I;I=new Hi(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ec(I,"https"),nc(I),N?EV(I.toString(),m):TV(I.toString(),m)}else Nt(2);u.G=0,u.l&&u.l.sa(p),Hw(u),Uw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Hw(u){if(u.G=0,u.ka=[],u.l){const p=Iw(u.h);(p.length!=0||u.i.length!=0)&&(S(u.ka,p),S(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function Gw(u,p,m){var I=m instanceof Hi?sr(m):new Hi(m);if(I.g!="")p&&(I.g=p+"."+I.g),tc(I,I.s);else{var N=a.location;I=N.protocol,p=p?p+"."+N.hostname:N.hostname,N=+N.port;var L=new Hi(null);I&&ec(L,I),p&&(L.g=p),N&&tc(L,N),m&&(L.l=m),I=L}return m=u.D,p=u.ya,m&&p&&Se(I,m,p),Se(I,"VER",u.la),Va(u,I),I}function Kw(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Le(new rc({eb:m})):new Le(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qw(){}t=Qw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uc(){}uc.prototype.g=function(u,p){return new Zt(u,p)};function Zt(u,p){_t.call(this),this.g=new Fw(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Us(this)}v(Zt,_t),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Wd(this.g)},Zt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Dd(u),u=m);p.i.push(new hV(p.Ya++,u)),p.G==3&&ac(p)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Wd(this.g),delete this.g,Zt.aa.N.call(this)};function Yw(u){Od.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(Yw,Od);function Xw(){Md.call(this),this.status=1}v(Xw,Md);function Us(u){this.g=u}v(Us,Qw),Us.prototype.ua=function(){Dt(this.g,"a")},Us.prototype.ta=function(u){Dt(this.g,new Yw(u))},Us.prototype.sa=function(u){Dt(this.g,new Xw)},Us.prototype.ra=function(){Dt(this.g,"b")},uc.prototype.createWebChannel=uc.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,Ax=function(){return new uc},Sx=function(){return Yu()},Ix=qi,zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xu.NO_ERROR=0,Xu.TIMEOUT=8,Xu.HTTP_ERROR=6,ch=Xu,dw.COMPLETE="complete",Tx=dw,lw.EventType=Ea,Ea.OPEN="a",Ea.CLOSE="b",Ea.ERROR="c",Ea.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Ya=lw,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,Ex=Le}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const BI="@firebase/firestore",zI="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Yv("@firebase/firestore");function zs(){return Ps.logLevel}function W(t,...e){if(Ps.logLevel<=ae.DEBUG){const n=e.map(u_);Ps.debug(`Firestore (${ma}): ${t}`,...n)}}function Or(t,...e){if(Ps.logLevel<=ae.ERROR){const n=e.map(u_);Ps.error(`Firestore (${ma}): ${t}`,...n)}}function Qo(t,...e){if(Ps.logLevel<=ae.WARN){const n=e.map(u_);Ps.warn(`Firestore (${ma}): ${t}`,...n)}}function u_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Cx(t,r,n)}function Cx(t,e,n){let r=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Or(r),new Error(r)}function me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Cx(e,i,r)}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class g5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class y5{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ir,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ir)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new Px(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new At(e)}}class v5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new v5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=E5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function qg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return rm(i)===rm(s)?le(i,s):rm(i)?1:-1}return le(t.length,e.length)}const T5=55296,I5=57343;function rm(t){const e=t.charCodeAt(0);return e>=T5&&e<=I5}function Yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="__name__";class Fn{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Fn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return le(e.length,n.length)}static compareSegments(e,n){const r=Fn.isNumericId(e),i=Fn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fn.extractNumericId(e).compare(Fn.extractNumericId(n)):qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class Ee extends Fn{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const S5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Fn{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return S5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WI}static keyField(){return new pt([WI])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Ee.fromString(e))}static fromName(e){return new G(Ee.fromString(e).popFirst(5))}static empty(){return new G(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A5(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HI(t){if(!G.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GI(t){if(G.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function od(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=od(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const n={typeString:t};return e&&(n.value=e),n}function $u(t,e){if(!bx(t))throw new q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=-62135596800,QI=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*QI);return new Ce(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KI)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QI}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($u(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:Je("string",Ce._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new Ce(0,0))}static max(){return new re(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function C5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new bi(i,G.empty(),e)}function P5(t){return new bi(t.readTime,t.key,Ql)}class bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bi(re.min(),G.empty(),Ql)}static max(){return new bi(re.max(),G.empty(),Ql)}}function R5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==b5)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function k5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ya(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ad.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=-1;function ld(t){return t==null}function df(t){return t===0&&1/t==-1/0}function V5(t){return typeof t=="number"&&Number.isInteger(t)&&!df(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="";function D5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YI(e)),e=N5(t.get(n),e);return YI(e)}function N5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case xx:n+="";break;default:n+=s}}return n}function YI(t){return t+xx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $i(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JI(this.data.getIterator())}getIteratorFrom(e){return new JI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class JI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new rn([])}unionWith(e){let n=new rt(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Vx("Invalid base64 string: "+s):s}}(e);return new vt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const O5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(me(!!t,39018),typeof t=="string"){let e=0;const n=O5.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ki(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="server_timestamp",Nx="__type__",Ox="__previous_value__",Mx="__local_write_time__";function f_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Nx])==null?void 0:r.stringValue)===Dx}function ud(t){const e=t.mapValue.fields[Ox];return f_(e)?ud(e):e}function Yl(t){const e=xi(t.mapValue.fields[Mx].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n,r,i,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const pf="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||pf}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===pf}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="__type__",L5="__max__",Lc={mapValue:{}},Fx="__vector__",mf="value";function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?f_(t)?4:U5(t)?9007199254740991:F5(t)?10:11:X(28295,{value:t})}function Jn(t,e){if(t===e)return!0;const n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yl(t).isEqual(Yl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=xi(i.timestampValue),a=xi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ki(i.bytesValue).isEqual(ki(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=He(i.doubleValue),a=He(s.doubleValue);return o===a?df(o)===df(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Yo(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(XI(o)!==XI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Jn(o[l],a[l])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function Jl(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;const n=Vi(t),r=Vi(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=He(s.integerValue||s.doubleValue),l=He(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ZI(t.timestampValue,e.timestampValue);case 4:return ZI(Yl(t),Yl(e));case 5:return qg(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ki(s),l=ki(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=le(a[c],l[c]);if(h!==0)return h}return le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=le(He(s.latitude),He(o.latitude));return a!==0?a:le(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var d,g,v,_;const a=s.fields||{},l=o.fields||{},c=(d=a[mf])==null?void 0:d.arrayValue,h=(g=l[mf])==null?void 0:g.arrayValue,f=le(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((_=h==null?void 0:h.values)==null?void 0:_.length)||0);return f!==0?f:eS(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Lc.mapValue&&o===Lc.mapValue)return 0;if(s===Lc.mapValue)return 1;if(o===Lc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=qg(l[f],h[f]);if(d!==0)return d;const g=Xo(a[l[f]],c[h[f]]);if(g!==0)return g}return le(l.length,h.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function ZI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=xi(t),r=xi(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function eS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Xo(n[i],r[i]);if(s)return s}return le(n.length,r.length)}function Jo(t){return Wg(t)}function Wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Wg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Wg(n.fields[o])}`;return i+"}"}(t.mapValue):X(61005,{value:t})}function hh(t){switch(Vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(t);return e?16+hh(e):16;case 5:return 2*t.stringValue.length;case 6:return ki(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+hh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return $i(r.fields,(s,o)=>{i+=s.length+hh(o)}),i}(t.mapValue);default:throw X(13486,{value:t})}}function tS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hg(t){return!!t&&"integerValue"in t}function d_(t){return!!t&&"arrayValue"in t}function nS(t){return!!t&&"nullValue"in t}function rS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fh(t){return!!t&&"mapValue"in t}function F5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Lx])==null?void 0:r.stringValue)===Fx}function vl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $i(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vl(t.arrayValue.values[n]);return e}return{...t}}function U5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===L5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$i(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ht(vl(this.value))}}function Ux(t){const e=[];return $i(t.fields,(n,r)=>{const i=new pt([n]);if(fh(r)){const s=Ux(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pt(e,0,re.min(),re.min(),re.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,i){return new Pt(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new Pt(e,2,n,re.min(),re.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,re.min(),re.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.position=e,this.inclusive=n}}function iS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Xo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function j5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{}class Xe extends jx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new B5(e,n,r):n==="array-contains"?new W5(e,r):n==="in"?new H5(e,r):n==="not-in"?new G5(e,r):n==="array-contains-any"?new K5(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new z5(e,r):new q5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xo(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nn extends jx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Nn(e,n)}matches(e){return $x(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $x(t){return t.op==="and"}function Bx(t){return $5(t)&&$x(t)}function $5(t){for(const e of t.filters)if(e instanceof Nn)return!1;return!0}function Gg(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(Bx(t))return t.filters.map(e=>Gg(e)).join(",");{const e=t.filters.map(n=>Gg(n)).join(",");return`${t.op}(${e})`}}function zx(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(t,e):t instanceof Nn?function(r,i){return i instanceof Nn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&zx(o,i.filters[a]),!0):!1}(t,e):void X(19439)}function qx(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(t):t instanceof Nn?function(n){return n.op.toString()+" {"+n.getFilters().map(qx).join(" ,")+"}"}(t):"Filter"}class B5 extends Xe{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class z5 extends Xe{constructor(e,n){super(e,"in",n),this.keys=Wx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class q5 extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=Wx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wx(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class W5 extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return d_(n)&&Jl(n.arrayValue,this.value)}}class H5 extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class G5 extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class K5 extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!d_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function oS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Q5(t,e,n,r,i,s,o)}function p_(t){const e=ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.Te=n}return e.Te}function m_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sS(t.startAt,e.startAt)&&sS(t.endAt,e.endAt)}function Kg(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y5(t,e,n,r,i,s,o,a){return new va(t,e,n,r,i,s,o,a)}function cd(t){return new va(t)}function aS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Hx(t){return t.collectionGroup!==null}function _l(t){const e=ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rt(pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Zl(s,r))}),n.has(pt.keyField().canonicalString())||e.Ie.push(new Zl(pt.keyField(),r))}return e.Ie}function Gn(t){const e=ie(t);return e.Ee||(e.Ee=X5(e,_l(t))),e.Ee}function X5(t,e){if(t.limitType==="F")return oS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Zl(i.field,s)});const n=t.endAt?new gf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gf(t.startAt.position,t.startAt.inclusive):null;return oS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qg(t,e){const n=t.filters.concat([e]);return new va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yg(t,e,n){return new va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hd(t,e){return m_(Gn(t),Gn(e))&&t.limitType===e.limitType}function Gx(t){return`${p_(Gn(t))}|lt:${t.limitType}`}function qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qx(i)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Jo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Jo(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function fd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _l(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=iS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,_l(r),i)||r.endAt&&!function(o,a,l){const c=iS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,_l(r),i))}(t,e)}function J5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Kx(t){return(e,n)=>{let r=!1;for(const i of _l(t)){const s=Z5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Z5(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Xo(l,c):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$i(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return kx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=new Me(G.comparator);function Mr(){return ez}const Qx=new Me(G.comparator);function Xa(...t){let e=Qx;for(const n of t)e=e.insert(n.key,n);return e}function Yx(t){let e=Qx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function os(){return wl()}function Xx(){return wl()}function wl(){return new Ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const tz=new Me(G.comparator),nz=new rt(G.comparator);function ue(...t){let e=nz;for(const n of t)e=e.add(n);return e}const rz=new rt(le);function iz(){return rz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(e)?"-0":e}}function Jx(t){return{integerValue:""+t}}function sz(t,e){return V5(e)?Jx(e):g_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function oz(t,e,n){return t instanceof eu?function(i,s){const o={fields:{[Nx]:{stringValue:Dx},[Mx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&f_(s)&&(s=ud(s)),s&&(o.fields[Ox]=s),{mapValue:o}}(n,e):t instanceof tu?ek(t,e):t instanceof nu?tk(t,e):function(i,s){const o=Zx(i,s),a=lS(o)+lS(i.Ae);return Hg(o)&&Hg(i.Ae)?Jx(a):g_(i.serializer,a)}(t,e)}function az(t,e,n){return t instanceof tu?ek(t,e):t instanceof nu?tk(t,e):n}function Zx(t,e){return t instanceof yf?function(r){return Hg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class eu extends dd{}class tu extends dd{constructor(e){super(),this.elements=e}}function ek(t,e){const n=nk(e);for(const r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class nu extends dd{constructor(e){super(),this.elements=e}}function tk(t,e){let n=nk(e);for(const r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}class yf extends dd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lS(t){return He(t.integerValue||t.doubleValue)}function nk(t){return d_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n){this.field=e,this.transform=n}}function uz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tu&&i instanceof tu||r instanceof nu&&i instanceof nu?Yo(r.elements,i.elements,Jn):r instanceof yf&&i instanceof yf?Jn(r.Ae,i.Ae):r instanceof eu&&i instanceof eu}(t.transform,e.transform)}class cz{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pd{}function rk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new y_(t.key,_n.none()):new Bu(t.key,t.data,_n.none());{const n=t.data,r=Ht.empty();let i=new rt(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bi(t.key,r,new rn(i.toArray()),_n.none())}}function hz(t,e,n){t instanceof Bu?function(i,s,o){const a=i.value.clone(),l=cS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bi?function(i,s,o){if(!dh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=cS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(ik(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n,r){return t instanceof Bu?function(s,o,a,l){if(!dh(s.precondition,o))return a;const c=s.value.clone(),h=hS(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bi?function(s,o,a,l){if(!dh(s.precondition,o))return a;const c=hS(s.fieldTransforms,l,o),h=o.data;return h.setAll(ik(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return dh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function fz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Zx(r.transform,i||null);s!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,s))}return n||null}function uS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yo(r,i,(s,o)=>uz(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bu extends pd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bi extends pd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ik(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cS(t,e,n){const r=new Map;me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,az(o,a,n[i]))}return r}function hS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,oz(s,o,e))}return r}class y_ extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dz extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&hz(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Xx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=rk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(n,r)=>uS(n,r))&&Yo(this.baseMutations,e.baseMutations,(n,r)=>uS(n,r))}}class v_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return tz}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new v_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,he;function yz(t){switch(t){case U.OK:return X(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function sk(t){if(t===void 0)return Or("GRPC error has no .code"),U.UNKNOWN;switch(t){case Ke.OK:return U.OK;case Ke.CANCELLED:return U.CANCELLED;case Ke.UNKNOWN:return U.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return U.INTERNAL;case Ke.UNAVAILABLE:return U.UNAVAILABLE;case Ke.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ke.NOT_FOUND:return U.NOT_FOUND;case Ke.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ke.ABORTED:return U.ABORTED;case Ke.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ke.DATA_LOSS:return U.DATA_LOSS;default:return X(39323,{code:t})}}(he=Ke||(Ke={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=new Ti([4294967295,4294967295],0);function fS(t){const e=vz().encode(t),n=new wx;return n.update(e),new Uint8Array(n.digest())}function dS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ti([n,r],0),new Ti([i,s],0)]}class __{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ja(`Invalid padding: ${n}`);if(r<0)throw new Ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ti.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ti.fromNumber(r)));return i.compare(_z)===1&&(i=new Ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fS(e),[r,i]=dS(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new __(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=fS(e),[r,i]=dS(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new md(re.min(),i,new Me(le),Mr(),ue())}}class zu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zu(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class ok{constructor(e,n){this.targetId=e,this.Ce=n}}class ak{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pS{constructor(){this.ve=0,this.Fe=mS(),this.Me=vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ue(),n=ue(),r=ue();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X(38017,{changeType:s})}}),new zu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=mS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wz{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mr(),this.Je=Fc(),this.He=Fc(),this.Ye=new Me(le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Kg(s))if(r===0){const o=new G(s.path);this.et(n,o,Pt.newNoDocument(o,re.min()))}else me(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ki(r).toUint8Array()}catch(l){if(l instanceof Vx)return Qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new __(o,i,s)}catch(l){return Qo(l instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&Kg(a.target)){const l=new G(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Pt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ue();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new md(e,n,this.Ye,this.je,r);return this.je=Mr(),this.Je=Fc(),this.He=Fc(),this.Ye=new Me(le),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new pS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rt(le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rt(le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new Me(G.comparator)}function mS(){return new Me(G.comparator)}const Ez={asc:"ASCENDING",desc:"DESCENDING"},Tz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iz={and:"AND",or:"OR"};class Sz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xg(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function vf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Az(t,e){return vf(t,e.toTimestamp())}function Kn(t){return me(!!t,49232),re.fromTimestamp(function(n){const r=xi(n);return new Ce(r.seconds,r.nanos)}(t))}function w_(t,e){return Jg(t,e).canonicalString()}function Jg(t,e){const n=function(i){return new Ee(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uk(t){const e=Ee.fromString(t);return me(pk(e),10190,{key:e.toString()}),e}function Zg(t,e){return w_(t.databaseId,e.path)}function im(t,e){const n=uk(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(hk(n))}function ck(t,e){return w_(t.databaseId,e)}function Cz(t){const e=uk(t);return e.length===4?Ee.emptyPath():hk(e)}function ey(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hk(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gS(t,e,n){return{name:Zg(t,e),fields:n.value.mapValue.fields}}function Pz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(me(h===void 0||typeof h=="string",58123),vt.fromBase64String(h||"")):(me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:sk(c.code);return new q(h,c.message||"")}(o);n=new ak(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=im(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):re.min(),a=new Ht({mapValue:{fields:r.document.fields}}),l=Pt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new ph(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=im(t,r.document),s=r.readTime?Kn(r.readTime):re.min(),o=Pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ph([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=im(t,r.document),s=r.removedTargetIds||[];n=new ph([],s,i,null)}else{if(!("filter"in e))return X(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new gz(i,s),a=r.targetId;n=new ok(a,o)}}return n}function Rz(t,e){let n;if(e instanceof Bu)n={update:gS(t,e.key,e.value)};else if(e instanceof y_)n={delete:Zg(t,e.key)};else if(e instanceof Bi)n={update:gS(t,e.key,e.data),updateMask:Lz(e.fieldMask)};else{if(!(e instanceof dz))return X(16599,{Vt:e.type});n={verify:Zg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof eu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw X(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Az(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X(27497)}(t,e.precondition)),n}function bz(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(re.min())&&(o=Kn(s)),new cz(o,i.transformResults||[])}(n,e))):[]}function xz(t,e){return{documents:[ck(t,e.path)]}}function kz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ck(t,i);const s=function(c){if(c.length!==0)return dk(Nn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:Ws(d.field),direction:Nz(d.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Xg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function Vz(t){let e=Cz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){me(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const d=fk(f);return d instanceof Nn&&Bx(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(v){return new Zl(Hs(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,ld(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,g=f.values||[];return new gf(g,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,g=f.values||[];return new gf(g,d)}(n.endAt)),Y5(e,i,o,s,a,"F",l,c)}function Dz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hs(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hs(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hs(n.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hs(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(Hs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nn.create(n.compositeFilter.filters.map(r=>fk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function Nz(t){return Ez[t]}function Oz(t){return Tz[t]}function Mz(t){return Iz[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function Hs(t){return pt.fromServerFormat(t.fieldPath)}function dk(t){return t instanceof Xe?function(n){if(n.op==="=="){if(rS(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NAN"}};if(nS(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rS(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NAN"}};if(nS(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(n.field),op:Oz(n.op),value:n.value}}}(t):t instanceof Nn?function(n){const r=n.getFilters().map(i=>dk(i));return r.length===1?r[0]:{compositeFilter:{op:Mz(n.op),filters:r}}}(t):X(54877,{filter:t})}function Lz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r,i,s=re.min(),o=re.min(),a=vt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.yt=e}}function Uz(t){const e=Vz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(){this.Cn=new $z}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(bi.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class $z{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rt(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mk=41943040;class qt{static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(mk,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zo(0)}static cr(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="LruGarbageCollector",Bz=1048576;function _S([t,e],[n,r]){const i=le(t,n);return i===0?le(e,r):i}class zz{constructor(e){this.Ir=e,this.buffer=new rt(_S),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_S(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(vS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ya(n)?W(vS,"Ignoring IndexedDB error during garbage collection: ",n):await ga(n)}await this.Vr(3e5)})}}class Wz{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(ad.ce);const r=new zz(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(yS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),zs()<=ae.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function Hz(t,e){return new Wz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&El(r.mutation,i,rn.empty(),Ce.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=os();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=os();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Mr();const o=wl(),a=function(){return wl()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Bi)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),El(h.mutation,c,h.mutation.getFieldMask(),Ce.now())):o.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new Kz(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=wl();let i=new Me((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||rn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=Xx();h.forEach(d=>{if(!s.has(d)){const g=rk(n.get(d),r.get(d));g!==null&&f.set(d,g),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(os());let a=Ql,l=s;return o.next(c=>j.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ue())).next(h=>({batchId:a,changes:Yx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=Xa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Xa();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const c=function(f,d){return new va(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Pt.newInvalidDocument(h)))});let a=Xa();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&El(h.mutation,c,rn.empty(),Ce.now()),fd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Uz(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(){this.overlays=new Me(G.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=os();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=os(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=os(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=os(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return j.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mz(n,r));let s=this.qr.get(n);s===void 0&&(s=ue(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.Qr=new rt(ot.$r),this.Ur=new rt(ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ot(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new G(new Ee([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new G(new Ee([])),r=new ot(n,e),i=new ot(n,e+1);let s=ue();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ot(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return G.comparator(e.key,n.key)||le(e.Yr,n.Yr)}static Kr(e,n){return le(e.Yr,n.Yr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rt(ot.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pz(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?h_:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(le);return n.forEach(i=>{const s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new ot(new G(s),0);let a=new rt(le);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),j.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,i=>{const s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ot(n,0),i=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.ri=e,this.docs=function(){return new Me(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mr();const o=n.path,a=new G(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||R5(P5(h),r)<=0||(i.has(h.key)||fd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X(9500)}ii(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new t8(this)}getSize(e){return j.resolve(this.size)}}class t8 extends Gz{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.persistence=e,this.si=new Ns(n=>p_(n),m_),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new E_,this.targetCount=0,this.ai=Zo.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.ui={},this.overlays={},this.ci=new ad(0),this.li=!1,this.li=!0,this.hi=new Jz,this.referenceDelegate=e(this),this.Pi=new n8(this),this.indexManager=new jz,this.remoteDocumentCache=function(i){return new e8(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Fz(n),this.Ii=new Yz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Zz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new r8(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return j.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class r8 extends x5{constructor(e){super(),this.currentSequenceNumber=e}}class T_{constructor(e){this.persistence=e,this.Ri=new E_,this.Vi=null}static mi(e){return new T_(e)}get fi(){if(this.Vi)return this.Vi;throw X(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,r=>{const i=G.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _f{constructor(e,n){this.persistence=e,this.pi=new Ns(r=>D5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Hz(this,n)}static mi(e,n){return new _f(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return j.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,re.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hh(e.data.value)),n}br(e,n,r){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new I_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Xj()?8:k5(kt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new i8;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(zs()<=ae.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(zs()<=ae.DEBUG&&W("QueryEngine","Query:",qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(zs()<=ae.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):j.resolve())}ys(e,n){if(aS(n))return j.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Yg(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Yg(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return aS(n)||i.isEqual(re.min())?j.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?j.resolve(null):(zs()<=ae.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qs(n)),this.vs(e,o,n,C5(i,Ql)).next(a=>a))})}Ds(e,n){let r=new rt(Kx(e));return n.forEach((i,s)=>{fd(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return zs()<=ae.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",qs(n)),this.ps.getDocumentsMatchingQuery(e,n,bi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="LocalStore",o8=3e8;class a8{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Me(le),this.xs=new Ns(s=>p_(s),m_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function l8(t,e,n,r){return new a8(t,e,n,r)}async function yk(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function u8(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,d=f.keys();let g=j.resolve();return d.forEach(v=>{g=g.next(()=>h.getEntry(l,v)).next(_=>{const S=c.docVersions.get(v);me(S!==null,48541),_.version.compareTo(S)<0&&(f.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),h.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vk(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function c8(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,f)));let g=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(vt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(f,g),function(_,S,w){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=o8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,g,h)&&a.push(n.Pi.updateTargetData(s,g))});let l=Mr(),c=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(h8(s,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(re.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function h8(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W(S_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function f8(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=h_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function d8(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new li(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ty(t,e,n){const r=ie(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ya(o))throw o;W(S_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function wS(t,e,n){const r=ie(t);let i=re.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=ie(l),d=f.xs.get(h);return d!==void 0?j.resolve(f.Ms.get(d)):f.Pi.getTargetData(c,h)}(r,o,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:ue())).next(a=>(p8(r,J5(e),a),{documents:a,Qs:s})))}function p8(t,e,n){let r=t.Os.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class ES{constructor(){this.activeTargetIds=iz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m8{constructor(){this.Mo=new ES,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ES,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="ConnectivityMonitor";class IS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(TS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(TS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function ny(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="RestConnection",y8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===pf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=ny(),a=this.zo(e,n.toUriEncodedString());W(sm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),h=ha(c);return this.Jo(e,a,l,r,h).then(f=>(W(sm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Qo(sm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=y8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class w8 extends v8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=ny();return new Promise((a,l)=>{const c=new Ex;c.setWithCredentials(!0),c.listenOnce(Tx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ch.NO_ERROR:const f=c.getResponseJson();W(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case ch.TIMEOUT:W(St,`RPC '${e}' ${o} timed out`),l(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const d=c.getStatus();if(W(St,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const _=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(v.status);l(new q(_,v.message))}else l(new q(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new q(U.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{W(St,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);W(St,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=ny(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ax(),a=Sx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");W(St,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let d=!1,g=!1;const v=new _8({Yo:S=>{g?W(St,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(d||(W(St,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),W(St,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},Zo:()=>f.close()}),_=(S,w,y)=>{S.listen(w,E=>{try{y(E)}catch(b){setTimeout(()=>{throw b},0)}})};return _(f,Ya.EventType.OPEN,()=>{g||(W(St,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),_(f,Ya.EventType.CLOSE,()=>{g||(g=!0,W(St,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))}),_(f,Ya.EventType.ERROR,S=>{g||(g=!0,Qo(St,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),v.a_(new q(U.UNAVAILABLE,"The operation could not be completed")))}),_(f,Ya.EventType.MESSAGE,S=>{var w;if(!g){const y=S.data[0];me(!!y,16349);const E=y,b=(E==null?void 0:E.error)||((w=E[0])==null?void 0:w.error);if(b){W(St,`RPC '${e}' stream ${i} received error:`,b);const O=b.status;let F=function(C){const P=Ke[C];if(P!==void 0)return sk(P)}(O),A=b.message;F===void 0&&(F=U.INTERNAL,A="Unknown error status: "+O+" with message "+b.message),g=!0,v.a_(new q(F,A)),f.close()}else W(St,`RPC '${e}' stream ${i} received:`,y),v.u_(y)}}),_(a,Ix.STAT_EVENT,S=>{S.stat===zg.PROXY?W(St,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===zg.NOPROXY&&W(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){return new Sz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="PersistentStream";class wk{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _k(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(SS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(SS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E8 extends wk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Pz(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Kn(o.readTime):re.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ey(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Kg(l)?{documents:xz(s,l)}:{query:kz(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lk(s,o.resumeToken);const c=Xg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=vf(s,o.snapshotVersion.toTimestamp());const c=Xg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Dz(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ey(this.serializer),n.removeTarget=e,this.q_(n)}}class T8 extends wk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bz(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ey(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Rz(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{}class S8 extends I8{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Jg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Jg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class A8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Or(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="RemoteStore";class C8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Os(this)&&(W(Rs,"Restarting streams for network reachability change."),await async function(l){const c=ie(l);c.Ea.add(4),await qu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await yd(c)}(this))})}),this.Ra=new A8(r,i)}}async function yd(t){if(Os(t))for(const e of t.da)await e(!0)}async function qu(t){for(const e of t.da)await e(!1)}function Ek(t,e){const n=ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),R_(n)?P_(n):_a(n).O_()&&C_(n,e))}function A_(t,e){const n=ie(t),r=_a(n);n.Ia.delete(e),r.O_()&&Tk(n,e),n.Ia.size===0&&(r.O_()?r.L_():Os(n)&&n.Ra.set("Unknown"))}function C_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_a(t).Y_(e)}function Tk(t,e){t.Va.Ue(e),_a(t).Z_(e)}function P_(t){t.Va=new wz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_a(t).start(),t.Ra.ua()}function R_(t){return Os(t)&&!_a(t).x_()&&t.Ia.size>0}function Os(t){return ie(t).Ea.size===0}function Ik(t){t.Va=void 0}async function P8(t){t.Ra.set("Online")}async function R8(t){t.Ia.forEach((e,n)=>{C_(t,e)})}async function b8(t,e){Ik(t),R_(t)?(t.Ra.ha(e),P_(t)):t.Ra.set("Unknown")}async function x8(t,e,n){if(t.Ra.set("Online"),e instanceof ak&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){W(Rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wf(t,r)}else if(e instanceof ph?t.Va.Ze(e):e instanceof ok?t.Va.st(e):t.Va.tt(e),!n.isEqual(re.min()))try{const r=await vk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),Tk(s,l);const f=new li(h.target,l,c,h.sequenceNumber);C_(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W(Rs,"Failed to raise snapshot:",r),await wf(t,r)}}async function wf(t,e,n){if(!ya(e))throw e;t.Ea.add(1),await qu(t),t.Ra.set("Offline"),n||(n=()=>vk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(Rs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yd(t)})}function Sk(t,e){return e().catch(n=>wf(t,n,e))}async function vd(t){const e=ie(t),n=Di(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:h_;for(;k8(e);)try{const i=await f8(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,V8(e,i)}catch(i){await wf(e,i)}Ak(e)&&Ck(e)}function k8(t){return Os(t)&&t.Ta.length<10}function V8(t,e){t.Ta.push(e);const n=Di(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Ak(t){return Os(t)&&!Di(t).x_()&&t.Ta.length>0}function Ck(t){Di(t).start()}async function D8(t){Di(t).ra()}async function N8(t){const e=Di(t);for(const n of t.Ta)e.ea(n.mutations)}async function O8(t,e,n){const r=t.Ta.shift(),i=v_.from(r,e,n);await Sk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vd(t)}async function M8(t,e){e&&Di(t).X_&&await async function(r,i){if(function(o){return yz(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();Di(r).B_(),await Sk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await vd(r)}}(t,e),Ak(t)&&Ck(t)}async function AS(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),W(Rs,"RemoteStore received new credentials");const r=Os(n);n.Ea.add(3),await qu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yd(n)}async function L8(t,e){const n=ie(t);e?(n.Ea.delete(2),await yd(n)):e||(n.Ea.add(2),await qu(n),n.Ra.set("Unknown"))}function _a(t){return t.ma||(t.ma=function(n,r,i){const s=ie(n);return s.sa(),new E8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:P8.bind(null,t),t_:R8.bind(null,t),r_:b8.bind(null,t),H_:x8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),R_(t)?P_(t):t.Ra.set("Unknown")):(await t.ma.stop(),Ik(t))})),t.ma}function Di(t){return t.fa||(t.fa=function(n,r,i){const s=ie(n);return s.sa(),new T8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:D8.bind(null,t),r_:M8.bind(null,t),ta:N8.bind(null,t),na:O8.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await vd(t)):(await t.fa.stop(),t.Ta.length>0&&(W(Rs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new b_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x_(t,e){if(Or("AsyncQueue",`${e}: ${t}`),ya(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Xa(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.ga=new Me(G.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):X(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ea{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ea(e,n,Ao.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class U8{constructor(){this.queries=PS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ie(n),s=i.queries;i.queries=PS(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function PS(){return new Ns(t=>Gx(t),hd)}async function k_(t,e){const n=ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new F8,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=x_(o,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&D_(n)}async function V_(t,e){const n=ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function j8(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&D_(n)}function $8(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function D_(t){t.Ca.forEach(e=>{e.next()})}var ry,RS;(RS=ry||(ry={})).Ma="default",RS.Cache="cache";class N_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ry.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.key=e}}class Rk{constructor(e){this.key=e}}class B8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ue(),this.mutatedKeys=ue(),this.eu=Kx(e),this.tu=new Ao(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new CS,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),g=fd(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;d&&g?d.data.isEqual(g.data)?v!==_&&(r.track({type:3,doc:g}),S=!0):this.su(d,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!d&&g?(r.track({type:0,doc:g}),S=!0):d&&!g&&(r.track({type:1,doc:d}),S=!0,(l||c)&&(a=!0)),S&&(g?(o=o.add(g),s=_?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(g,v){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Rt:S})}};return _(g)-_(v)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new ea(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Rk(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Pk(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ea.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const O_="SyncEngine";class z8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class q8{constructor(e){this.key=e,this.hu=!1}}class W8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ns(a=>Gx(a),hd),this.Iu=new Map,this.Eu=new Set,this.du=new Me(G.comparator),this.Au=new Map,this.Ru=new E_,this.Vu={},this.mu=new Map,this.fu=Zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function H8(t,e,n=!0){const r=Nk(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await bk(r,e,n,!0),i}async function G8(t,e){const n=Nk(t);await bk(n,e,!0,!1)}async function bk(t,e,n,r){const i=await d8(t.localStore,Gn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await K8(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ek(t.remoteStore,i),a}async function K8(t,e,n,r,i){t.pu=(f,d,g)=>async function(_,S,w,y){let E=S.view.ru(w);E.Cs&&(E=await wS(_.localStore,S.query,!1).then(({documents:A})=>S.view.ru(A,E)));const b=y&&y.targetChanges.get(S.targetId),O=y&&y.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(E,_.isPrimaryClient,b,O);return xS(_,S.targetId,F.au),F.snapshot}(t,f,d,g);const s=await wS(t.localStore,e,!0),o=new B8(e,s.Qs),a=o.ru(s.documents),l=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);xS(t,n,c.au);const h=new z8(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Q8(t,e,n){const r=ie(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!hd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ty(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&A_(r.remoteStore,i.targetId),iy(r,i.targetId)}).catch(ga)):(iy(r,i.targetId),await ty(r.localStore,i.targetId,!0))}async function Y8(t,e){const n=ie(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),A_(n.remoteStore,r.targetId))}async function X8(t,e,n){const r=iq(t);try{const i=await function(o,a){const l=ie(o),c=Ce.now(),h=a.reduce((g,v)=>g.add(v.key),ue());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Mr(),_=ue();return l.Ns.getEntries(g,h).next(S=>{v=S,v.forEach((w,y)=>{y.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(S=>{f=S;const w=[];for(const y of a){const E=fz(y,f.get(y.key).overlayedDocument);E!=null&&w.push(new Bi(y.key,E,Ux(E.value.mapValue),_n.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(S=>{d=S;const w=S.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(g,S.batchId,w)})}).then(()=>({batchId:d.batchId,changes:Yx(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Me(le)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Wu(r,i.changes),await vd(r.remoteStore)}catch(i){const s=x_(i,"Failed to persist write");n.reject(s)}}async function xk(t,e){const n=ie(t);try{const r=await c8(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?me(o.hu,14607):i.removedDocuments.size>0&&(me(o.hu,42227),o.hu=!1))}),await Wu(n,r,e)}catch(r){await ga(r)}}function bS(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.Sa)d.va(a)&&(c=!0)}),c&&D_(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function J8(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Me(G.comparator);o=o.insert(s,Pt.newNoDocument(s,re.min()));const a=ue().add(s),l=new md(re.min(),new Map,new Me(le),o,a);await xk(r,l),r.du=r.du.remove(s),r.Au.delete(e),M_(r)}else await ty(r.localStore,e,!1).then(()=>iy(r,e,n)).catch(ga)}async function Z8(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await u8(n.localStore,e);Vk(n,r,null),kk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wu(n,i)}catch(i){await ga(i)}}async function eq(t,e,n){const r=ie(t);try{const i=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(me(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);Vk(r,e,n),kk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wu(r,i)}catch(i){await ga(i)}}function kk(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Vk(t,e,n){const r=ie(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function iy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Dk(t,r)})}function Dk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(A_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),M_(t))}function xS(t,e,n){for(const r of n)r instanceof Pk?(t.Ru.addReference(r.key,e),tq(t,r)):r instanceof Rk?(W(O_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Dk(t,r.key)):X(19791,{wu:r})}function tq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(O_,"New document in limbo: "+n),t.Eu.add(r),M_(t))}function M_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(Ee.fromString(e)),r=t.fu.next();t.Au.set(r,new q8(n)),t.du=t.du.insert(n,r),Ek(t.remoteStore,new li(Gn(cd(n.path)),r,"TargetPurposeLimboResolution",ad.ce))}}async function Wu(t,e,n){const r=ie(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=I_.As(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const h=ie(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(c,d=>j.forEach(d.Es,g=>h.persistence.referenceDelegate.addReference(f,d.targetId,g)).next(()=>j.forEach(d.ds,g=>h.persistence.referenceDelegate.removeReference(f,d.targetId,g)))))}catch(f){if(!ya(f))throw f;W(S_,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const g=h.Ms.get(d),v=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(v);h.Ms=h.Ms.insert(d,_)}}}(r.localStore,s))}async function nq(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){W(O_,"User change. New user:",e.toKey());const r=await yk(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new q(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wu(n,r.Ls)}}function rq(t,e){const n=ie(t),r=n.Au.get(e);if(r&&r.hu)return ue().add(r.key);{let i=ue();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function Nk(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J8.bind(null,e),e.Pu.H_=j8.bind(null,e.eventManager),e.Pu.yu=$8.bind(null,e.eventManager),e}function iq(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eq.bind(null,e),e}class Ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return l8(this.persistence,new s8,e.initialUser,this.serializer)}Cu(e){return new gk(T_.mi,this.serializer)}Du(e){return new m8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ef.provider={build:()=>new Ef};class sq extends Ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){me(this.persistence.referenceDelegate instanceof _f,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qz(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new gk(r=>_f.mi(r,n),this.serializer)}}class sy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nq.bind(null,this.syncEngine),await L8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U8}()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),r=function(s){return new w8(s)}(e.databaseInfo);return function(s,o,a,l){return new S8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new C8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bS(this.syncEngine,n,0),function(){return IS.v()?new IS:new g8}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const f=new W8(i,s,o,a,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ie(i);W(Rs,"RemoteStore shutting down."),s.Ea.add(5),await qu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}sy.provider={build:()=>new sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="FirestoreClient";class oq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=c_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{W(Ni,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(Ni,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function am(t,e){t.asyncQueue.verifyOperationInProgress(),W(Ni,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aq(t);W(Ni,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>AS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>AS(e.remoteStore,i)),t._onlineComponents=e}async function aq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Ni,"Using user provided OfflineComponentProvider");try{await am(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await am(t,new Ef)}}else W(Ni,"Using default OfflineComponentProvider"),await am(t,new sq(void 0));return t._offlineComponents}async function Ok(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Ni,"Using user provided OnlineComponentProvider"),await kS(t,t._uninitializedComponentsProvider._online)):(W(Ni,"Using default OnlineComponentProvider"),await kS(t,new sy))),t._onlineComponents}function lq(t){return Ok(t).then(e=>e.syncEngine)}async function Tf(t){const e=await Ok(t),n=e.eventManager;return n.onListen=H8.bind(null,e.syncEngine),n.onUnlisten=Q8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=G8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y8.bind(null,e.syncEngine),n}function uq(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new L_({next:d=>{h.Nu(),o.enqueueAndForget(()=>V_(s,f));const g=d.docs.has(a);!g&&d.fromCache?c.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&l&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new N_(cd(a.path),h,{includeMetadataChanges:!0,qa:!0});return k_(s,f)}(await Tf(t),t.asyncQueue,e,n,r)),r.promise}function cq(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new L_({next:d=>{h.Nu(),o.enqueueAndForget(()=>V_(s,f)),d.fromCache&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new N_(a,h,{includeMetadataChanges:!0,qa:!0});return k_(s,f)}(await Tf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="firestore.googleapis.com",DS=!0;class NS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lk,this.ssl=DS}else this.host=e.host,this.ssl=e.ssl??DS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bz)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mk(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m5;switch(r.type){case"firstParty":return new _5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VS.get(n);r&&(W("ComponentProvider","Removing Datastore"),VS.delete(n),r.terminate())}(this),Promise.resolve()}}function hq(t,e,n,r={}){var c;t=Jt(t,_d);const i=ha(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Vb(`https://${a}`),Db("Firestore",!0)),s.host!==Lk&&s.host!==a&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Ss(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=At.MOCK_USER;else{h=Bj(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new At(d)}t._authCredentials=new g5(new Px(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zi(this.firestore,e,this._query)}}class je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new je(this.firestore,e,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($u(n,je._jsonSchema))return new je(e,r||null,new G(Ee.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Je("string",je._jsonSchemaVersion),referencePath:Je("string")};class Ii extends zi{constructor(e,n,r){super(e,n,cd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new je(this.firestore,null,new G(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function y7(t,e,...n){if(t=ut(t),Rx("collection","path",e),t instanceof _d){const r=Ee.fromString(e,...n);return GI(r),new Ii(t,null,r)}{if(!(t instanceof je||t instanceof Ii))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return GI(r),new Ii(t.firestore,null,r)}}function F_(t,e,...n){if(t=ut(t),arguments.length===1&&(e=c_.newId()),Rx("doc","path",e),t instanceof _d){const r=Ee.fromString(e,...n);return HI(r),new je(t,null,new G(r))}{if(!(t instanceof je||t instanceof Ii))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return HI(r),new je(t.firestore,t instanceof Ii?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="AsyncQueue";class MS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _k(this,"async_queue_retry"),this._c=()=>{const r=om();r&&W(OS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ir;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ya(e))throw e;W(OS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Or("INTERNAL UNHANDLED ERROR: ",LS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=b_.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&X(47125,{Pc:LS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function LS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Lr extends _d{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MS(e),this._firestoreClient=void 0,await e}}}function fq(t,e){const n=typeof t=="object"?t:Lb(),r=typeof t=="string"?t:pf,i=Jv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jj("firestore");s&&hq(i,...s)}return i}function wd(t){if(t._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dq(t),t._firestoreClient}function dq(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,c,h){return new M5(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Mk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new oq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mn(vt.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mn(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($u(e,mn._jsonSchema))return mn.fromBase64String(e.bytes)}}mn._jsonSchemaVersion="firestore/bytes/1.0",mn._jsonSchema={type:Je("string",mn._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qn._jsonSchemaVersion}}static fromJSON(e){if($u(e,Qn._jsonSchema))return new Qn(e.latitude,e.longitude)}}Qn._jsonSchemaVersion="firestore/geoPoint/1.0",Qn._jsonSchema={type:Je("string",Qn._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($u(e,Yn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Yn(e.vectorValues);throw new q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yn._jsonSchemaVersion="firestore/vectorValue/1.0",Yn._jsonSchema={type:Je("string",Yn._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=/^__.*__$/;class mq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class Fk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Uk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ac:t})}}class U_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new U_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return If(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Uk(this.Ac)&&pq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gd(e)}Cc(e,n,r,i=!1){return new U_({Ac:e,methodName:n,Dc:r,path:pt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(t){const e=t._freezeSettings(),n=gd(t._databaseId);return new gq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jk(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);$_("Data must be an object, but it was:",o,r);const a=$k(r,o);let l,c;if(s.merge)l=new rn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const d=oy(e,f,n);if(!o.contains(d))throw new q(U.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);zk(h,d)||h.push(d)}l=new rn(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new mq(new Ht(a),l,c)}class Sd extends Td{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sd}}class j_ extends Td{_toFieldTransform(e){return new lz(e.path,new eu)}isEqual(e){return e instanceof j_}}function yq(t,e,n,r){const i=t.Cc(1,e,n);$_("Data must be an object, but it was:",i,r);const s=[],o=Ht.empty();$i(r,(l,c)=>{const h=B_(e,l,n);c=ut(c);const f=i.yc(h);if(c instanceof Sd)s.push(h);else{const d=Hu(c,f);d!=null&&(s.push(h),o.set(h,d))}});const a=new rn(s);return new Fk(o,a,i.fieldTransforms)}function vq(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[oy(e,r,n)],l=[i];if(s.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(oy(e,s[d])),l.push(s[d+1]);const c=[],h=Ht.empty();for(let d=a.length-1;d>=0;--d)if(!zk(c,a[d])){const g=a[d];let v=l[d];v=ut(v);const _=o.yc(g);if(v instanceof Sd)c.push(g);else{const S=Hu(v,_);S!=null&&(c.push(g),h.set(g,S))}}const f=new rn(c);return new Fk(h,f,o.fieldTransforms)}function _q(t,e,n,r=!1){return Hu(n,t.Cc(r?4:3,e))}function Hu(t,e){if(Bk(t=ut(t)))return $_("Unsupported field value:",e,t),$k(t,e);if(t instanceof Td)return function(r,i){if(!Uk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Hu(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ce.fromDate(r);return{timestampValue:vf(i.serializer,s)}}if(r instanceof Ce){const s=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vf(i.serializer,s)}}if(r instanceof Qn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mn)return{bytesValue:lk(i.serializer,r._byteString)};if(r instanceof je){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:w_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yn)return function(o,a){return{mapValue:{fields:{[Lx]:{stringValue:Fx},[mf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return g_(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${od(r)}`)}(t,e)}function $k(t,e){const n={};return kx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$i(t,(r,i)=>{const s=Hu(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Bk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof Qn||t instanceof mn||t instanceof je||t instanceof Td||t instanceof Yn)}function $_(t,e,n){if(!Bk(n)||!bx(n)){const r=od(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function oy(t,e,n){if((e=ut(e))instanceof Ed)return e._internalPath;if(typeof e=="string")return B_(t,e);throw If("Field path arguments must be of type string or ",t,!1,void 0,n)}const wq=new RegExp("[~\\*/\\[\\]]");function B_(t,e,n){if(e.search(wq)>=0)throw If(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ed(...e.split("."))._internalPath}catch{throw If(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function If(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new q(U.INVALID_ARGUMENT,a+t+l)}function zk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Eq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(z_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Eq extends qk{data(){return super.data()}}function z_(t,e){return typeof e=="string"?B_(t,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q_{}class Hk extends q_{}function v7(t,e,...n){let r=[];e instanceof q_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof H_).length,a=s.filter(l=>l instanceof W_).length;if(o>1||o>0&&a>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class W_ extends Hk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new W_(e,n,r)}_apply(e){const n=this._parse(e);return Gk(e._query,n),new zi(e.firestore,e.converter,Qg(e._query,n))}_parse(e){const n=Id(e.firestore);return function(s,o,a,l,c,h,f){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){jS(f,h);const v=[];for(const _ of f)v.push(US(l,s,_));d={arrayValue:{values:v}}}else d=US(l,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||jS(f,h),d=_q(a,o,f,h==="in"||h==="not-in");return Xe.create(c,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class H_ extends q_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new H_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Nn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Gk(o,l),o=Qg(o,l)}(e._query,n),new zi(e.firestore,e.converter,Qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G_ extends Hk{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new G_(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(s,o)}(e._query,this._field,this._direction);return new zi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new va(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function _7(t,e="asc"){const n=e,r=z_("orderBy",t);return G_._create(r,n)}function US(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hx(e)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!G.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tS(t,new G(r))}if(n instanceof je)return tS(t,n._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${od(n)}.`)}function jS(t,e){if(!Array.isArray(t)||t.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Tq{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $i(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[mf].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>He(o.doubleValue));return new Yn(n)}convertGeoPoint(e){return new Qn(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ud(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=xi(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);me(pk(r),9688,{name:e});const i=new Xl(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||Or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Za{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ys extends qk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(z_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",ys._jsonSchema={type:Je("string",ys._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class mh extends ys{data(e={}){return super.data(e)}}class vs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Za(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mh(this._firestore,this._userDataWriter,r.key,r,new Za(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new mh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Za(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new mh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Za(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Iq(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=c_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Iq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){t=Jt(t,je);const e=Jt(t.firestore,Lr);return uq(wd(e),t._key).then(n=>Qk(e,t,n))}vs._jsonSchemaVersion="firestore/querySnapshot/1.0",vs._jsonSchema={type:Je("string",vs._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class K_ extends Tq{constructor(e){super(),this.firestore=e}convertBytes(e){return new mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,n)}}function w7(t){t=Jt(t,zi);const e=Jt(t.firestore,Lr),n=wd(e),r=new K_(e);return Wk(t._query),cq(n,t._query).then(i=>new vs(e,r,t,i))}function Aq(t,e,n){t=Jt(t,je);const r=Jt(t.firestore,Lr),i=Kk(t.converter,e,n);return Ad(r,[jk(Id(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_n.none())])}function E7(t,e,n,...r){t=Jt(t,je);const i=Jt(t.firestore,Lr),s=Id(i);let o;return o=typeof(e=ut(e))=="string"||e instanceof Ed?vq(s,"updateDoc",t._key,e,n,r):yq(s,"updateDoc",t._key,e),Ad(i,[o.toMutation(t._key,_n.exists(!0))])}function T7(t){return Ad(Jt(t.firestore,Lr),[new y_(t._key,_n.none())])}function I7(t,e){const n=Jt(t.firestore,Lr),r=F_(t),i=Kk(t.converter,e);return Ad(n,[jk(Id(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function S7(t,...e){var l,c,h;t=ut(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||FS(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(FS(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let s,o,a;if(t instanceof je)o=Jt(t.firestore,Lr),a=cd(t._key.path),s={next:f=>{e[r]&&e[r](Qk(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Jt(t,zi);o=Jt(f.firestore,Lr),a=f._query;const d=new K_(o);s={next:g=>{e[r]&&e[r](new vs(o,d,f,g))},error:e[r+1],complete:e[r+2]},Wk(t._query)}return function(d,g,v,_){const S=new L_(_),w=new N_(g,S,v);return d.asyncQueue.enqueueAndForget(async()=>k_(await Tf(d),w)),()=>{S.Nu(),d.asyncQueue.enqueueAndForget(async()=>V_(await Tf(d),w))}}(wd(o),a,i,s)}function Ad(t,e){return function(r,i){const s=new Ir;return r.asyncQueue.enqueueAndForget(async()=>X8(await lq(r),i,s)),s.promise}(wd(t),e)}function Qk(t,e,n){const r=n.docs.get(e._key),i=new K_(t);return new ys(t,i,e._key,r,new Za(n.hasPendingWrites,n.fromCache),e.converter)}function $S(){return new j_("serverTimestamp")}(function(e,n=!0){(function(i){ma=i})(fa),Go(new As("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Lr(new y5(r.getProvider("auth-internal")),new w5(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),wi(BI,zI,e),wi(BI,zI,"esm2020")})();const Cq={VITE_FIREBASE_API_KEY:"AIzaSyBz4HcPinj3wkeTqVirTVl0bujE0buX6G8",VITE_FIREBASE_APP_ID:"1:641158626848:web:afa272e28d8567c988c645",VITE_FIREBASE_AUTH_DOMAIN:"local-effort.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"641158626848",VITE_FIREBASE_PROJECT_ID:"local-effort",VITE_FIREBASE_STORAGE_BUCKET:"local-effort.appspot.com"},st=(typeof import.meta<"u"?Cq:{})||{},BS={apiKey:st.VITE_API_KEY||st.VITE_FIREBASE_API_KEY||st.REACT_APP_API_KEY,authDomain:st.VITE_AUTH_DOMAIN||st.VITE_FIREBASE_AUTH_DOMAIN||st.REACT_APP_AUTH_DOMAIN,projectId:st.VITE_PROJECT_ID||st.VITE_FIREBASE_PROJECT_ID||st.REACT_APP_PROJECT_ID,storageBucket:st.VITE_STORAGE_BUCKET||st.VITE_FIREBASE_STORAGE_BUCKET||st.REACT_APP_STORAGE_BUCKET,messagingSenderId:st.VITE_MESSAGING_SENDER_ID||st.VITE_FIREBASE_MESSAGING_SENDER_ID||st.REACT_APP_MESSAGING_SENDER_ID,appId:st.VITE_APP_ID||st.VITE_FIREBASE_APP_ID||st.REACT_APP_APP_ID};let ta=null;try{BS.apiKey?ta=Mb(BS):console.warn("Firebase config missing  auth/comments disabled on client.")}catch(t){console.warn("Failed to initialize Firebase app:",t&&(t.message||t))}const Sf=ta?fq(ta):null,Sr=ta?h5(ta):null,zS=ta?new gr:null,A7=()=>!Sr||!zS?Promise.reject(new Error("Auth not configured")):EB(Sr,zS),C7=()=>Sr?tB(Sr):Promise.resolve();function qS({children:t}){const[e,n]=V.useState(null),[r,i]=V.useState(!0);return V.useEffect(()=>{if(!Sr){i(!1);return}const s=ox(Sr,o=>{n(o),i(!1)});return()=>s()},[]),r?M.createElement("div",{className:"p-6 text-center"},"Loading"):!Sr||!e?M.createElement("div",{className:"mx-auto max-w-xl p-6 text-center"},M.createElement("h2",{className:"text-xl font-semibold mb-2"},"Sign in required"),M.createElement("p",{className:"mb-4 text-gray-600"},"Please sign in to access this area."),M.createElement(qh,{className:"inline-block px-4 py-2 rounded bg-black text-white",to:"/auth"},"Go to Sign In")):t}async function P7(t,e){if(!Sf||!t)return null;const n=F_(Sf,"userProfiles",t),r={uid:t,...e,updatedAt:$S?$S():new Date};return await Aq(n,r,{merge:!0}),r}async function Pq(t){if(!Sf||!t)return null;const e=F_(Sf,"userProfiles",t),n=await Sq(e);return n.exists()?n.data():null}const WS={VITE_ADMIN_EMAILS:"dataweston@gmail.com"},R7=[{key:"happymonday",name:"Happy Monday",description:"Planning & operations app (internal partner app).",type:"internal",route:"/partners/happymonday",icon:"ClipboardList"},{key:"inbox",name:"Inbox",description:"Mailbox (Brevo) for inbound messages.",type:"internal",route:"https://app.brevo.com/",icon:"Inbox"},{key:"studio",name:"Sanity Studio",description:"Content management studio (opens in new tab).",type:"external",href:"https://www.sanity.io/@oz5yeSAiw/studio/q4scncd6uaeyzxo567jir45u/default",icon:"FileText"},{key:"zafa",name:"ZAFA Events",description:"Events management utilities for ZAFA.",type:"internal",route:"/partners/zafa-events",icon:"Calendar"},{key:"gallant",name:"Gallant Hawking",description:"Landing builder / micro-site utilities.",type:"internal",route:"/partners/gallant-hawking",icon:"LayoutDashboard"}];function Rq(t,e){const n=t&&(t.roles||t.tools||t.apps)||[];return n==="all"||Array.isArray(n)&&(n.includes("admin")||n.includes("owner"))?!0:Array.isArray(n)?n.includes(e):!1}function b7(t){const e=t&&(t.roles||t.tools||t.apps)||[];return e==="all"?!0:Array.isArray(e)&&(e.includes("admin")||e.includes("owner"))}function bq(){const t=import.meta&&WS?WS:{},e=[t.VITE_ADMIN_EMAILS,t.VITE_ADMIN_EMAIL,t.VITE_OWNER_EMAILS,t.VITE_OWNER_EMAIL,t.NEXT_PUBLIC_ADMIN_EMAILS,t.NEXT_PUBLIC_ADMIN_EMAIL].filter(Boolean);return e.length?e.join(",").split(/[\s,;,]+/).map(n=>n.trim().toLowerCase()).filter(Boolean):[]}function xq(t){if(!t)return!1;const e=String(t).trim().toLowerCase(),n=bq();if(n.includes(e))return!0;const r=e.split("@")[1];return r&&n.some(i=>i.startsWith("@")&&i.slice(1)===r)?!0:n.length===0&&typeof window<"u"?window.__LE_FIRST_ADMIN_EMAIL?window.__LE_FIRST_ADMIN_EMAIL===e:(window.__LE_FIRST_ADMIN_EMAIL=e,!0):!1}function lm({toolKey:t,children:e}){const[n,r]=V.useState(null),[i,s]=V.useState(!1),[o,a]=V.useState(!0);return V.useEffect(()=>{if(!Sr){a(!1);return}const l=ox(Sr,async c=>{if(r(c),!c){s(!1),a(!1);return}try{const h=await Pq(c.uid),f=xq(c.email);s(f?!0:Rq(h,t))}catch{s(!1)}finally{a(!1)}});return()=>l()},[t]),o?M.createElement("div",{className:"p-6 text-center"},"Loading"):n?i?e:M.createElement("div",{className:"mx-auto max-w-xl p-6 text-center"},M.createElement("h2",{className:"text-xl font-semibold mb-2"},"Access denied"),M.createElement("p",{className:"mb-4 text-gray-600"},"Your account is not assigned to this tool."),M.createElement(qh,{className:"inline-block px-4 py-2 rounded border",to:"/partner-portal"},"Back to Portal")):M.createElement("div",{className:"mx-auto max-w-xl p-6 text-center"},M.createElement("h2",{className:"text-xl font-semibold mb-2"},"Sign in required"),M.createElement("p",{className:"mb-4 text-gray-600"},"Please sign in to access partner tools."),M.createElement(qh,{className:"inline-block px-4 py-2 rounded bg-black text-white",to:"/auth"},"Go to Sign In"))}const kq=V.lazy(()=>Ze(()=>import("./HomePage-CmaM1Y0X.js"),__vite__mapDeps([0,1,2]))),Vq=V.lazy(()=>Ze(()=>import("./AboutUsPage-B7YfHbDb.js"),__vite__mapDeps([3,1,2]))),Dq=V.lazy(()=>Ze(()=>import("./ServicesPage-W_Co6_Hl.js"),__vite__mapDeps([4,1,5]))),Nq=V.lazy(()=>Ze(()=>import("./PricingPage-CZjjPqxm.js"),[])),Oq=V.lazy(()=>Ze(()=>import("./CrowdfundingPage-DuxipXGl.js"),[])),Mq=V.lazy(()=>Ze(()=>import("./MenuPage-YVm2eBew.js"),__vite__mapDeps([6,1]))),Lq=V.lazy(()=>Ze(()=>import("./HappyMondayPage-BVUkJT6h.js"),[])),Fq=V.lazy(()=>Ze(()=>import("./EventsPage-CRI3NVap.js"),__vite__mapDeps([7,5,1]))),Uq=V.lazy(()=>Ze(()=>import("./GalleryPage-DIg135LX.js"),__vite__mapDeps([8,1]))),jq=V.lazy(()=>Ze(()=>import("./MealPrepPage-CnUpvq-Q.js"),__vite__mapDeps([9,5,1,10]))),$q=V.lazy(()=>Ze(()=>import("./PartnerPortalPage-OUk0daUj.js"),__vite__mapDeps([11,10,12,13,14,15,16,17,18,19]))),Bq=V.lazy(()=>Ze(()=>import("./PartnerPortalWelcome-BOR7uYn5.js"),__vite__mapDeps([20,10,12,13,14,15,16,17,18,19]))),zq=V.lazy(()=>Ze(()=>import("./InboxPage-CbIEEndk.js"),[])),qq=V.lazy(()=>Ze(()=>import("./CampaignsPage-_-jDJpYz.js"),[])),Wq=V.lazy(()=>Ze(()=>import("./AuthPage-386gU4xl.js"),__vite__mapDeps([21,10]))),Hq=V.lazy(()=>Ze(()=>import("./zafa-BhE7KaO1.js"),[])),Gq=V.lazy(()=>Ze(()=>import("./gallant-I03VSrhz.js"),[])),Kq=V.lazy(()=>Ze(()=>import("./happymonday-l20TKiLV.js"),[])),Qq=()=>{const t=oa();return V.useEffect(()=>{var e,n;(n=(e=document.fonts)==null?void 0:e.ready)==null||n.then(()=>document.body.classList.add("fonts-loaded"))},[]),M.createElement(so,null,M.createElement("div",{className:"min-h-screen flex flex-col bg-white"},M.createElement(y3,null),M.createElement("main",{className:"flex-1"},M.createElement(V.Suspense,{fallback:M.createElement(nR,null)},M.createElement(m1,{mode:"wait"},M.createElement(vM,{location:t,key:t.pathname},M.createElement(et,{path:"/",element:M.createElement(it,null,M.createElement(kq,null))}),M.createElement(et,{path:"/about",element:M.createElement(it,null,M.createElement(Vq,null))}),M.createElement(et,{path:"/services",element:M.createElement(it,null,M.createElement(Dq,null))}),M.createElement(et,{path:"/pricing",element:M.createElement(it,null,M.createElement(Nq,null))}),M.createElement(et,{path:"/crowdfunding",element:M.createElement(it,null,M.createElement(Oq,null))}),M.createElement(et,{path:"/menu",element:M.createElement(it,null,M.createElement(Mq,null))}),M.createElement(et,{path:"/meal-prep",element:M.createElement(it,null,M.createElement(jq,null))}),M.createElement(et,{path:"/happy-monday",element:M.createElement(it,null,M.createElement(Lq,null))}),M.createElement(et,{path:"/events",element:M.createElement(it,null,M.createElement(Fq,null))}),M.createElement(et,{path:"/gallery",element:M.createElement(it,null,M.createElement(Uq,null))}),M.createElement(et,{path:"/partner-portal",element:M.createElement(it,null,M.createElement($q,null))}),M.createElement(et,{path:"/partner-portal/welcome",element:M.createElement(it,null,M.createElement(Bq,null))}),M.createElement(et,{path:"/auth",element:M.createElement(it,null,M.createElement(Wq,null))}),M.createElement(et,{path:"/inbox",element:M.createElement(it,null,M.createElement(qS,null,M.createElement(zq,null)))}),M.createElement(et,{path:"/campaigns",element:M.createElement(it,null,M.createElement(qS,null,M.createElement(qq,null)))}),M.createElement(et,{path:"/partners/zafa-events",element:M.createElement(it,null,M.createElement(lm,{toolKey:"zafa"},M.createElement(Hq,null)))}),M.createElement(et,{path:"/partners/gallant-hawking",element:M.createElement(it,null,M.createElement(lm,{toolKey:"gallant"},M.createElement(Gq,null)))}),M.createElement(et,{path:"/partners/happy-monday",element:M.createElement(it,null,M.createElement(lm,{toolKey:"happymonday"},M.createElement(Kq,null)))}))))),M.createElement(v3,null),M.createElement(kj,null)))};function Yq(){return M.createElement(CM,null,M.createElement(Qq,null))}var Xq="@vercel/analytics",Jq="1.5.0",Zq=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function Yk(){return typeof window<"u"}function Xk(){try{const t="production"}catch{}return"production"}function e7(t="auto"){if(t==="auto"){window.vam=Xk();return}window.vam=t}function t7(){return(Yk()?window.vam:Xk())||"production"}function ay(){return t7()==="development"}function n7(t){return t.scriptSrc?t.scriptSrc:ay()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function r7(t={debug:!0}){var e;if(!Yk())return;e7(t.mode),Zq(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const n=n7(t);if(document.head.querySelector(`script[src*="${n}"]`))return;const r=document.createElement("script");r.src=n,r.defer=!0,r.dataset.sdkn=Xq+(t.framework?`/${t.framework}`:""),r.dataset.sdkv=Jq,t.disableAutoTrack&&(r.dataset.disableAutoTrack="1"),t.endpoint?r.dataset.endpoint=t.endpoint:t.basePath&&(r.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(r.dataset.dsn=t.dsn),r.onerror=()=>{const i=ay()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${i}`)},ay()&&t.debug===!1&&(r.dataset.debug="false"),document.head.appendChild(r)}r7();const i7=um.createRoot(document.getElementById("root"));i7.render(M.createElement(M.StrictMode,null,M.createElement(Yq,null)));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});export{m1 as A,Rq as B,m7 as C,zS as D,EB as E,p7 as F,ox as G,MR as H,d7 as I,sO as J,w7 as K,qh as L,E7 as M,F_ as N,T7 as O,ce as P,Sq as Q,M as R,Aq as S,l7 as T,Ap as W,Ze as _,u7 as a,oa as b,o7 as c,xj as d,Sr as e,c7 as f,_u as g,C7 as h,A7 as i,Tr as j,Sf as k,y7 as l,mr as m,S7 as n,_7 as o,I7 as p,v7 as q,V as r,h7 as s,$S as t,tM as u,Pq as v,P7 as w,b7 as x,xq as y,R7 as z};
