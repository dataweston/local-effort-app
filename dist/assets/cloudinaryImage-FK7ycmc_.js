import{R as L,r as ut}from"./index-BB2wScGM.js";var z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kt={exports:{}};(function(e,t){var r=200,n="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",u="[object Array]",l="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Function]",A="[object GeneratorFunction]",R="[object Map]",G="[object Number]",Q="[object Object]",rt="[object Promise]",D="[object RegExp]",M="[object Set]",J="[object String]",U="[object Symbol]",F="[object WeakMap]",V="[object ArrayBuffer]",m="[object DataView]",S="[object Float32Array]",j="[object Float64Array]",H="[object Int8Array]",yt="[object Int16Array]",v="[object Int32Array]",O="[object Uint8Array]",nt="[object Uint8ClampedArray]",q="[object Uint16Array]",Y="[object Uint32Array]",vt=/[\\^$.*+?()[\]{}|]/g,wt=/\w*$/,xn=/^\[object .+?Constructor\]$/,Mn=/^(?:0|[1-9]\d*)$/,_={};_[o]=_[u]=_[V]=_[m]=_[l]=_[h]=_[S]=_[j]=_[H]=_[yt]=_[v]=_[R]=_[G]=_[Q]=_[D]=_[M]=_[J]=_[U]=_[O]=_[nt]=_[q]=_[Y]=!0,_[d]=_[p]=_[F]=!1;var Fn=typeof z=="object"&&z&&z.Object===Object&&z,Rn=typeof self=="object"&&self&&self.Object===Object&&self,k=Fn||Rn||Function("return this")(),Ae=t&&!t.nodeType&&t,Te=Ae&&!0&&e&&!e.nodeType&&e,jn=Te&&Te.exports===Ae;function Ln(i,a){return i.set(a[0],a[1]),i}function Pn(i,a){return i.add(a),i}function Vn(i,a){for(var c=-1,f=i?i.length:0;++c<f&&a(i[c],c,i)!==!1;);return i}function kn(i,a){for(var c=-1,f=a.length,w=i.length;++c<f;)i[w+c]=a[c];return i}function $e(i,a,c,f){for(var w=-1,T=i?i.length:0;++w<T;)c=a(c,i[w],w,i);return c}function In(i,a){for(var c=-1,f=Array(i);++c<i;)f[c]=a(c);return f}function Bn(i,a){return i==null?void 0:i[a]}function Oe(i){var a=!1;if(i!=null&&typeof i.toString!="function")try{a=!!(i+"")}catch{}return a}function Se(i){var a=-1,c=Array(i.size);return i.forEach(function(f,w){c[++a]=[w,f]}),c}function It(i,a){return function(c){return i(a(c))}}function Ce(i){var a=-1,c=Array(i.size);return i.forEach(function(f){c[++a]=f}),c}var Gn=Array.prototype,Qn=Function.prototype,bt=Object.prototype,Bt=k["__core-js_shared__"],Ee=function(){var i=/[^.]+$/.exec(Bt&&Bt.keys&&Bt.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),xe=Qn.toString,N=bt.hasOwnProperty,At=bt.toString,Dn=RegExp("^"+xe.call(N).replace(vt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=jn?k.Buffer:void 0,Fe=k.Symbol,Re=k.Uint8Array,Un=It(Object.getPrototypeOf,Object),qn=Object.create,Nn=bt.propertyIsEnumerable,zn=Gn.splice,je=Object.getOwnPropertySymbols,Jn=Me?Me.isBuffer:void 0,Hn=It(Object.keys,Object),Gt=ot(k,"DataView"),dt=ot(k,"Map"),Qt=ot(k,"Promise"),Dt=ot(k,"Set"),Ut=ot(k,"WeakMap"),ft=ot(Object,"create"),Yn=X(Gt),Wn=X(dt),Kn=X(Qt),Xn=X(Dt),Zn=X(Ut),Le=Fe?Fe.prototype:void 0,Pe=Le?Le.valueOf:void 0;function W(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function ti(){this.__data__=ft?ft(null):{}}function ei(i){return this.has(i)&&delete this.__data__[i]}function ri(i){var a=this.__data__;if(ft){var c=a[i];return c===n?void 0:c}return N.call(a,i)?a[i]:void 0}function ni(i){var a=this.__data__;return ft?a[i]!==void 0:N.call(a,i)}function ii(i,a){var c=this.__data__;return c[i]=ft&&a===void 0?n:a,this}W.prototype.clear=ti,W.prototype.delete=ei,W.prototype.get=ri,W.prototype.has=ni,W.prototype.set=ii;function I(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function si(){this.__data__=[]}function oi(i){var a=this.__data__,c=Tt(a,i);if(c<0)return!1;var f=a.length-1;return c==f?a.pop():zn.call(a,c,1),!0}function ai(i){var a=this.__data__,c=Tt(a,i);return c<0?void 0:a[c][1]}function ui(i){return Tt(this.__data__,i)>-1}function ci(i,a){var c=this.__data__,f=Tt(c,i);return f<0?c.push([i,a]):c[f][1]=a,this}I.prototype.clear=si,I.prototype.delete=oi,I.prototype.get=ai,I.prototype.has=ui,I.prototype.set=ci;function it(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function li(){this.__data__={hash:new W,map:new(dt||I),string:new W}}function di(i){return $t(this,i).delete(i)}function fi(i){return $t(this,i).get(i)}function hi(i){return $t(this,i).has(i)}function pi(i,a){return $t(this,i).set(i,a),this}it.prototype.clear=li,it.prototype.delete=di,it.prototype.get=fi,it.prototype.has=hi,it.prototype.set=pi;function st(i){this.__data__=new I(i)}function gi(){this.__data__=new I}function mi(i){return this.__data__.delete(i)}function _i(i){return this.__data__.get(i)}function yi(i){return this.__data__.has(i)}function vi(i,a){var c=this.__data__;if(c instanceof I){var f=c.__data__;if(!dt||f.length<r-1)return f.push([i,a]),this;c=this.__data__=new it(f)}return c.set(i,a),this}st.prototype.clear=gi,st.prototype.delete=mi,st.prototype.get=_i,st.prototype.has=yi,st.prototype.set=vi;function wi(i,a){var c=zt(i)||qi(i)?In(i.length,String):[],f=c.length,w=!!f;for(var T in i)N.call(i,T)&&!(w&&(T=="length"||Gi(T,f)))&&c.push(T);return c}function Ve(i,a,c){var f=i[a];(!(N.call(i,a)&&Ge(f,c))||c===void 0&&!(a in i))&&(i[a]=c)}function Tt(i,a){for(var c=i.length;c--;)if(Ge(i[c][0],a))return c;return-1}function bi(i,a){return i&&ke(a,Jt(a),i)}function qt(i,a,c,f,w,T,B){var $;if(f&&($=T?f(i,w,T,B):f(i)),$!==void 0)return $;if(!Ot(i))return i;var Ue=zt(i);if(Ue){if($=ki(i),!a)return Li(i,$)}else{var at=K(i),qe=at==p||at==A;if(zi(i))return Ci(i,a);if(at==Q||at==o||qe&&!T){if(Oe(i))return T?i:{};if($=Ii(qe?{}:i),!a)return Pi(i,bi($,i))}else{if(!_[at])return T?i:{};$=Bi(i,at,qt,a)}}B||(B=new st);var Ne=B.get(i);if(Ne)return Ne;if(B.set(i,$),!Ue)var ze=c?Vi(i):Jt(i);return Vn(ze||i,function(Ht,St){ze&&(St=Ht,Ht=i[St]),Ve($,St,qt(Ht,a,c,f,St,i,B))}),$}function Ai(i){return Ot(i)?qn(i):{}}function Ti(i,a,c){var f=a(i);return zt(i)?f:kn(f,c(i))}function $i(i){return At.call(i)}function Oi(i){if(!Ot(i)||Di(i))return!1;var a=De(i)||Oe(i)?Dn:xn;return a.test(X(i))}function Si(i){if(!Be(i))return Hn(i);var a=[];for(var c in Object(i))N.call(i,c)&&c!="constructor"&&a.push(c);return a}function Ci(i,a){if(a)return i.slice();var c=new i.constructor(i.length);return i.copy(c),c}function Nt(i){var a=new i.constructor(i.byteLength);return new Re(a).set(new Re(i)),a}function Ei(i,a){var c=a?Nt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function xi(i,a,c){var f=a?c(Se(i),!0):Se(i);return $e(f,Ln,new i.constructor)}function Mi(i){var a=new i.constructor(i.source,wt.exec(i));return a.lastIndex=i.lastIndex,a}function Fi(i,a,c){var f=a?c(Ce(i),!0):Ce(i);return $e(f,Pn,new i.constructor)}function Ri(i){return Pe?Object(Pe.call(i)):{}}function ji(i,a){var c=a?Nt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function Li(i,a){var c=-1,f=i.length;for(a||(a=Array(f));++c<f;)a[c]=i[c];return a}function ke(i,a,c,f){c||(c={});for(var w=-1,T=a.length;++w<T;){var B=a[w],$=void 0;Ve(c,B,$===void 0?i[B]:$)}return c}function Pi(i,a){return ke(i,Ie(i),a)}function Vi(i){return Ti(i,Jt,Ie)}function $t(i,a){var c=i.__data__;return Qi(a)?c[typeof a=="string"?"string":"hash"]:c.map}function ot(i,a){var c=Bn(i,a);return Oi(c)?c:void 0}var Ie=je?It(je,Object):Yi,K=$i;(Gt&&K(new Gt(new ArrayBuffer(1)))!=m||dt&&K(new dt)!=R||Qt&&K(Qt.resolve())!=rt||Dt&&K(new Dt)!=M||Ut&&K(new Ut)!=F)&&(K=function(i){var a=At.call(i),c=a==Q?i.constructor:void 0,f=c?X(c):void 0;if(f)switch(f){case Yn:return m;case Wn:return R;case Kn:return rt;case Xn:return M;case Zn:return F}return a});function ki(i){var a=i.length,c=i.constructor(a);return a&&typeof i[0]=="string"&&N.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function Ii(i){return typeof i.constructor=="function"&&!Be(i)?Ai(Un(i)):{}}function Bi(i,a,c,f){var w=i.constructor;switch(a){case V:return Nt(i);case l:case h:return new w(+i);case m:return Ei(i,f);case S:case j:case H:case yt:case v:case O:case nt:case q:case Y:return ji(i,f);case R:return xi(i,f,c);case G:case J:return new w(i);case D:return Mi(i);case M:return Fi(i,f,c);case U:return Ri(i)}}function Gi(i,a){return a=a??s,!!a&&(typeof i=="number"||Mn.test(i))&&i>-1&&i%1==0&&i<a}function Qi(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function Di(i){return!!Ee&&Ee in i}function Be(i){var a=i&&i.constructor,c=typeof a=="function"&&a.prototype||bt;return i===c}function X(i){if(i!=null){try{return xe.call(i)}catch{}try{return i+""}catch{}}return""}function Ui(i){return qt(i,!0,!0)}function Ge(i,a){return i===a||i!==i&&a!==a}function qi(i){return Ni(i)&&N.call(i,"callee")&&(!Nn.call(i,"callee")||At.call(i)==o)}var zt=Array.isArray;function Qe(i){return i!=null&&Ji(i.length)&&!De(i)}function Ni(i){return Hi(i)&&Qe(i)}var zi=Jn||Wi;function De(i){var a=Ot(i)?At.call(i):"";return a==p||a==A}function Ji(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=s}function Ot(i){var a=typeof i;return!!i&&(a=="object"||a=="function")}function Hi(i){return!!i&&typeof i=="object"}function Jt(i){return Qe(i)?wi(i):Si(i)}function Yi(){return[]}function Wi(){return!1}e.exports=Ui})(Kt,Kt.exports);var Z=Kt.exports,ht=function(){return ht=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ht.apply(this,arguments)};function Ki(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function l(p){try{d(n.next(p))}catch(A){u(A)}}function h(p){try{d(n.throw(p))}catch(A){u(A)}}function d(p){p.done?o(p.value):s(p.value).then(l,h)}d((n=n.apply(e,[])).next())})}function Xi(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=l(0),u.throw=l(1),u.return=l(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(p){return h([d,p])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(p){d=[6,p],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Ct(e,t,r,n,s){return Ki(this,void 0,void 0,function(){var o,u;return Xi(this,function(l){switch(l.label){case 0:if(r===void 0)return[2];u=0,l.label=1;case 1:return u<r.length?[4,r[u](e,t,n,s,r)]:[3,4];case 2:if(o=l.sent(),o==="canceled")return[3,4];l.label=3;case 3:return u++,[3,1];case 4:return o!=="canceled"?[2,o]:[2]}})})}var Xt=function(e,t){return t===void 0&&(t={}),e?{trackedAnalytics:ht({sdkCode:e.sdkCode,sdkSemver:e.sdkSemver,techVersion:e.techVersion},t)}:null},Zi=function(){function e(t,r,n,s){var o=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var u=Z(r);Ct(t,u,n,this.htmlPluginState,s).then(function(l){if(o.isMounted){o.htmlPluginState.pluginEventSubscription.forEach(function(d){d()});var h=Xt(s,l);o.imgElement.setAttribute("src",u.toURL(h))}})}return e.prototype.update=function(t,r,n){var s=this,o=Z(t);Ct(this.imgElement,o,r,this.htmlPluginState).then(function(u){if(s.isMounted){var l=Xt(n,u);s.imgElement.setAttribute("src",o.toURL(l))}})},e.prototype.unmount=function(){this.isMounted=!1},e}();let y=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}},ts=class extends Error{constructor(t="Unsupported"){super(t)}};function ne(e){return new ts(e)}function es(){return this._qualifierModel||{error:ne(`unsupported qualifier ${this.constructor.name}`)}}let rs=class{constructor(){this._qualifierModel={}}toJson(){return es.apply(this)}},g=class extends rs{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof y?this.qualifierValue=r:(this.qualifierValue=new y,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},C=class extends g{constructor(t,r){let n;r?n=new y([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function ns(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function is(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:ne(`unsupported action ${this.constructor.name}`)}}let ss=class{constructor(){this._actionModel={}}toJson(){return is.apply(this)}},x=class extends ss{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),ns(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new C(n)):this.qualifiers.set(r,new g(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new C(t)):t instanceof C&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};class ie extends x{constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class Ft extends ie{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new g("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new g("h",t)),this}static fromJson(t){const r=new Ft;return t.width&&r.width(t.width),t.height&&r.height(t.height),t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function os(){return new Ft}function pr(){return new ie("faces")}function as(){return new ie("ocr_text")}class us extends x{constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new g("e",`blur_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new g("e",`blur_region${t}`)),this.addQualifier(new g("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new g("e",`blur_faces${t}`))):this.addQualifier(new g("e",`blur${t}`))}static fromJson(t){const{strength:r,region:n}=t,s=new this(r);return r&&s.strength(r),n&&n.regionType==="faces"&&s.region(pr()),n&&n.regionType==="ocr_text"&&s.region(as()),n&&n.regionType==="custom"&&s.region(Ft.fromJson(n)),s}}function tt(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const gr={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},cs={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},mr={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},_r={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},ls={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},yr={444:"CHROMA_444",420:"CHROMA_420"},ds={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},fs=tt(yr);tt(ds);const hs=tt(gr),ps=tt(cs),vr=tt(mr);tt(_r);tt(ls);class wr extends x{constructor(t,r){super(),this._actionModel={},this._actionModel.actionType=vr[t]||t;const n=this.createEffectQualifier(t,r);this.addQualifier(n)}createEffectQualifier(t,r){let n;return r?n=new y([t,`${r}`]).setDelimiter(":"):n=new y(t),new g("e",n)}static fromJson(t){const{actionType:r,level:n,strength:s}=t,o=mr[r]||r;return new this(o,n||s)}}class gs extends wr{constructor(t,r){super(t,r),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=vr[t]||t,r&&this.setLevel(r)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const r=this.createEffectQualifier(this.effectType,t);return this.addQualifier(r),this}}function Rt(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class ms extends x{constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new y(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new y(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new y(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new y(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new y(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new g("e",t))}static fromJson(t){const{actionType:r,paths:n,cornersLevel:s,despeckleLevel:o,detailLevel:u,numOfColors:l}=t,h=new this;return n&&h.paths(n),s&&h.cornersLevel(s),o&&h.despeckleLevel(o),u&&h.detailsLevel(u),l&&h.numOfColors(l),h}}class _s extends gs{level(t){return this._actionModel.level=t,this.setLevel(t)}}class ys extends x{constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new g("e",new y("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new g("e",new y(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new g("e",new y(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:r,type:n,stripesStrength:s}=t,o=new this;return n==="xray"&&o.xray(),n==="stripes"&&s&&o.stripesStrength(s),o}}class vs extends _s{color(t){return this._actionModel.color=t,this.addQualifier(new g("co",new y(Rt(t))))}static fromJson(t){const{actionType:r,level:n,color:s}=t,o=new this(r,n);return s&&o.color(s),o}}class ws extends x{constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new g("e",`pixelate_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new g("e",`pixelate_region${t}`)),this.addQualifier(new g("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new g("e",`pixelate_faces${t}`))):this.addQualifier(new g("e",`pixelate${t}`))}static fromJson(t){const{region:r,squareSize:n}=t,s=new this(n);return n&&s.squareSize(n),r&&r.regionType==="faces"&&s.region(pr()),r&&r.regionType==="custom"&&s.region(os()),s}}const bs=e=>Ss(encodeURIComponent,$s,Os)(e),As=/[!'()*~_.-]/g,Ts={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},$s=e=>e.replace(As,t=>{var r;return(r=Ts[t])!==null&&r!==void 0?r:t}),Os=e=>e.replace(/%20/g," "),Ss=(...e)=>t=>e.reduce((r,n)=>n(r),t);function Cs(e){return new us(e)}function Es(){return new wr("grayscale")}function Je(e){return new vs("colorize",e)}function xs(){return new ms}function Ms(){return new ys}function Fs(e){return new ws(e)}let Rs=class extends x{constructor(t){super(),this._actionModel={},this.addQualifier(new g("b",new y(Rt(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}},He=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:ne(`unsupported action ${this.constructor.name}`)}}};function js(e){const t=e;return"error"in t&&!!t.error}function Ls(){return new C("ignore_aspect_ratio")}function Ps(){return new C("lossy")}function Vs(){return new C("preserve_transparency")}function ks(e){return new C("progressive",e)}function Is(){return new C("region_relative")}function Bs(){return new C("relative")}let se=class extends y{constructor(t){super(t),this.val=t}getValue(){return this.val}},br=class extends x{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof se?s=r.getValue():s=r,this._actionModel.actionType=ps[t],this._actionModel[n]=s,this.addQualifier(new g(t,r))}},Gs=class extends C{constructor(t){super("progressive",t)}},Zt=class extends br{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(Ps()),this}progressive(t){return t instanceof Gs?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(ks(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Vs()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}},jt=class Ar{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new He(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof Ar?this.actions=this.actions.concat(t.actions):this.actions.push(new He(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new Zt("q",t)),this}format(t){return this.addAction(new Zt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new Rs(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new x;let n=t;return typeof t=="string"&&(n=new C(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(js(n))return n;t.push(n)}return{actions:t}}};function Ye(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}let Qs=class extends y{},Tr=class extends x{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=hs[t]||t,this.addQualifier(new g("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new g("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new g("w",t))}aspectRatio(t){if(t instanceof Qs)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new g("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=Ye(t),this.addQualifier(new g("ar",Ye(t)));if(t instanceof C)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(Bs())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(Is())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=gr[r]||r,p=new this(d,l,h);return u&&p.aspectRatio(u==="ignore_aspect_ratio"?Ls():u),s&&p.relative(),o&&p.regionRelative(),p}},Lt=class extends g{constructor(t){super("g",new y(t))}},$r=class extends Lt{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}},Or=class extends Lt{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}},Sr=class extends Lt{constructor(t){super(t)}};function Ds(e){return new Sr(e)}function Cr(...e){const t=[...e];return new Or(t)}function Er(){return new $r}let ct=class extends y{constructor(t){super(),this.name=t}toString(){return this.name}};function Us(){return new ct("ocr_text")}function qs(e){return e&&`${e}`.split(":")[0]==="auto"}function Ns(e){const t=oe(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function oe(e){return`${e}`.replace("g_","")}function zs(e){return{compass:oe(e),gravityType:"direction"}}function Js(e){return oe(e)==="ocr_text"}function Hs(){return{gravityType:"ocr"}}function Ys(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Ws(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function xr(e){let t;const r=e==="auto"?new $r:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(Ws)}}function Ks(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=Er().autoFocus(...o);s.fallbackGravity=xr(u)}return s}function Xs(e){const r=e.split(":").map(n=>new ct(n));return new Or(r)}function Zs(e){return Ns(e)?zs(e):Js(e)?Hs():qs(e)||Ys(e)?xr(e):Ks(typeof e=="string"?Xs(e):e)}let to=class Mr extends y{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof ct?t:new ct(t);return new Mr(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}},Fr=class extends y{constructor(t){super(),this.val=t}toString(){return this.val}};function eo(e){return e.gravityType==="direction"}function ro(e){return e.gravityType==="ocr"}function no(e){return e.gravityType==="auto"}function io(e){const{object:t,weight:r,avoid:n}=e,s=new to(new ct(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function Rr(e){const r=(e.autoFocus||[]).map(io);return Er().autoFocus(...r)}function so(e){const t=(e.focusOnObjects||[]).map(n=>new ct(n)),r=Cr(...t);if(e.fallbackGravity){const n=Rr(e.fallbackGravity);r.fallbackGravity(n)}return r}function oo(e){return eo(e)?new Sr(new Fr(e.compass)):ro(e)?Cr(Us()):no(e)?Rr(e):so(e)}let ae=class extends Tr{gravity(t){this._actionModel.gravity=Zs(t);const r=typeof t=="string"?new g("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(oo(t.gravity)),r}},gt=class extends g{constructor(t){super("b"),t&&this.addValue(t)}};const jr=100,ao=0;let uo=class extends gt{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${jr}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}};var Lr=uo;let ue=class extends gt{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>Rt(r)),this}},Pr=class extends ue{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},Vr=class extends ue{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}},kr=class extends Vr{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},Ir=class extends Vr{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},Br=class extends ue{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},Gr=class extends gt{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${bs(this._prompt)}`:""}`}};function Qr(e){return`${e}`.replace("b_","")}function co(){return{backgroundType:"auto"}}function lo(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function ce(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function fo(e){return Object.assign(Object.assign({},ce(e)),{backgroundType:"border"})}function Dr(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=ce(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function ho(e){return Object.assign(Object.assign({},Dr(e)),{backgroundType:"borderGradient"})}function po(e){return{backgroundType:"color",color:Qr(e)}}function go(e){return Object.assign(Object.assign({},ce(e)),{backgroundType:"predominant"})}function mo(e){return Object.assign(Object.assign({},Dr(e)),{backgroundType:"predominantGradient"})}function _o(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function yo(e){return Qr(e)==="auto"?co():e instanceof Lr?lo(e):e instanceof Pr?fo(e):e instanceof kr?ho(e):e instanceof Br?go(e):e instanceof Ir?mo(e):e instanceof Gr?_o(e):po(e)}function vo(){return new se("svg")}function le(){return new se("auto")}function Ur(){return new Pr}function qr(){return new gt("auto")}function Nr(){return new kr}function zr(){return new Ir}function Jr(){return new Br}function Hr(e){return new gt(Rt(e))}function wo(){return new Lr}function Yr(){return new Gr}const Wr={auto:qr,border:Ur,borderGradient:Nr,predominantGradient:zr,predominant:Jr,color:Hr,blurred:wo,generativeFill:Yr};function bo(e){const{brightness:t,intensity:r}=e,n=Wr.blurred();return n.brightness(t??ao),n.intensity(r??jr),n}function We(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function Ke(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function Ao(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function To(e){const{backgroundType:t}=e;switch(t){case"auto":return qr();case"blurred":return bo(e);case"border":return Ke(Ur(),e);case"borderGradient":return We(Nr(),e);case"predominant":return Ke(Jr(),e);case"predominantGradient":return We(zr(),e);case"generativeFill":return Ao(Yr(),e);default:return Hr(e.color)}}let $o=class extends ae{background(t){return this._actionModel.background=yo(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(To(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}};class Oo extends Tr{liquidRescaling(){return this.addQualifier(new Lt("liquid"))}}class So extends ae{x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new g("z",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),t.zoom&&r.zoom(t.zoom),r}}let Co=class extends ae{x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}};function Eo(e,t){return new Oo("scale",e,t)}function xo(e,t){return new So("crop",e,t)}function Mo(e,t){return new Co("fill",e,t)}function Fo(e,t){return new $o("pad",e,t)}class Ro extends br{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=yr[t];const r=new y([this._actionModel.level,t]);return r.setDelimiter(":"),this.addQualifier(new g("q",r))}quantization(t){this._actionModel.quantization=t;const r=new y([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new g("q",r))}static fromJson(t){const{level:r,chromaSubSampling:n,quantization:s}=t,o=_r[r]||r,u=new this(o);if(n){const l=fs[n.toUpperCase()];l&&u.chromaSubSampling(+l)}return s&&u.quantization(s),u}}function Pt(e){return new Zt("f",e)}function Vt(e){return new Ro(e)}function jo(){return new Fr("north_east")}Je(70).color("black"),Je(40).color("white"),Es(),Ms();new jt().effect(xs()).delivery(Vt("auto")).delivery(Pt(vo()));new jt().effect(Fs()).delivery(Vt("auto")).delivery(Pt(le()));new jt().effect(Cs(2e3)).delivery(Vt("auto")).delivery(Pt(le()));new jt().resize(Fo("iw_div_2").aspectRatio(1).background(Wr.auto())).resize(xo(1,1).gravity(Ds(jo()))).resize(Mo().height("ih").width("iw")).delivery(Vt("auto")).delivery(Pt(le()));var Xe={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},Ze="?_a=",Lo=function(){function e(t,r,n,s,o,u,l){var h=this;this.mimeType="video",this.mimeSubTypes=Xe,this.videoElement=t,this.originalVideo=r,this.videoOptions=l,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var d=Z(r);Ct(t,r,s,this.htmlPluginState).then(function(){h.htmlPluginState.pluginEventSubscription.forEach(function(p){p()}),h.setVideoAttributes(o,u),h.handleSourceToVideo(d,n)})}return e.prototype.handleSourceToVideo=function(t,r){var n=this;if(r)this.generateUserSources(t,r);else{var s=["webm","mp4","ogv"];s.forEach(function(o){n.appendSourceTag(Z(t),o)})}},e.prototype.generateUserSources=function(t,r){var n=this;r.map(function(s){var o=s.type,u=s.codecs,l=s.transcode;return n.appendSourceTag(Z(t).transcode(l),o,n.buildMimeType(o,u))})},e.prototype.appendSourceTag=function(t,r,n){var s,o=document.createElement("source"),u=(s=this.videoOptions)===null||s===void 0?void 0:s.useFetchFormat;u&&t.format(r);var l=t.toURL(),h=l.split(Ze),d=h[1]?"".concat(Ze).concat(h[1]):"",p=u?"":".".concat(r);o.src="".concat(h[0]).concat(p).concat(d),o.type=n||"video/".concat(Xe[r]||r),this.videoElement.appendChild(o)},e.prototype.buildMimeType=function(t,r){var n="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return r&&(n+="; codecs="+(Array.isArray(r)?r.join(", "):r)),n},e.prototype.setVideoAttributes=function(t,r){var n;if(t===void 0&&(t={}),r==="auto"){var s=Z(this.originalVideo);t.poster=s.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else r&&(t.poster=(n=r.toURL)===null||n===void 0?void 0:n.call(r));for(var o=0,u=Object.entries(t);o<u.length;o++){var l=u[o],h=l[0],d=l[1];d&&this.videoElement.setAttribute(h,h==="poster"?d:"")}},e.prototype.update=function(t,r,n,s,o){var u=this;if(t!==this.originalVideo){for(var l=this.videoElement.getElementsByTagName("SOURCE");l[0];)l[0].parentNode.removeChild(l[0]);Ct(this.videoElement,t,n,this.htmlPluginState).then(function(){u.setVideoAttributes(s,o),u.handleSourceToVideo(t,r),u.videoElement.load()})}},e}(),Po="Expected a function",tr=NaN,Vo="[object Symbol]",ko=/^\s+|\s+$/g,Io=/^[-+]0x[0-9a-f]+$/i,Bo=/^0b[01]+$/i,Go=/^0o[0-7]+$/i,Qo=parseInt,Do=typeof z=="object"&&z&&z.Object===Object&&z,Uo=typeof self=="object"&&self&&self.Object===Object&&self,qo=Do||Uo||Function("return this")(),No=Object.prototype,zo=No.toString,Jo=Math.max,Ho=Math.min,Yt=function(){return qo.Date.now()};function Yo(e,t,r){var n,s,o,u,l,h,d=0,p=!1,A=!1,R=!0;if(typeof e!="function")throw new TypeError(Po);t=er(t)||0,te(r)&&(p=!!r.leading,A="maxWait"in r,o=A?Jo(er(r.maxWait)||0,t):o,R="trailing"in r?!!r.trailing:R);function G(m){var S=n,j=s;return n=s=void 0,d=m,u=e.apply(j,S),u}function Q(m){return d=m,l=setTimeout(M,t),p?G(m):u}function rt(m){var S=m-h,j=m-d,H=t-S;return A?Ho(H,o-j):H}function D(m){var S=m-h,j=m-d;return h===void 0||S>=t||S<0||A&&j>=o}function M(){var m=Yt();if(D(m))return J(m);l=setTimeout(M,rt(m))}function J(m){return l=void 0,R&&n?G(m):(n=s=void 0,u)}function U(){l!==void 0&&clearTimeout(l),d=0,n=h=s=l=void 0}function F(){return l===void 0?u:J(Yt())}function V(){var m=Yt(),S=D(m);if(n=arguments,s=this,h=m,S){if(l===void 0)return Q(h);if(A)return l=setTimeout(M,t),G(h)}return l===void 0&&(l=setTimeout(M,t)),u}return V.cancel=U,V.flush=F,V}function te(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Wo(e){return!!e&&typeof e=="object"}function Ko(e){return typeof e=="symbol"||Wo(e)&&zo.call(e)==Vo}function er(e){if(typeof e=="number")return e;if(Ko(e))return tr;if(te(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=te(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(ko,"");var r=Bo.test(e);return r||Go.test(e)?Qo(e.slice(2),r?2:8):Io.test(e)?tr:+e}var Xo=Yo;function Zo(e){return typeof e=="number"}function de(){return typeof window<"u"}function ta(e){return e instanceof HTMLImageElement}var ea={accessibility:!1,lazyload:!1,placeholder:!1,responsive:!1},ra=function(e){return e.replace("bound ","").replace("Plugin","")},na=function(e,t){e===void 0&&(e=[]);var r=e.reduce(function(n,s){var o,u=s.name;return ht(ht({},n),(o={},o[ra(u)]=!0,o))},ea);return r[t]};function ia(e){var t=e===void 0?{}:e,r=t.steps;return sa.bind(null,r)}function sa(e,t,r,n,s,o){if(!de())return!0;if(ta(t))return new Promise(function(u){n.cleanupCallbacks.push(function(){window.removeEventListener("resize",d),u("canceled")});var l=Xt(s,{responsive:!0});r.addAction(new x().setActionTag("responsive"));var h=!na(o,"placeholder");h?rr(e,t,r,l):Kr(e,t,r);var d;n.pluginEventSubscription.push(function(){window.addEventListener("resize",d=Xo(function(){rr(e,t,r,l)},100))}),u({responsive:!0})})}function rr(e,t,r,n){Kr(e,t,r),t.src=r.toURL(n)}function Kr(e,t,r){var n=t.parentElement.clientWidth;if(Zo(e)){var s=e;n=Math.ceil(n/s)*s}else Array.isArray(e)&&(n=e.reduce(function(o,u){return Math.abs(u-n)<Math.abs(o-n)?u:o}));r.transformation.actions.forEach(function(o,u){o instanceof x&&o.getActionTag()==="responsive"&&(r.transformation.actions[u]=Eo(n).setActionTag("responsive"))})}function oa(e){var t={},r=t.rootMargin,n=r===void 0?"0px":r,s=t.threshold,o=s===void 0?.1:s;return aa.bind(null,n,o)}function aa(e,t,r,n,s,o){return e===void 0&&(e="0px"),t===void 0&&(t=.1),de()?new Promise(function(u){var l=function(){return u({lazyload:!0})},h=ca(r,l,e,t);s.cleanupCallbacks.push(function(){h(),u("canceled")})}):!1}function ua(){return window&&"IntersectionObserver"in window}function ca(e,t,r,n){try{if(!ua())return t(),function(){};var s=new IntersectionObserver(function(o){o.forEach(function(u){u.isIntersecting&&(s.unobserve(u.target),t())})},{rootMargin:r,threshold:n});return s.observe(e),function(){e&&s.observe(e)}}catch{t()}}function la(e,t,r){var n=Z(t);if(e)for(var s=0;s<e.length;s++){var o=e[s](null,n);if(!o)break}return n.toURL(r?{trackedAnalytics:r}:null)}function Et(e){e.cleanupCallbacks.forEach(function(t){t()})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ee=function(e,t){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},ee(e,t)};function Xr(e,t){ee(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var pt=function(){return pt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},pt.apply(this,arguments)};function Zr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var Wt={sdkSemver:"1.14.3",techVersion:L.version,sdkCode:"J"},da=function(e){Xr(t,e);function t(r){var n=e.call(this,r)||this;return n.imageRef=L.createRef(),n}return t.prototype.componentDidMount=function(){this.htmlLayerInstance=new Zi(this.imageRef.current,this.props.cldImg,this.props.plugins,Wt)},t.prototype.componentDidUpdate=function(){Et(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,Wt)},t.prototype.componentWillUnmount=function(){Et(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},t.prototype.render=function(){var r=this.props;r.cldImg,r.plugins;var n=Zr(r,["cldImg","plugins"]);if(de())return L.createElement("img",pt({suppressHydrationWarning:!0},n,{ref:this.imageRef}));var s=la(this.props.plugins,this.props.cldImg,Wt);return L.createElement("img",pt({},n,{src:s}))},t}(L.Component),fa=["controls","loop","muted","poster","preload","autoplay","playsinline"];(function(e){Xr(t,e);function t(r){var n=e.call(this,r)||this;return n.videoRef=ut.createRef(),n.attachRef=n.attachRef.bind(n),n}return t.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new Lo(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},t.prototype.componentDidUpdate=function(){Et(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},t.prototype.componentWillUnmount=function(){Et(this.htmlVideoLayerInstance.htmlPluginState)},t.prototype.getVideoAttributes=function(){var r=this,n={};return fa.forEach(function(s){s in r.props&&(n[s]=r.props[s])}),n},t.prototype.attachRef=function(r){this.videoRef.current=r;var n=this.props.innerRef;n&&(n instanceof Function?n(r):n.current=r)},t.prototype.render=function(){var r=this.props;r.cldVid,r.cldPoster,r.plugins,r.sources,r.innerRef,r.useFetchFormat;var n=Zr(r,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return L.createElement("video",pt({},n,{ref:this.attachRef}))},t})(ut.Component);function ha(e){return!(typeof e!="object"||e instanceof Array)}class pa{filterOutNonSupportedKeys(t,r){const n=Object.create({});return ha(t)?(Object.keys(t).forEach(s=>{r.indexOf(s)>=0?n[s]=t[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),n):Object.create({})}}const nr=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class fe extends pa{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,nr);Object.assign(this,{secure:!0},r)}extend(t){const r=this.filterOutNonSupportedKeys(t,nr);return new fe(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}class P{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}}class ga extends Error{constructor(t="Unsupported"){super(t)}}function he(e){return new ga(e)}function ma(){return this._qualifierModel||{error:he(`unsupported qualifier ${this.constructor.name}`)}}class _a{constructor(){this._qualifierModel={}}toJson(){return ma.apply(this)}}class b extends _a{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof P?this.qualifierValue=r:(this.qualifierValue=new P,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class E extends b{constructor(t,r){let n;r?n=new P([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function ya(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function va(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:he(`unsupported action ${this.constructor.name}`)}}class wa{constructor(){this._actionModel={}}toJson(){return va.apply(this)}}class mt extends wa{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),ya(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new E(n)):this.qualifiers.set(r,new b(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new E(t)):t instanceof E&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}}function pe(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class ba extends mt{constructor(t){super(),this._actionModel={},this.addQualifier(new b("b",new P(pe(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}}class ir{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:he(`unsupported action ${this.constructor.name}`)}}}function Aa(e){const t=e;return"error"in t&&!!t.error}function Ta(){return new E("ignore_aspect_ratio")}function $a(){return new E("lossy")}function Oa(){return new E("preserve_transparency")}function Sa(e){return new E("progressive",e)}function Ca(){return new E("region_relative")}function Ea(){return new E("relative")}class tn extends P{constructor(t){super(t),this.val=t}getValue(){return this.val}}function et(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const en={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},xa={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},Ma={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},Fa={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},Ra={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},ja={444:"CHROMA_444",420:"CHROMA_420"},La={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};et(ja);et(La);const Pa=et(en),Va=et(xa);et(Ma);et(Fa);et(Ra);class ka extends mt{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof tn?s=r.getValue():s=r,this._actionModel.actionType=Va[t],this._actionModel[n]=s,this.addQualifier(new b(t,r))}}class Ia extends E{constructor(t){super("progressive",t)}}class xt extends ka{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag($a()),this}progressive(t){return t instanceof Ia?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(Sa(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Oa()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}}class kt{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new ir(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof kt?this.actions=this.actions.concat(t.actions):this.actions.push(new ir(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new xt("q",t)),this}format(t){return this.addAction(new xt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new ba(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new mt;let n=t;return typeof t=="string"&&(n=new E(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(Aa(n))return n;t.push(n)}return{actions:t}}}class Ba extends kt{}class Ga extends kt{}function re(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}class Qa extends P{}class rn extends mt{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=Pa[t]||t,this.addQualifier(new b("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new b("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new b("w",t))}aspectRatio(t){if(t instanceof Qa)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new b("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=re(t),this.addQualifier(new b("ar",re(t)));if(t instanceof E)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(Ea())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(Ca())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=en[r]||r,p=new this(d,l,h);return u&&p.aspectRatio(u==="ignore_aspect_ratio"?Ta():u),s&&p.relative(),o&&p.regionRelative(),p}}class ge extends b{constructor(t){super("g",new P(t))}}class nn extends ge{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class sn extends ge{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class Da extends ge{constructor(t){super(t)}}function on(...e){const t=[...e];return new sn(t)}function me(){return new nn}class lt extends P{constructor(t){super(),this.name=t}toString(){return this.name}}function Ua(){return new lt("ocr_text")}function qa(e){return e&&`${e}`.split(":")[0]==="auto"}function Na(e){const t=_e(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function _e(e){return`${e}`.replace("g_","")}function za(e){return{compass:_e(e),gravityType:"direction"}}function Ja(e){return _e(e)==="ocr_text"}function Ha(){return{gravityType:"ocr"}}function Ya(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Wa(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function an(e){let t;const r=e==="auto"?new nn:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(Wa)}}function Ka(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=me().autoFocus(...o);s.fallbackGravity=an(u)}return s}function Xa(e){const r=e.split(":").map(n=>new lt(n));return new sn(r)}function Za(e){return Na(e)?za(e):Ja(e)?Ha():qa(e)||Ya(e)?an(e):Ka(typeof e=="string"?Xa(e):e)}class ye extends P{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof lt?t:new lt(t);return new ye(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class tu extends P{constructor(t){super(),this.val=t}toString(){return this.val}}function eu(e){return e.gravityType==="direction"}function ru(e){return e.gravityType==="ocr"}function nu(e){return e.gravityType==="auto"}function iu(e){const{object:t,weight:r,avoid:n}=e,s=new ye(new lt(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function un(e){const r=(e.autoFocus||[]).map(iu);return me().autoFocus(...r)}function su(e){const t=(e.focusOnObjects||[]).map(n=>new lt(n)),r=on(...t);if(e.fallbackGravity){const n=un(e.fallbackGravity);r.fallbackGravity(n)}return r}function ou(e){return eu(e)?new Da(new tu(e.compass)):ru(e)?on(Ua()):nu(e)?un(e):su(e)}class cn extends rn{gravity(t){this._actionModel.gravity=Za(t);const r=typeof t=="string"?new b("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(ou(t.gravity)),r}}class _t extends b{constructor(t){super("b"),t&&this.addValue(t)}}const ln=100,au=0;class dn extends _t{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${ln}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}}class ve extends _t{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>pe(r)),this}}class fn extends ve{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class hn extends ve{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class pn extends hn{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class gn extends hn{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class mn extends ve{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}const uu=e=>hu(encodeURIComponent,du,fu)(e),cu=/[!'()*~_.-]/g,lu={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},du=e=>e.replace(cu,t=>{var r;return(r=lu[t])!==null&&r!==void 0?r:t}),fu=e=>e.replace(/%20/g," "),hu=(...e)=>t=>e.reduce((r,n)=>n(r),t);class _n extends _t{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${uu(this._prompt)}`:""}`}}function yn(e){return`${e}`.replace("b_","")}function pu(){return{backgroundType:"auto"}}function gu(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function we(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function mu(e){return Object.assign(Object.assign({},we(e)),{backgroundType:"border"})}function vn(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=we(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function _u(e){return Object.assign(Object.assign({},vn(e)),{backgroundType:"borderGradient"})}function yu(e){return{backgroundType:"color",color:yn(e)}}function vu(e){return Object.assign(Object.assign({},we(e)),{backgroundType:"predominant"})}function wu(e){return Object.assign(Object.assign({},vn(e)),{backgroundType:"predominantGradient"})}function bu(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function Au(e){return yn(e)==="auto"?pu():e instanceof dn?gu(e):e instanceof fn?mu(e):e instanceof pn?_u(e):e instanceof mn?vu(e):e instanceof gn?wu(e):e instanceof _n?bu(e):yu(e)}function Tu(){return"auto"}function sr(){return new tn("auto")}function wn(){return new fn}function bn(){return new _t("auto")}function An(){return new pn}function Tn(){return new gn}function $n(){return new mn}function On(e){return new _t(pe(e))}function $u(){return new dn}function Sn(){return new _n}const Ou={auto:bn,border:wn,borderGradient:An,predominantGradient:Tn,predominant:$n,color:On,blurred:$u,generativeFill:Sn};function Su(e){const{brightness:t,intensity:r}=e,n=Ou.blurred();return n.brightness(t??au),n.intensity(r??ln),n}function or(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function ar(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function Cu(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function Eu(e){const{backgroundType:t}=e;switch(t){case"auto":return bn();case"blurred":return Su(e);case"border":return ar(wn(),e);case"borderGradient":return or(An(),e);case"predominant":return ar($n(),e);case"predominantGradient":return or(Tn(),e);case"generativeFill":return Cu(Sn(),e);default:return On(e.color)}}class xu extends cn{background(t){return this._actionModel.background=Au(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new b("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new b("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(Eu(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}}class Mu extends cn{x(t){return this._actionModel.x=t,this.addQualifier(new b("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new b("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function ur(e,t){return new Mu("fill",e,t)}function Fu(e,t){return new rn("fit",e,t)}function Ru(e,t){return new xu("pad",e,t)}class ju extends mt{constructor(t){super(),this._actionModel={actionType:"dpr"};const r=re(t);this._actionModel.dpr=r,this.addQualifier(new b("dpr",r))}static fromJson(t){const{dpr:r}=t;return new this(r)}}function Lu(e){return new ju(e)}function Pu(e){return e.match(/^https?:\//)}function Vu(e){return e.indexOf("/")<0}function ku(e){return e.match(/^v[0-9]+/)}function Iu(e,t){const r=t.secure,n=t.privateCdn,s=t.cname,o=t.secureDistribution;return!r&&!s?`http://res.cloudinary.com/${e}`:r&&!o&&n?`https://${e}-res.cloudinary.com`:r&&!o?`https://res.cloudinary.com/${e}`:r&&o&&n?`https://${o}`:r&&o?`https://${o}/${e}`:!r&&s?`http://${s}/${e}`:"ERROR"}function Bu(e){return e||"image"}function Gu(e){return e||"upload"}function Qu(e,t,r){const n=r!==!1;return t?`v${t}`:ku(e)||Pu(e)||Vu(e)?"":n?"v1":""}function be(e,t,r){let n=t>>0,s=String(r);return e.length>n?String(e):(n=n-e.length,n>s.length&&(s+=Du(s,n/s.length)),s.slice(0,n)+String(e))}function Du(e,t){let r=t,n="";for(;r>0;)n+=e,r--;return n}const Uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mt={};let cr=0;Uu.split("").forEach(e=>{let t=cr.toString(2);t=be(t,6,"0"),Mt[t]=e,cr++});function qu(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().join(".")}function Nu(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").map(t=>{const r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return be(t,2,"0")}).join(".")}function lr(e){let t="";const n=e.split(".").length*6,s=qu(e),o=Nu(s);let l=parseInt(o.split(".").join("")).toString(2);if(l=be(l,n,"0"),l.length%6!==0)throw"Version must be smaller than 43.21.26)";return l.match(/.{1,6}/g).forEach(h=>{t+=Mt[h]}),t}function zu(e){const t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0",osType:e.osType,osVersion:e.osVersion};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),e.feature&&(t.feature=e.feature),t}const Ju="1.22.0";function Hu(e){const[t,r]=e.split("."),n=parseInt(t).toString(2),s=parseInt(r).toString(2),o=n.padStart(6,"0"),u=s.padStart(6,"0");return Mt[o]+Mt[u]}function Yu(){const e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function Wu(e){const t={techVersion:Yu(),sdkCode:"T",sdkSemver:Ju.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function dr(e){const t=Wu(e),r=zu(t);try{const n=Ku(r.techVersion),s=lr(r.sdkSemver),o=lr(n),u=Hu(r.osVersion),l=r.feature,h=r.sdkCode,{product:d,osType:p}=r;return`D${d}${h}${s}${o}${p}${u}${l}`}catch{return"E"}}function Ku(e){const t=e.split(".");return`${t[0]}.${t[1]}`}const fr={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Xu{constructor(t,r={},n){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(n)}setURLConfig(t){return this.urlConfig=new fe(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){const t=Bu(this.assetType),r=Gu(this.deliveryType),n=!!this.suffix,s=`${t}/${r}`,o=fr[`${t}/${r}`],u=this.urlConfig.useRootPath,l=this.urlConfig.shorten;if(u){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(l&&s==="image/upload")return"iu";if(n){if(o)return o;throw new Error(`URL Suffix only supported for ${Object.keys(fr).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();const n=Iu(this.cloudName,this.urlConfig),s=t?t.toString():"",o=Qu(this.publicID,this.version,this.urlConfig.forceVersion),u=this.publicID;if(typeof t=="string")return[n,this.getResourceType(),this.getSignature(),s,o,u.replace(/,/g,"%2C"),this.suffix].filter(h=>h).join("/");{const l=[encodeURI(n),this.getResourceType(),this.getSignature(),encodeURI(s),o,encodeURI(u).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(p=>p).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),h=this.urlConfig.analytics!==!1&&!u.includes("?");let d="";if(typeof this.urlConfig.queryParams=="object")try{const p=new URLSearchParams(this.urlConfig.queryParams);h&&p.set("_a",dr(r)),d=p.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else d=this.urlConfig.queryParams||"",h&&(d+=`${d.length>0?"&":""}_a=${dr(r)}`);return d?`${l}?${d}`:l}}}class Cn extends Xu{constructor(t,r,n,s){super(t,r,n),this.transformation=s}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new xt("q",t)),this}format(t){return this.addAction(new xt("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t==null?void 0:t.trackedAnalytics)}}let Zu=class extends Cn{constructor(t,r,n){super(t,r,n,new Ba)}};class tc extends Cn{constructor(t,r,n){super(t,r,n,new Ga),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}class ec{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new Zu(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new tc(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}const En="dokyhfvyd",hr=new ec({cloud:{cloudName:En}}),kc=({publicId:e,alt:t,width:r,height:n,className:s,containerClassName:o,imgClassName:u,containerStyle:l,disableLazy:h=!1,fallbackSrc:d,resizeMode:p="fill",placeholderMode:A="blur",sizes:R,responsiveSteps:G=[480,768,1024,1400],eager:Q=!1})=>{const[rt,D]=ut.useState(!1),[M,J]=ut.useState(!1),U=ut.useRef(null);if(!e){const v={width:r?`${r}px`:"100%",height:n?`${n}px`:"100%",backgroundColor:"#f0f0f0",display:"inline-block"};return L.createElement("span",{style:v,className:s})}const F=hr.image(e),V=80,m=Math.max(20,Math.round((n||80)*(V/(r||80)))),j=hr.image(e).resize(ur(V,m)).quality(20).format(sr()).toURL();if(F.quality(Tu()).format(sr()).delivery(Lu("auto")),r&&n&&(p==="fit"?F.resize(Fu(r,n)):p==="pad"?F.resize(Ru(r,n)):F.resize(ur(r,n).gravity(me()))),ut.useEffect(()=>{let v=!0,O=null,nt=null,q=null,Y=null;const vt=setTimeout(()=>{v&&D(!0)},2500),wt=()=>{if(O=U.current&&U.current.querySelector("img"),!O){nt=setTimeout(wt,200);return}q=()=>{v&&(clearTimeout(vt),D(!0))},Y=()=>{v&&(J(!0),typeof window<"u"&&console.warn("[CloudinaryImage] failed to load",{cloudName:En,publicId:e}))},O.addEventListener("load",q),O.addEventListener("error",Y),O.complete&&q()};return wt(),()=>{v=!1,clearTimeout(vt),nt&&clearTimeout(nt),O&&q&&O.removeEventListener("load",q),O&&Y&&O.removeEventListener("error",Y)}},[e]),M&&d)return L.createElement("img",{src:d,alt:t,width:r,height:n,className:s,style:{objectFit:"cover"}});const H=A==="blur"?{backgroundImage:`url(${j})`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundColor:A==="solid"?"transparent":"#f3f4f6"},yt=(()=>{const v={};return r&&n&&(v.width="100%",v.height="100%"),p==="fit"||p==="pad"?v.objectFit="contain":v.objectFit="cover",v})();return L.createElement("div",{ref:U,className:`${o||s||""} relative overflow-hidden w-full`,style:{...H,...l||{}}},L.createElement(da,{cldImg:F,alt:t,className:`transition-opacity duration-500 ${rt?"opacity-100":"opacity-0"} ${u||""}`,sizes:R,loading:Q?"eager":"lazy",style:yt,plugins:(()=>{const v=[ia({steps:G})];return!Q&&!h?[...v,oa()]:v})()}))};export{kc as C};
