import{r,A as e,W as x}from"./index-LrDjm4qp.js";import{s as h}from"./sanityClient-4FcahZR4.js";const l=({children:s})=>e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors",children:s}),g=()=>{const[s,c]=r.useState(null),[n,d]=r.useState(!0);if(r.useEffect(()=>{h.fetch(`*[_type == "crowdfundingCampaign"][0]{
            title,
            description,
            goal,
            raisedAmount,
            backers,
            endDate,
            "heroImageUrl": heroImage.asset->url,
            story,
            rewardTiers[]->{
                amount,
                title,
                description
            }
        }`).then(o=>{c(o),d(!1)}).catch(console.error)},[]),n)return e.jsx("div",{children:"Loading..."});if(!s)return e.jsx("div",{children:"No campaign found. Have you created and published it in Sanity Studio?"});const a=Math.ceil((new Date(s.endDate)-new Date)/(1e3*60*60*24)),i=Math.min(s.raisedAmount/s.goal*100,100);return e.jsxs(e.Fragment,{children:[e.jsxs(x,{children:[e.jsxs("title",{children:[s.title||"Fund Our Next Step"," | Local Effort"]}),e.jsx("meta",{name:"description",content:s.description||"Help Local Effort expand!"})]}),e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-hero uppercase",children:s.title}),e.jsx("p",{className:"text-body max-w-3xl mt-2",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 lg:gap-16",children:[e.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[s.heroImageUrl&&e.jsx("img",{src:s.heroImageUrl,alt:s.title,className:"w-full object-cover rounded-lg aspect-video"}),e.jsxs("div",{className:"prose max-w-none text-body text-gray-800",children:[e.jsx("h3",{className:"text-heading uppercase border-b border-gray-300 pb-2 mb-4",children:"About This Project"}),e.jsx("p",{children:e.jsx("em",{children:"Content from Sanity for the story will go here."})})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-8 mt-12 lg:mt-0",children:[e.jsxs("div",{className:"card p-6 space-y-4",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-[var(--color-accent)] h-2.5 rounded-full",style:{width:`${i}%`}})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-4xl font-bold text-[var(--color-accent)]",children:["$",s.raisedAmount.toLocaleString()]}),e.jsxs("p",{className:"text-body text-gray-600",children:["pledged of $",s.goal.toLocaleString()," goal"]})]}),e.jsxs("div",{className:"flex justify-between text-body text-center border-y py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:s.backers}),e.jsx("p",{className:"text-gray-600",children:"backers"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:a>0?a:"Ended"}),e.jsx("p",{className:"text-gray-600",children:a>0?"days to go":""})]})]}),e.jsx("button",{className:"btn btn-primary w-full text-lg py-3",children:"Back this project"}),e.jsxs("div",{className:"flex justify-center items-center pt-2 space-x-3",children:[e.jsx("p",{className:"text-body text-sm text-gray-500",children:"Share:"}),e.jsx(l,{children:"FB"}),e.jsx(l,{children:"TW"}),e.jsx(l,{children:"LI"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-heading uppercase",children:"Support Us"}),s.rewardTiers?.map(t=>e.jsxs("div",{className:"card p-6",children:[e.jsxs("p",{className:"text-2xl font-bold",children:["Pledge $",t.amount," or more"]}),e.jsx("h4",{className:"text-xl font-bold text-[var(--color-accent)] mt-1",children:t.title}),e.jsx("p",{className:"text-body text-gray-600 my-3",children:t.description}),e.jsx("button",{className:"w-full bg-gray-800 text-white font-bold py-2 rounded-md hover:bg-gray-900 transition-colors",children:"Select this reward"})]},t.amount))]})]})]})]})]})};export{g as default};
