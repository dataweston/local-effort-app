import{r as R,j as g,g as vt,c as bt,R as s,P as _,W as wt,d as Z}from"./index-D3iJpnhL.js";function Y(t){return t._type==="span"&&"text"in t&&typeof t.text=="string"&&(typeof t.marks>"u"||Array.isArray(t.marks)&&t.marks.every(a=>typeof a=="string"))}function st(t){return typeof t._type=="string"&&t._type[0]!=="@"&&(!("markDefs"in t)||!t.markDefs||Array.isArray(t.markDefs)&&t.markDefs.every(a=>typeof a._key=="string"))&&"children"in t&&Array.isArray(t.children)&&t.children.every(a=>typeof a=="object"&&"_type"in a)}function lt(t){return st(t)&&"listItem"in t&&typeof t.listItem=="string"&&(typeof t.level>"u"||typeof t.level=="number")}function ct(t){return t._type==="@list"}function ut(t){return t._type==="@span"}function ft(t){return t._type==="@text"}const nt=["strong","em","code","underline","strike-through"];function xt(t,a,o){if(!Y(t)||!t.marks)return[];if(!t.marks.length)return[];const l=t.marks.slice(),u={};return l.forEach(f=>{u[f]=1;for(let h=a+1;h<o.length;h++){const v=o[h];if(v&&Y(v)&&Array.isArray(v.marks)&&v.marks.indexOf(f)!==-1)u[f]++;else break}}),l.sort((f,h)=>kt(u,f,h))}function kt(t,a,o){const l=t[a],u=t[o];if(l!==u)return u-l;const f=nt.indexOf(a),h=nt.indexOf(o);return f!==h?f-h:a.localeCompare(o)}function Et(t){var a;const{children:o}=t,l=t.markDefs??[];if(!o||!o.length)return[];const u=o.map(xt),f={_type:"@span",children:[],markType:"<unknown>"};let h=[f];for(let v=0;v<o.length;v++){const S=o[v];if(!S)continue;const j=u[v]||[];let z=1;if(h.length>1)for(z;z<h.length;z++){const d=((a=h[z])==null?void 0:a.markKey)||"",m=j.indexOf(d);if(m===-1)break;j.splice(m,1)}h=h.slice(0,z);let p=h[h.length-1];if(p){for(const d of j){const m=l==null?void 0:l.find(x=>x._key===d),k=m?m._type:d,y={_type:"@span",_key:S._key,children:[],markDef:m,markType:k,markKey:d};p.children.push(y),h.push(y),p=y}if(Y(S)){const d=S.text.split(`
`);for(let m=d.length;m-- >1;)d.splice(m,0,`
`);p.children=p.children.concat(d.map(m=>({_type:"@text",text:m})))}else p.children=p.children.concat(S)}}return f.children}function It(t,a){const o=[];let l;for(let u=0;u<t.length;u++){const f=t[u];if(f){if(!lt(f)){o.push(f),l=void 0;continue}if(!l){l=Q(f,u,a),o.push(l);continue}if(St(f,l)){l.children.push(f);continue}if((f.level||1)>l.level){const h=Q(f,u,a);if(a==="html"){const v=l.children[l.children.length-1],S={...v,children:[...v.children,h]};l.children[l.children.length-1]=S}else l.children.push(h);l=h;continue}if((f.level||1)<l.level){const h=o[o.length-1],v=h&&tt(h,f);if(v){l=v,l.children.push(f);continue}l=Q(f,u,a),o.push(l);continue}if(f.listItem!==l.listItem){const h=o[o.length-1],v=h&&tt(h,{level:f.level||1});if(v&&v.listItem===f.listItem){l=v,l.children.push(f);continue}else{l=Q(f,u,a),o.push(l);continue}}console.warn("Unknown state encountered for block",f),o.push(f)}}return o}function St(t,a){return(t.level||1)===a.level&&t.listItem===a.listItem}function Q(t,a,o){return{_type:"@list",_key:`${t._key||`${a}`}-parent`,mode:o,level:t.level||1,listItem:t.listItem,children:[t]}}function tt(t,a){const o=a.level||1,l=a.listItem||"normal",u=typeof a.listItem=="string";if(ct(t)&&(t.level||1)===o&&u&&(t.listItem||"normal")===l)return t;if(!("children"in t))return;const f=t.children[t.children.length-1];return f&&!Y(f)?tt(f,a):void 0}function pt(t){let a="";return t.children.forEach(o=>{ft(o)?a+=o.text:ut(o)&&(a+=pt(o))}),a}const At="html",Nt={number:({children:t})=>g.jsx("ol",{children:t}),bullet:({children:t})=>g.jsx("ul",{children:t})},Ot=({children:t})=>g.jsx("li",{children:t}),Tt=({children:t,value:a})=>g.jsx("a",{href:a==null?void 0:a.href,children:t}),jt={textDecoration:"underline"},zt={em:({children:t})=>g.jsx("em",{children:t}),strong:({children:t})=>g.jsx("strong",{children:t}),code:({children:t})=>g.jsx("code",{children:t}),underline:({children:t})=>g.jsx("span",{style:jt,children:t}),"strike-through":({children:t})=>g.jsx("del",{children:t}),link:Tt},G=(t,a)=>`[@portabletext/react] Unknown ${t}, specify a component for it in the \`components.${a}\` prop`,dt=t=>G(`block type "${t}"`,"types"),_t=t=>G(`mark type "${t}"`,"marks"),Lt=t=>G(`block style "${t}"`,"block"),Mt=t=>G(`list style "${t}"`,"list"),Ut=t=>G(`list item style "${t}"`,"listItem");function Ct(t){console.warn(t)}const rt={display:"none"},Dt=({value:t,isInline:a})=>{const o=dt(t._type);return a?g.jsx("span",{style:rt,children:o}):g.jsx("div",{style:rt,children:o})},Pt=({markType:t,children:a})=>g.jsx("span",{className:`unknown__pt__mark__${t}`,children:a}),Bt=({children:t})=>g.jsx("p",{children:t}),Rt=({children:t})=>g.jsx("ul",{children:t}),$t=({children:t})=>g.jsx("li",{children:t}),Ht=()=>g.jsx("br",{}),qt={normal:({children:t})=>g.jsx("p",{children:t}),blockquote:({children:t})=>g.jsx("blockquote",{children:t}),h1:({children:t})=>g.jsx("h1",{children:t}),h2:({children:t})=>g.jsx("h2",{children:t}),h3:({children:t})=>g.jsx("h3",{children:t}),h4:({children:t})=>g.jsx("h4",{children:t}),h5:({children:t})=>g.jsx("h5",{children:t}),h6:({children:t})=>g.jsx("h6",{children:t})},it={types:{},block:qt,marks:zt,list:Nt,listItem:Ot,hardBreak:Ht,unknownType:Dt,unknownMark:Pt,unknownList:Rt,unknownListItem:$t,unknownBlockStyle:Bt};function Ft(t,a){const{block:o,list:l,listItem:u,marks:f,types:h,...v}=a;return{...t,block:V(t,a,"block"),list:V(t,a,"list"),listItem:V(t,a,"listItem"),marks:V(t,a,"marks"),types:V(t,a,"types"),...v}}function V(t,a,o){const l=a[o],u=t[o];return typeof l=="function"||l&&typeof u=="function"?l:l?{...u,...l}:u}function at({value:t,components:a,listNestingMode:o,onMissingComponent:l=Ct}){const u=l||Vt,f=Array.isArray(t)?t:[t],h=It(f,o||At),v=R.useMemo(()=>a?Ft(it,a):it,[a]),S=R.useMemo(()=>Wt(v,u),[v,u]),j=h.map((z,p)=>S({node:z,index:p,isInline:!1,renderNode:S}));return g.jsx(g.Fragment,{children:j})}const Wt=(t,a)=>{function o(p){const{node:d,index:m,isInline:k}=p,y=d._key||`node-${m}`;return ct(d)?f(d,m,y):lt(d)?u(d,m,y):ut(d)?h(d,m,y):l(d)?z(d,m,y,k):st(d)?v(d,m,y,k):ft(d)?S(d,y):j(d,m,y,k)}function l(p){return p._type in t.types}function u(p,d,m){const k=ot({node:p,index:d,isInline:!1,renderNode:o}),y=t.listItem,x=(typeof y=="function"?y:y[p.listItem])||t.unknownListItem;if(x===t.unknownListItem){const A=p.listItem||"bullet";a(Ut(A),{type:A,nodeType:"listItemStyle"})}let I=k.children;if(p.style&&p.style!=="normal"){const{listItem:A,...D}=p;I=o({node:D,index:d,isInline:!1})}return g.jsx(x,{value:p,index:d,isInline:!1,renderNode:o,children:I},m)}function f(p,d,m){const k=p.children.map((I,A)=>o({node:I._key?I:{...I,_key:`li-${d}-${A}`},index:A,isInline:!1})),y=t.list,x=(typeof y=="function"?y:y[p.listItem])||t.unknownList;if(x===t.unknownList){const I=p.listItem||"bullet";a(Mt(I),{nodeType:"listStyle",type:I})}return g.jsx(x,{value:p,index:d,isInline:!1,renderNode:o,children:k},m)}function h(p,d,m){const{markDef:k,markType:y,markKey:x}=p,I=t.marks[y]||t.unknownMark,A=p.children.map((D,P)=>o({node:D,index:P,isInline:!0}));return I===t.unknownMark&&a(_t(y),{nodeType:"mark",type:y}),g.jsx(I,{text:pt(p),value:k,markType:y,markKey:x,renderNode:o,children:A},m)}function v(p,d,m,k){const{_key:y,...x}=ot({node:p,index:d,isInline:k,renderNode:o}),I=x.node.style||"normal",A=(typeof t.block=="function"?t.block:t.block[I])||t.unknownBlockStyle;return A===t.unknownBlockStyle&&a(Lt(I),{nodeType:"blockStyle",type:I}),g.jsx(A,{...x,value:x.node,renderNode:o},m)}function S(p,d){if(p.text===`
`){const m=t.hardBreak;return m?g.jsx(m,{},d):`
`}return p.text}function j(p,d,m,k){const y={value:p,isInline:k,index:d,renderNode:o};a(dt(p._type),{nodeType:"block",type:p._type});const x=t.unknownType;return g.jsx(x,{...y},m)}function z(p,d,m,k){const y={value:p,isInline:k,index:d,renderNode:o},x=t.types[p._type];return x?g.jsx(x,{...y},m):null}return o};function ot(t){const{node:a,index:o,isInline:l,renderNode:u}=t,f=Et(a).map((h,v)=>u({node:h,isInline:!0,index:v,renderNode:u}));return{_key:a._key||`block-${o}`,children:f,index:o,isInline:l,node:a}}function Vt(){}var ht={exports:{}};(function(t,a){(function(o,l){t.exports=l()})(bt,function(){function o(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,r=Array(n);i<n;i++)r[i]=e[i];return r}function l(e,n){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=f(e))||n){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)({}).hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},u.apply(null,arguments)}function f(e,n){if(e){if(typeof e=="string")return o(e,n);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,n):void 0}}var h="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function v(e){var n=e.split("-"),i=n[1],r=n[2],w=n[3];if(!i||!r||!w)throw new Error("Malformed asset _ref '"+e+`'. Expected an id like "`+h+'".');var c=r.split("x"),b=c[0],N=c[1],L=+b,T=+N,O=isFinite(L)&&isFinite(T);if(!O)throw new Error("Malformed asset _ref '"+e+`'. Expected an id like "`+h+'".');return{id:i,width:L,height:T,format:w}}var S=function(n){var i=n;return i?typeof i._ref=="string":!1},j=function(n){var i=n;return i?typeof i._id=="string":!1},z=function(n){var i=n;return i&&i.asset?typeof i.asset.url=="string":!1},p=function(n){if(typeof n=="object"&&n!==null){var i=n;return i._upload&&(!i.asset||!i.asset._ref)}return!1};function d(e){if(!e)return null;var n;if(typeof e=="string"&&m(e))n={asset:{_ref:k(e)}};else if(typeof e=="string")n={asset:{_ref:e}};else if(S(e))n={asset:e};else if(j(e))n={asset:{_ref:e._id||""}};else if(z(e))n={asset:{_ref:k(e.asset.url)}};else if(typeof e.asset=="object")n=u({},e);else return null;var i=e;return i.crop&&(n.crop=i.crop),i.hotspot&&(n.hotspot=i.hotspot),y(n)}function m(e){return/^https?:\/\//.test(""+e)}function k(e){var n=e.split("/").slice(-1);return("image-"+n[0]).replace(/\.([a-z]+)$/,"-$1")}function y(e){if(e.crop&&e.hotspot)return e;var n=u({},e);return n.crop||(n.crop={left:0,top:0,bottom:0,right:0}),n.hotspot||(n.hotspot={x:.5,y:.5,height:1,width:1}),n}var x=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function I(e){var n=u({},e||{}),i=n.source;delete n.source;var r=d(i);if(!r){if(i&&p(i))return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8HwQACfsD/QNViZkAAAAASUVORK5CYII=";throw new Error("Unable to resolve image URL from source ("+JSON.stringify(i)+")")}var w=r.asset._ref||r.asset._id||"",c=v(w),b=Math.round(r.crop.left*c.width),N=Math.round(r.crop.top*c.height),L={left:b,top:N,width:Math.round(c.width-r.crop.right*c.width-b),height:Math.round(c.height-r.crop.bottom*c.height-N)},T=r.hotspot.height*c.height/2,O=r.hotspot.width*c.width/2,H=r.hotspot.x*c.width,B=r.hotspot.y*c.height,M={left:H-O,top:B-T,right:H+O,bottom:B+T};return n.rect||n.focalPoint||n.ignoreImageParams||n.crop||(n=u({},n,D({crop:L,hotspot:M},n))),A(u({},n,{asset:c}))}function A(e){var n=(e.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),i=e.vanityName?"/"+e.vanityName:"",r=e.asset.id+"-"+e.asset.width+"x"+e.asset.height+"."+e.asset.format+i,w=n+"/images/"+e.projectId+"/"+e.dataset+"/"+r,c=[];if(e.rect){var b=e.rect,N=b.left,L=b.top,T=b.width,O=b.height,H=N!==0||L!==0||O!==e.asset.height||T!==e.asset.width;H&&c.push("rect="+N+","+L+","+T+","+O)}e.bg&&c.push("bg="+e.bg),e.focalPoint&&(c.push("fp-x="+e.focalPoint.x),c.push("fp-y="+e.focalPoint.y));var B=[e.flipHorizontal&&"h",e.flipVertical&&"v"].filter(Boolean).join("");return B&&c.push("flip="+B),x.forEach(function(M){var F=M[0],C=M[1];typeof e[F]<"u"?c.push(C+"="+encodeURIComponent(e[F])):typeof e[C]<"u"&&c.push(C+"="+encodeURIComponent(e[C]))}),c.length===0?w:w+"?"+c.join("&")}function D(e,n){var i,r=n.width,w=n.height;if(!(r&&w))return{width:r,height:w,rect:e.crop};var c=e.crop,b=e.hotspot,N=r/w,L=c.width/c.height;if(L>N){var T=Math.round(c.height),O=Math.round(T*N),H=Math.max(0,Math.round(c.top)),B=Math.round((b.right-b.left)/2+b.left),M=Math.max(0,Math.round(B-O/2));M<c.left?M=c.left:M+O>c.left+c.width&&(M=c.left+c.width-O),i={left:M,top:H,width:O,height:T}}else{var F=c.width,C=Math.round(F/N),yt=Math.max(0,Math.round(c.left)),gt=Math.round((b.bottom-b.top)/2+b.top),W=Math.max(0,Math.round(gt-C/2));W<c.top?W=c.top:W+C>c.top+c.height&&(W=c.top+c.height-C),i={left:yt,top:W,width:F,height:C}}return{width:r,height:w,rect:i}}var P=["clip","crop","fill","fillmax","max","scale","min"],q=["top","bottom","left","right","center","focalpoint","entropy"],J=["format"];function $(e){return e&&"config"in e?typeof e.config=="function":!1}function E(e){return e&&"clientConfig"in e?typeof e.clientConfig=="object":!1}function U(e){for(var n=x,i=l(n),r;!(r=i()).done;){var w=r.value,c=w[0],b=w[1];if(e===c||e===b)return c}return e}function X(e){if($(e)){var n=e.config(),i=n.apiHost,r=n.projectId,w=n.dataset,c=i||"https://api.sanity.io";return new K(null,{baseUrl:c.replace(/^https:\/\/api\./,"https://cdn."),projectId:r,dataset:w})}if(E(e)){var b=e.clientConfig,N=b.apiHost,L=b.projectId,T=b.dataset,O=N||"https://api.sanity.io";return new K(null,{baseUrl:O.replace(/^https:\/\/api\./,"https://cdn."),projectId:L,dataset:T})}return new K(null,e||{})}var K=function(){function e(i,r){this.options=void 0,this.options=i?u({},i.options||{},r||{}):u({},r||{})}var n=e.prototype;return n.withOptions=function(r){var w=r.baseUrl||this.options.baseUrl,c={baseUrl:w};for(var b in r)if(r.hasOwnProperty(b)){var N=U(b);c[N]=r[b]}return new e(this,u({baseUrl:w},c))},n.image=function(r){return this.withOptions({source:r})},n.dataset=function(r){return this.withOptions({dataset:r})},n.projectId=function(r){return this.withOptions({projectId:r})},n.bg=function(r){return this.withOptions({bg:r})},n.dpr=function(r){return this.withOptions(r&&r!==1?{dpr:r}:{})},n.width=function(r){return this.withOptions({width:r})},n.height=function(r){return this.withOptions({height:r})},n.focalPoint=function(r,w){return this.withOptions({focalPoint:{x:r,y:w}})},n.maxWidth=function(r){return this.withOptions({maxWidth:r})},n.minWidth=function(r){return this.withOptions({minWidth:r})},n.maxHeight=function(r){return this.withOptions({maxHeight:r})},n.minHeight=function(r){return this.withOptions({minHeight:r})},n.size=function(r,w){return this.withOptions({width:r,height:w})},n.blur=function(r){return this.withOptions({blur:r})},n.sharpen=function(r){return this.withOptions({sharpen:r})},n.rect=function(r,w,c,b){return this.withOptions({rect:{left:r,top:w,width:c,height:b}})},n.format=function(r){return this.withOptions({format:r})},n.invert=function(r){return this.withOptions({invert:r})},n.orientation=function(r){return this.withOptions({orientation:r})},n.quality=function(r){return this.withOptions({quality:r})},n.forceDownload=function(r){return this.withOptions({download:r})},n.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},n.flipVertical=function(){return this.withOptions({flipVertical:!0})},n.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},n.fit=function(r){if(P.indexOf(r)===-1)throw new Error('Invalid fit mode "'+r+'"');return this.withOptions({fit:r})},n.crop=function(r){if(q.indexOf(r)===-1)throw new Error('Invalid crop mode "'+r+'"');return this.withOptions({crop:r})},n.saturation=function(r){return this.withOptions({saturation:r})},n.auto=function(r){if(J.indexOf(r)===-1)throw new Error('Invalid auto mode "'+r+'"');return this.withOptions({auto:r})},n.pad=function(r){return this.withOptions({pad:r})},n.vanityName=function(r){return this.withOptions({vanityName:r})},n.frame=function(r){if(r!==1)throw new Error('Invalid frame value "'+r+'"');return this.withOptions({frame:r})},n.url=function(){return I(this.options)},n.toString=function(){return this.url()},e}();return X})})(ht);var Gt=ht.exports;const Kt=vt(Gt),Qt=Kt(Z);function Yt(t){return Qt.image(t)}const et=({value:t,label:a})=>s.createElement("div",null,s.createElement("p",{className:"text-3xl font-bold"},t),s.createElement("p",{className:"text-gray-600"},a));et.propTypes={value:_.oneOfType([_.string,_.number]).isRequired,label:_.string.isRequired};const mt=({tier:t})=>{if(!t)return null;const a=t.pizzaCount?`${t.pizzaCount.toLocaleString()} pizzas`:null,o=t.amount?`$${t.amount.toLocaleString()}`:null;return s.createElement("div",{className:"card p-6 border hover:border-[var(--color-accent)] transition-colors"},s.createElement("p",{className:"text-2xl font-bold"},a?`${a} â€” ${t.title}`:`Pledge ${o||"$0"} or more`),!a&&s.createElement("h4",{className:"text-xl font-bold text-[var(--color-accent)] mt-1"},t.title),s.createElement("p",{className:"text-body text-gray-600 my-3"},t.description),t.limit&&s.createElement("p",{className:"text-sm font-semibold text-gray-500 mb-3"},"LIMITED (",t.limit," left)"),s.createElement("button",{className:"btn btn-secondary w-full"},"Select this reward"))};mt.propTypes={tier:_.shape({pizzaCount:_.number,amount:_.number,title:_.string,description:_.string,limit:_.number})};const Xt=()=>{const[t,a]=R.useState(null),[o,l]=R.useState(!0),[u,f]=R.useState(null),[h,v]=R.useState("story");if(R.useEffect(()=>{const E="local-pizza-by-local-effort-let-s-make-1000-pizzas",U=`*[_type == "crowdfundingCampaign" && slug.current == $slug][0]{
            title,
            description,
            // pizza-specific fields (keep legacy fields for backwards compatibility)
            pizzaGoal,
            pizzasSold,
            goal,
            raisedAmount,
            backers,
            endDate,
            heroImage,
            story,
            faq,
            "rewardTiers": rewardTiers[]->{ amount, pizzaCount, title, description, limit } | order(amount asc),
            "updates": updates[]->{ title, publishedAt, body } | order(publishedAt desc)
        }`,X={slug:E};(async()=>{try{const e=await Z.fetch(U,X);a(e)}catch(e){try{const n=e&&e.message?e.message:String(e);if(console.error("Sanity fetch error message:",n),e&&e.response&&typeof e.response.text=="function"){const i=await e.response.text();console.error("Sanity fetch response body:",i)}}catch(n){console.error("Error while logging Sanity error:",n)}try{const i=await Z.fetch('*[_type == "crowdfundingCampaign"][0]{ title,description,pizzaGoal,pizzasSold,goal,raisedAmount,backers,endDate,heroImage,story,faq,"rewardTiers": rewardTiers[]->{ amount, pizzaCount, title, description, limit } | order(amount asc),"updates": updates[]->{ title, publishedAt, body } | order(publishedAt desc) }');if(i){console.warn("Loaded fallback campaign (first in dataset)"),a(i),f(null);return}}catch(n){console.error("Fallback fetch also failed:",n&&(n.message||n))}f("Failed to load campaign data.")}finally{l(!1)}})()},[]),o)return s.createElement("div",{className:"text-center p-12"},"Loading campaign...");if(u){const E=typeof u=="string"?u:u&&(u.message||JSON.stringify(u))||"Failed to load campaign data.";return s.createElement("div",{className:"text-center p-12 text-red-600"},E)}if(!t)return s.createElement("div",{className:"text-center p-12"},"No campaign found. Have you created and published it in Sanity Studio?");const{title:S="Untitled Campaign",description:j="",goal:z=0,raisedAmount:p=0,backers:d=0,endDate:m=null,heroImage:k=null}=t,y=t.story||[],x=t.faq||[],I=t.rewardTiers||[],A=t.updates||[],D=(t.pizzasSold??t.raisedAmount)||0,P=(t.pizzaGoal??t.goal)||1e3,q=m?Math.ceil((new Date(m)-new Date)/(1e3*60*60*24)):0,J=P>0?Math.min(D/P*100,100):0,$=({tabName:E,label:U})=>s.createElement("button",{type:"button",onClick:()=>v(E),"aria-pressed":h===E,className:`pb-2 px-1 text-lg font-semibold transition-colors ${h===E?"border-b-2 border-[var(--color-accent)] text-gray-900":"text-gray-500 hover:text-gray-800"}`},U);return $.propTypes={tabName:_.string.isRequired,label:_.string.isRequired},s.createElement(s.Fragment,null,s.createElement(wt,null,s.createElement("title",null,`${S} | Crowdfunding Campaign`),s.createElement("meta",{name:"description",content:j})),s.createElement("div",{className:"space-y-12"},s.createElement("div",null,s.createElement("h1",{className:"text-hero uppercase"},S),s.createElement("p",{className:"text-body max-w-3xl mt-2"},j)),s.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-5 lg:gap-16"},s.createElement("div",{className:"lg:col-span-3 space-y-8"},k&&s.createElement("img",{src:Yt(k).width(1200).quality(80).url(),alt:S,className:"w-full object-cover rounded-lg aspect-video bg-gray-100"}),s.createElement("div",{className:"border-b border-gray-200"},s.createElement("nav",{className:"flex space-x-8"},s.createElement($,{tabName:"story",label:"Story"}),A.length>0&&s.createElement($,{tabName:"updates",label:`Updates (${A.length})`}),x.length>0&&s.createElement($,{tabName:"faq",label:"FAQ"}))),s.createElement("div",{className:"prose max-w-none text-body"},h==="story"&&y.length>0&&s.createElement(at,{value:y}),h==="updates"&&s.createElement("div",{className:"space-y-8"},A.map((E,U)=>s.createElement("div",{key:U,className:"p-4 border-l-4 border-gray-200"},s.createElement("h3",{className:"text-heading mt-0"},E.title),s.createElement("p",{className:"text-sm text-gray-500 mb-2"},new Date(E.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),s.createElement(at,{value:E.body})))),h==="faq"&&s.createElement("div",{className:"space-y-6"},x.map((E,U)=>s.createElement("div",{key:U},s.createElement("h4",{className:"font-bold text-lg mb-1"},E.question),s.createElement("p",{className:"mt-0"},E.answer)))))),s.createElement("div",{className:"lg:col-span-2 space-y-8 mt-12 lg:mt-0"},s.createElement("div",{className:"card p-6 space-y-4"},s.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2.5"},s.createElement("div",{className:"bg-[var(--color-accent)] h-2.5 rounded-full",style:{width:`${J}%`}})),s.createElement("div",null,s.createElement("p",{className:"text-4xl font-bold text-[var(--color-accent)]"},D.toLocaleString()," pizzas"),s.createElement("p",{className:"text-body text-gray-600"},"sold of ",P.toLocaleString()," pizzas goal")),s.createElement("div",{className:"flex justify-between text-body text-center border-y py-3"},s.createElement(et,{value:d.toLocaleString(),label:"backers"}),s.createElement(et,{value:q>0?q:"Ended",label:q>0?"days to go":""})),s.createElement("button",{className:"btn btn-primary w-full text-lg py-3"},"Order a pizza")),s.createElement("div",{className:"space-y-4"},s.createElement("h3",{className:"text-heading uppercase"},"Support Us"),I.map(E=>s.createElement(mt,{key:(E==null?void 0:E.title)||Math.random(),tier:E})))))))};export{Xt as default};
