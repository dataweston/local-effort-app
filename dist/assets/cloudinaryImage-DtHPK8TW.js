import{R as Y,r as Qe,A as Ge}from"./index-LrDjm4qp.js";var L=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dt={exports:{}};(function(e,t){var r=200,n="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",u="[object Array]",l="[object Boolean]",h="[object Date]",d="[object Error]",g="[object Function]",A="[object GeneratorFunction]",V="[object Map]",U="[object Number]",X="[object Object]",ut="[object Promise]",Z="[object RegExp]",M="[object Set]",tt="[object String]",ct="[object Symbol]",et="[object WeakMap]",B="[object ArrayBuffer]",y="[object DataView]",E="[object Float32Array]",j="[object Float64Array]",rt="[object Int8Array]",ue="[object Int16Array]",ce="[object Int32Array]",le="[object Uint8Array]",de="[object Uint8ClampedArray]",fe="[object Uint16Array]",he="[object Uint32Array]",Xr=/[\\^$.*+?()[\]{}|]/g,Zr=/\w*$/,tn=/^\[object .+?Constructor\]$/,en=/^(?:0|[1-9]\d*)$/,m={};m[o]=m[u]=m[B]=m[y]=m[l]=m[h]=m[E]=m[j]=m[rt]=m[ue]=m[ce]=m[V]=m[U]=m[X]=m[Z]=m[M]=m[tt]=m[ct]=m[le]=m[de]=m[fe]=m[he]=!0,m[d]=m[g]=m[et]=!1;var rn=typeof L=="object"&&L&&L.Object===Object&&L,nn=typeof self=="object"&&self&&self.Object===Object&&self,x=rn||nn||Function("return this")(),pe=t&&!t.nodeType&&t,ge=pe&&!0&&e&&!e.nodeType&&e,sn=ge&&ge.exports===pe;function on(i,a){return i.set(a[0],a[1]),i}function an(i,a){return i.add(a),i}function un(i,a){for(var c=-1,f=i?i.length:0;++c<f&&a(i[c],c,i)!==!1;);return i}function cn(i,a){for(var c=-1,f=a.length,v=i.length;++c<f;)i[v+c]=a[c];return i}function me(i,a,c,f){for(var v=-1,w=i?i.length:0;++v<w;)c=a(c,i[v],v,i);return c}function ln(i,a){for(var c=-1,f=Array(i);++c<i;)f[c]=a(c);return f}function dn(i,a){return i?.[a]}function ye(i){var a=!1;if(i!=null&&typeof i.toString!="function")try{a=!!(i+"")}catch{}return a}function _e(i){var a=-1,c=Array(i.size);return i.forEach(function(f,v){c[++a]=[v,f]}),c}function Ct(i,a){return function(c){return i(a(c))}}function ve(i){var a=-1,c=Array(i.size);return i.forEach(function(f){c[++a]=f}),c}var fn=Array.prototype,hn=Function.prototype,lt=Object.prototype,Mt=x["__core-js_shared__"],we=(function(){var i=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})(),be=hn.toString,P=lt.hasOwnProperty,dt=lt.toString,pn=RegExp("^"+be.call(P).replace(Xr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=sn?x.Buffer:void 0,Te=x.Symbol,Oe=x.Uint8Array,gn=Ct(Object.getPrototypeOf,Object),mn=Object.create,yn=lt.propertyIsEnumerable,_n=fn.splice,Se=Object.getOwnPropertySymbols,vn=Ae?Ae.isBuffer:void 0,wn=Ct(Object.keys,Object),xt=J(x,"DataView"),nt=J(x,"Map"),Rt=J(x,"Promise"),Ft=J(x,"Set"),Vt=J(x,"WeakMap"),it=J(Object,"create"),bn=Q(xt),An=Q(nt),Tn=Q(Rt),On=Q(Ft),Sn=Q(Vt),$e=Te?Te.prototype:void 0,Ee=$e?$e.valueOf:void 0;function I(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function $n(){this.__data__=it?it(null):{}}function En(i){return this.has(i)&&delete this.__data__[i]}function Cn(i){var a=this.__data__;if(it){var c=a[i];return c===n?void 0:c}return P.call(a,i)?a[i]:void 0}function Mn(i){var a=this.__data__;return it?a[i]!==void 0:P.call(a,i)}function xn(i,a){var c=this.__data__;return c[i]=it&&a===void 0?n:a,this}I.prototype.clear=$n,I.prototype.delete=En,I.prototype.get=Cn,I.prototype.has=Mn,I.prototype.set=xn;function R(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function Rn(){this.__data__=[]}function Fn(i){var a=this.__data__,c=ft(a,i);if(c<0)return!1;var f=a.length-1;return c==f?a.pop():_n.call(a,c,1),!0}function Vn(i){var a=this.__data__,c=ft(a,i);return c<0?void 0:a[c][1]}function jn(i){return ft(this.__data__,i)>-1}function Pn(i,a){var c=this.__data__,f=ft(c,i);return f<0?c.push([i,a]):c[f][1]=a,this}R.prototype.clear=Rn,R.prototype.delete=Fn,R.prototype.get=Vn,R.prototype.has=jn,R.prototype.set=Pn;function N(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function Ln(){this.__data__={hash:new I,map:new(nt||R),string:new I}}function In(i){return ht(this,i).delete(i)}function kn(i){return ht(this,i).get(i)}function Qn(i){return ht(this,i).has(i)}function Gn(i,a){return ht(this,i).set(i,a),this}N.prototype.clear=Ln,N.prototype.delete=In,N.prototype.get=kn,N.prototype.has=Qn,N.prototype.set=Gn;function z(i){this.__data__=new R(i)}function Dn(){this.__data__=new R}function qn(i){return this.__data__.delete(i)}function Un(i){return this.__data__.get(i)}function Bn(i){return this.__data__.has(i)}function Nn(i,a){var c=this.__data__;if(c instanceof R){var f=c.__data__;if(!nt||f.length<r-1)return f.push([i,a]),this;c=this.__data__=new N(f)}return c.set(i,a),this}z.prototype.clear=Dn,z.prototype.delete=qn,z.prototype.get=Un,z.prototype.has=Bn,z.prototype.set=Nn;function zn(i,a){var c=Lt(i)||mi(i)?ln(i.length,String):[],f=c.length,v=!!f;for(var w in i)P.call(i,w)&&!(v&&(w=="length"||fi(w,f)))&&c.push(w);return c}function Ce(i,a,c){var f=i[a];(!(P.call(i,a)&&Fe(f,c))||c===void 0&&!(a in i))&&(i[a]=c)}function ft(i,a){for(var c=i.length;c--;)if(Fe(i[c][0],a))return c;return-1}function Jn(i,a){return i&&Me(a,It(a),i)}function jt(i,a,c,f,v,w,F){var b;if(f&&(b=w?f(i,v,w,F):f(i)),b!==void 0)return b;if(!pt(i))return i;var Pe=Lt(i);if(Pe){if(b=ci(i),!a)return oi(i,b)}else{var H=k(i),Le=H==g||H==A;if(_i(i))return Zn(i,a);if(H==X||H==o||Le&&!w){if(ye(i))return w?i:{};if(b=li(Le?{}:i),!a)return ai(i,Jn(b,i))}else{if(!m[H])return w?i:{};b=di(i,H,jt,a)}}F||(F=new z);var Ie=F.get(i);if(Ie)return Ie;if(F.set(i,b),!Pe)var ke=c?ui(i):It(i);return un(ke||i,function(kt,gt){ke&&(gt=kt,kt=i[gt]),Ce(b,gt,jt(kt,a,c,f,gt,i,F))}),b}function Hn(i){return pt(i)?mn(i):{}}function Yn(i,a,c){var f=a(i);return Lt(i)?f:cn(f,c(i))}function Wn(i){return dt.call(i)}function Kn(i){if(!pt(i)||pi(i))return!1;var a=je(i)||ye(i)?pn:tn;return a.test(Q(i))}function Xn(i){if(!Re(i))return wn(i);var a=[];for(var c in Object(i))P.call(i,c)&&c!="constructor"&&a.push(c);return a}function Zn(i,a){if(a)return i.slice();var c=new i.constructor(i.length);return i.copy(c),c}function Pt(i){var a=new i.constructor(i.byteLength);return new Oe(a).set(new Oe(i)),a}function ti(i,a){var c=a?Pt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function ei(i,a,c){var f=a?c(_e(i),!0):_e(i);return me(f,on,new i.constructor)}function ri(i){var a=new i.constructor(i.source,Zr.exec(i));return a.lastIndex=i.lastIndex,a}function ni(i,a,c){var f=a?c(ve(i),!0):ve(i);return me(f,an,new i.constructor)}function ii(i){return Ee?Object(Ee.call(i)):{}}function si(i,a){var c=a?Pt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function oi(i,a){var c=-1,f=i.length;for(a||(a=Array(f));++c<f;)a[c]=i[c];return a}function Me(i,a,c,f){c||(c={});for(var v=-1,w=a.length;++v<w;){var F=a[v],b=void 0;Ce(c,F,b===void 0?i[F]:b)}return c}function ai(i,a){return Me(i,xe(i),a)}function ui(i){return Yn(i,It,xe)}function ht(i,a){var c=i.__data__;return hi(a)?c[typeof a=="string"?"string":"hash"]:c.map}function J(i,a){var c=dn(i,a);return Kn(c)?c:void 0}var xe=Se?Ct(Se,Object):bi,k=Wn;(xt&&k(new xt(new ArrayBuffer(1)))!=y||nt&&k(new nt)!=V||Rt&&k(Rt.resolve())!=ut||Ft&&k(new Ft)!=M||Vt&&k(new Vt)!=et)&&(k=function(i){var a=dt.call(i),c=a==X?i.constructor:void 0,f=c?Q(c):void 0;if(f)switch(f){case bn:return y;case An:return V;case Tn:return ut;case On:return M;case Sn:return et}return a});function ci(i){var a=i.length,c=i.constructor(a);return a&&typeof i[0]=="string"&&P.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function li(i){return typeof i.constructor=="function"&&!Re(i)?Hn(gn(i)):{}}function di(i,a,c,f){var v=i.constructor;switch(a){case B:return Pt(i);case l:case h:return new v(+i);case y:return ti(i,f);case E:case j:case rt:case ue:case ce:case le:case de:case fe:case he:return si(i,f);case V:return ei(i,f,c);case U:case tt:return new v(i);case Z:return ri(i);case M:return ni(i,f,c);case ct:return ii(i)}}function fi(i,a){return a=a??s,!!a&&(typeof i=="number"||en.test(i))&&i>-1&&i%1==0&&i<a}function hi(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function pi(i){return!!we&&we in i}function Re(i){var a=i&&i.constructor,c=typeof a=="function"&&a.prototype||lt;return i===c}function Q(i){if(i!=null){try{return be.call(i)}catch{}try{return i+""}catch{}}return""}function gi(i){return jt(i,!0,!0)}function Fe(i,a){return i===a||i!==i&&a!==a}function mi(i){return yi(i)&&P.call(i,"callee")&&(!yn.call(i,"callee")||dt.call(i)==o)}var Lt=Array.isArray;function Ve(i){return i!=null&&vi(i.length)&&!je(i)}function yi(i){return wi(i)&&Ve(i)}var _i=vn||Ai;function je(i){var a=pt(i)?dt.call(i):"";return a==g||a==A}function vi(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=s}function pt(i){var a=typeof i;return!!i&&(a=="object"||a=="function")}function wi(i){return!!i&&typeof i=="object"}function It(i){return Ve(i)?zn(i):Xn(i)}function bi(){return[]}function Ai(){return!1}e.exports=gi})(Dt,Dt.exports);var G=Dt.exports,st=function(){return st=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},st.apply(this,arguments)};function Ti(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function l(g){try{d(n.next(g))}catch(A){u(A)}}function h(g){try{d(n.throw(g))}catch(A){u(A)}}function d(g){g.done?o(g.value):s(g.value).then(l,h)}d((n=n.apply(e,[])).next())})}function Oi(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=l(0),u.throw=l(1),u.return=l(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(g){return h([d,g])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(g){d=[6,g],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function mt(e,t,r,n,s){return Ti(this,void 0,void 0,function(){var o,u;return Oi(this,function(l){switch(l.label){case 0:if(r===void 0)return[2];u=0,l.label=1;case 1:return u<r.length?[4,r[u](e,t,n,s,r)]:[3,4];case 2:if(o=l.sent(),o==="canceled")return[3,4];l.label=3;case 3:return u++,[3,1];case 4:return o!=="canceled"?[2,o]:[2]}})})}var qt=function(e,t){return t===void 0&&(t={}),e?{trackedAnalytics:st({sdkCode:e.sdkCode,sdkSemver:e.sdkSemver,techVersion:e.techVersion},t)}:null},Si=(function(){function e(t,r,n,s){var o=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var u=G(r);mt(t,u,n,this.htmlPluginState,s).then(function(l){if(o.isMounted){o.htmlPluginState.pluginEventSubscription.forEach(function(d){d()});var h=qt(s,l);o.imgElement.setAttribute("src",u.toURL(h))}})}return e.prototype.update=function(t,r,n){var s=this,o=G(t);mt(this.imgElement,o,r,this.htmlPluginState).then(function(u){if(s.isMounted){var l=qt(n,u);s.imgElement.setAttribute("src",o.toURL(l))}})},e.prototype.unmount=function(){this.isMounted=!1},e})();let _=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}},$i=class extends Error{constructor(t="Unsupported"){super(t)}};function zt(e){return new $i(e)}function Ei(){return this._qualifierModel||{error:zt(`unsupported qualifier ${this.constructor.name}`)}}let Ci=class{constructor(){this._qualifierModel={}}toJson(){return Ei.apply(this)}},p=class extends Ci{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof _?this.qualifierValue=r:(this.qualifierValue=new _,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},O=class extends p{constructor(t,r){let n;r?n=new _([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function Mi(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function xi(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:zt(`unsupported action ${this.constructor.name}`)}}let Ri=class{constructor(){this._actionModel={}}toJson(){return xi.apply(this)}},$=class extends Ri{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),Mi(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new O(n)):this.qualifiers.set(r,new p(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new O(t)):t instanceof O&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};class Jt extends ${constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class wt extends Jt{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new p("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new p("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new p("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new p("h",t)),this}static fromJson(t){const r=new wt;return t.width&&r.width(t.width),t.height&&r.height(t.height),t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function Fi(){return new wt}function ir(){return new Jt("faces")}function Vi(){return new Jt("ocr_text")}class ji extends ${constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new p("e",`blur_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new p("e",`blur_region${t}`)),this.addQualifier(new p("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new p("e",`blur_faces${t}`))):this.addQualifier(new p("e",`blur${t}`))}static fromJson(t){const{strength:r,region:n}=t,s=new this(r);return r&&s.strength(r),n&&n.regionType==="faces"&&s.region(ir()),n&&n.regionType==="ocr_text"&&s.region(Vi()),n&&n.regionType==="custom"&&s.region(wt.fromJson(n)),s}}function D(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const sr={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},Pi={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},or={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},ar={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},Li={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},ur={444:"CHROMA_444",420:"CHROMA_420"},Ii={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},ki=D(ur);D(Ii);const Qi=D(sr),Gi=D(Pi),cr=D(or);D(ar);D(Li);class lr extends ${constructor(t,r){super(),this._actionModel={},this._actionModel.actionType=cr[t]||t;const n=this.createEffectQualifier(t,r);this.addQualifier(n)}createEffectQualifier(t,r){let n;return r?n=new _([t,`${r}`]).setDelimiter(":"):n=new _(t),new p("e",n)}static fromJson(t){const{actionType:r,level:n,strength:s}=t,o=or[r]||r;return new this(o,n||s)}}class Di extends lr{constructor(t,r){super(t,r),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=cr[t]||t,r&&this.setLevel(r)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const r=this.createEffectQualifier(this.effectType,t);return this.addQualifier(r),this}}function bt(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class qi extends ${constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new _(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new _(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new _(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new _(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new _(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new p("e",t))}static fromJson(t){const{actionType:r,paths:n,cornersLevel:s,despeckleLevel:o,detailLevel:u,numOfColors:l}=t,h=new this;return n&&h.paths(n),s&&h.cornersLevel(s),o&&h.despeckleLevel(o),u&&h.detailsLevel(u),l&&h.numOfColors(l),h}}class Ui extends Di{level(t){return this._actionModel.level=t,this.setLevel(t)}}class Bi extends ${constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new p("e",new _("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new p("e",new _(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new p("e",new _(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:r,type:n,stripesStrength:s}=t,o=new this;return n==="xray"&&o.xray(),n==="stripes"&&s&&o.stripesStrength(s),o}}class Ni extends Ui{color(t){return this._actionModel.color=t,this.addQualifier(new p("co",new _(bt(t))))}static fromJson(t){const{actionType:r,level:n,color:s}=t,o=new this(r,n);return s&&o.color(s),o}}class zi extends ${constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new p("e",`pixelate_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new p("e",`pixelate_region${t}`)),this.addQualifier(new p("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new p("e",`pixelate_faces${t}`))):this.addQualifier(new p("e",`pixelate${t}`))}static fromJson(t){const{region:r,squareSize:n}=t,s=new this(n);return n&&s.squareSize(n),r&&r.regionType==="faces"&&s.region(ir()),r&&r.regionType==="custom"&&s.region(Fi()),s}}const Ji=e=>Xi(encodeURIComponent,Wi,Ki)(e),Hi=/[!'()*~_.-]/g,Yi={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},Wi=e=>e.replace(Hi,t=>{var r;return(r=Yi[t])!==null&&r!==void 0?r:t}),Ki=e=>e.replace(/%20/g," "),Xi=(...e)=>t=>e.reduce((r,n)=>n(r),t);function Zi(e){return new ji(e)}function ts(){return new lr("grayscale")}function De(e){return new Ni("colorize",e)}function es(){return new qi}function rs(){return new Bi}function ns(e){return new zi(e)}let is=class extends ${constructor(t){super(),this._actionModel={},this.addQualifier(new p("b",new _(bt(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}},qe=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:zt(`unsupported action ${this.constructor.name}`)}}};function ss(e){const t=e;return"error"in t&&!!t.error}function os(){return new O("ignore_aspect_ratio")}function as(){return new O("lossy")}function us(){return new O("preserve_transparency")}function cs(e){return new O("progressive",e)}function ls(){return new O("region_relative")}function ds(){return new O("relative")}let Ht=class extends _{constructor(t){super(t),this.val=t}getValue(){return this.val}},dr=class extends ${constructor(t,r,n){super(),this._actionModel={};let s;r instanceof Ht?s=r.getValue():s=r,this._actionModel.actionType=Gi[t],this._actionModel[n]=s,this.addQualifier(new p(t,r))}},fs=class extends O{constructor(t){super("progressive",t)}},Ut=class extends dr{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(as()),this}progressive(t){return t instanceof fs?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(cs(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(us()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}},At=class fr{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new qe(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof fr?this.actions=this.actions.concat(t.actions):this.actions.push(new qe(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new Ut("q",t)),this}format(t){return this.addAction(new Ut("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new is(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new $;let n=t;return typeof t=="string"&&(n=new O(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(ss(n))return n;t.push(n)}return{actions:t}}};function Ue(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}let hs=class extends _{},hr=class extends ${constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=Qi[t]||t,this.addQualifier(new p("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new p("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new p("w",t))}aspectRatio(t){if(t instanceof hs)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new p("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=Ue(t),this.addQualifier(new p("ar",Ue(t)));if(t instanceof O)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(ds())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(ls())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=sr[r]||r,g=new this(d,l,h);return u&&g.aspectRatio(u==="ignore_aspect_ratio"?os():u),s&&g.relative(),o&&g.regionRelative(),g}},Tt=class extends p{constructor(t){super("g",new _(t))}},pr=class extends Tt{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}},gr=class extends Tt{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}},mr=class extends Tt{constructor(t){super(t)}};function ps(e){return new mr(e)}function yr(...e){const t=[...e];return new gr(t)}function _r(){return new pr}let W=class extends _{constructor(t){super(),this.name=t}toString(){return this.name}};function gs(){return new W("ocr_text")}function ms(e){return e&&`${e}`.split(":")[0]==="auto"}function ys(e){const t=Yt(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function Yt(e){return`${e}`.replace("g_","")}function _s(e){return{compass:Yt(e),gravityType:"direction"}}function vs(e){return Yt(e)==="ocr_text"}function ws(){return{gravityType:"ocr"}}function bs(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function As(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function vr(e){let t;const r=e==="auto"?new pr:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(As)}}function Ts(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=_r().autoFocus(...o);s.fallbackGravity=vr(u)}return s}function Os(e){const r=e.split(":").map(n=>new W(n));return new gr(r)}function Ss(e){return ys(e)?_s(e):vs(e)?ws():ms(e)||bs(e)?vr(e):Ts(typeof e=="string"?Os(e):e)}let $s=class wr extends _{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof W?t:new W(t);return new wr(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}},br=class extends _{constructor(t){super(),this.val=t}toString(){return this.val}};function Es(e){return e.gravityType==="direction"}function Cs(e){return e.gravityType==="ocr"}function Ms(e){return e.gravityType==="auto"}function xs(e){const{object:t,weight:r,avoid:n}=e,s=new $s(new W(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function Ar(e){const r=(e.autoFocus||[]).map(xs);return _r().autoFocus(...r)}function Rs(e){const t=(e.focusOnObjects||[]).map(n=>new W(n)),r=yr(...t);if(e.fallbackGravity){const n=Ar(e.fallbackGravity);r.fallbackGravity(n)}return r}function Fs(e){return Es(e)?new mr(new br(e.compass)):Cs(e)?yr(gs()):Ms(e)?Ar(e):Rs(e)}let Wt=class extends hr{gravity(t){this._actionModel.gravity=Ss(t);const r=typeof t=="string"?new p("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(Fs(t.gravity)),r}};class at extends p{constructor(t){super("b"),t&&this.addValue(t)}}const Tr=100,Vs=0;class js extends at{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${Tr}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}}var Or=js;class Kt extends at{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>bt(r)),this}}class Sr extends Kt{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class $r extends Kt{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class Er extends $r{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Cr extends $r{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Mr extends Kt{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class xr extends at{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${Ji(this._prompt)}`:""}`}}function Rr(e){return`${e}`.replace("b_","")}function Ps(){return{backgroundType:"auto"}}function Ls(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function Xt(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function Is(e){return Object.assign(Object.assign({},Xt(e)),{backgroundType:"border"})}function Fr(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=Xt(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function ks(e){return Object.assign(Object.assign({},Fr(e)),{backgroundType:"borderGradient"})}function Qs(e){return{backgroundType:"color",color:Rr(e)}}function Gs(e){return Object.assign(Object.assign({},Xt(e)),{backgroundType:"predominant"})}function Ds(e){return Object.assign(Object.assign({},Fr(e)),{backgroundType:"predominantGradient"})}function qs(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function Us(e){return Rr(e)==="auto"?Ps():e instanceof Or?Ls(e):e instanceof Sr?Is(e):e instanceof Er?ks(e):e instanceof Mr?Gs(e):e instanceof Cr?Ds(e):e instanceof xr?qs(e):Qs(e)}function Bs(){return new Ht("svg")}function Zt(){return new Ht("auto")}function Vr(){return new Sr}function jr(){return new at("auto")}function Pr(){return new Er}function Lr(){return new Cr}function Ir(){return new Mr}function kr(e){return new at(bt(e))}function Ns(){return new Or}function Qr(){return new xr}const Gr={auto:jr,border:Vr,borderGradient:Pr,predominantGradient:Lr,predominant:Ir,color:kr,blurred:Ns,generativeFill:Qr};function zs(e){const{brightness:t,intensity:r}=e,n=Gr.blurred();return n.brightness(t??Vs),n.intensity(r??Tr),n}function Be(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function Ne(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function Js(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function Hs(e){const{backgroundType:t}=e;switch(t){case"auto":return jr();case"blurred":return zs(e);case"border":return Ne(Vr(),e);case"borderGradient":return Be(Pr(),e);case"predominant":return Ne(Ir(),e);case"predominantGradient":return Be(Lr(),e);case"generativeFill":return Js(Qr(),e);default:return kr(e.color)}}class Ys extends Wt{background(t){return this._actionModel.background=Us(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new p("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new p("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(Hs(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}}class Ws extends hr{liquidRescaling(){return this.addQualifier(new Tt("liquid"))}}class Ks extends Wt{x(t){return this._actionModel.x=t,this.addQualifier(new p("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new p("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new p("z",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),t.zoom&&r.zoom(t.zoom),r}}let Xs=class extends Wt{x(t){return this._actionModel.x=t,this.addQualifier(new p("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new p("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}};function Zs(e,t){return new Ws("scale",e,t)}function to(e,t){return new Ks("crop",e,t)}function eo(e,t){return new Xs("fill",e,t)}function ro(e,t){return new Ys("pad",e,t)}class no extends dr{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=ur[t];const r=new _([this._actionModel.level,t]);return r.setDelimiter(":"),this.addQualifier(new p("q",r))}quantization(t){this._actionModel.quantization=t;const r=new _([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new p("q",r))}static fromJson(t){const{level:r,chromaSubSampling:n,quantization:s}=t,o=ar[r]||r,u=new this(o);if(n){const l=ki[n.toUpperCase()];l&&u.chromaSubSampling(+l)}return s&&u.quantization(s),u}}function Ot(e){return new Ut("f",e)}function St(e){return new no(e)}function io(){return new br("north_east")}De(70).color("black"),De(40).color("white"),ts(),rs();new At().effect(es()).delivery(St("auto")).delivery(Ot(Bs()));new At().effect(ns()).delivery(St("auto")).delivery(Ot(Zt()));new At().effect(Zi(2e3)).delivery(St("auto")).delivery(Ot(Zt()));new At().resize(ro("iw_div_2").aspectRatio(1).background(Gr.auto())).resize(to(1,1).gravity(ps(io()))).resize(eo().height("ih").width("iw")).delivery(St("auto")).delivery(Ot(Zt()));var ze={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},Je="?_a=",so=(function(){function e(t,r,n,s,o,u,l){var h=this;this.mimeType="video",this.mimeSubTypes=ze,this.videoElement=t,this.originalVideo=r,this.videoOptions=l,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var d=G(r);mt(t,r,s,this.htmlPluginState).then(function(){h.htmlPluginState.pluginEventSubscription.forEach(function(g){g()}),h.setVideoAttributes(o,u),h.handleSourceToVideo(d,n)})}return e.prototype.handleSourceToVideo=function(t,r){var n=this;if(r)this.generateUserSources(t,r);else{var s=["webm","mp4","ogv"];s.forEach(function(o){n.appendSourceTag(G(t),o)})}},e.prototype.generateUserSources=function(t,r){var n=this;r.map(function(s){var o=s.type,u=s.codecs,l=s.transcode;return n.appendSourceTag(G(t).transcode(l),o,n.buildMimeType(o,u))})},e.prototype.appendSourceTag=function(t,r,n){var s,o=document.createElement("source"),u=(s=this.videoOptions)===null||s===void 0?void 0:s.useFetchFormat;u&&t.format(r);var l=t.toURL(),h=l.split(Je),d=h[1]?"".concat(Je).concat(h[1]):"",g=u?"":".".concat(r);o.src="".concat(h[0]).concat(g).concat(d),o.type=n||"video/".concat(ze[r]||r),this.videoElement.appendChild(o)},e.prototype.buildMimeType=function(t,r){var n="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return r&&(n+="; codecs="+(Array.isArray(r)?r.join(", "):r)),n},e.prototype.setVideoAttributes=function(t,r){var n;if(t===void 0&&(t={}),r==="auto"){var s=G(this.originalVideo);t.poster=s.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else r&&(t.poster=(n=r.toURL)===null||n===void 0?void 0:n.call(r));for(var o=0,u=Object.entries(t);o<u.length;o++){var l=u[o],h=l[0],d=l[1];d&&this.videoElement.setAttribute(h,h==="poster"?d:"")}},e.prototype.update=function(t,r,n,s,o){var u=this;if(t!==this.originalVideo){for(var l=this.videoElement.getElementsByTagName("SOURCE");l[0];)l[0].parentNode.removeChild(l[0]);mt(this.videoElement,t,n,this.htmlPluginState).then(function(){u.setVideoAttributes(s,o),u.handleSourceToVideo(t,r),u.videoElement.load()})}},e})(),oo="Expected a function",He=NaN,ao="[object Symbol]",uo=/^\s+|\s+$/g,co=/^[-+]0x[0-9a-f]+$/i,lo=/^0b[01]+$/i,fo=/^0o[0-7]+$/i,ho=parseInt,po=typeof L=="object"&&L&&L.Object===Object&&L,go=typeof self=="object"&&self&&self.Object===Object&&self,mo=po||go||Function("return this")(),yo=Object.prototype,_o=yo.toString,vo=Math.max,wo=Math.min,Qt=function(){return mo.Date.now()};function bo(e,t,r){var n,s,o,u,l,h,d=0,g=!1,A=!1,V=!0;if(typeof e!="function")throw new TypeError(oo);t=Ye(t)||0,Bt(r)&&(g=!!r.leading,A="maxWait"in r,o=A?vo(Ye(r.maxWait)||0,t):o,V="trailing"in r?!!r.trailing:V);function U(y){var E=n,j=s;return n=s=void 0,d=y,u=e.apply(j,E),u}function X(y){return d=y,l=setTimeout(M,t),g?U(y):u}function ut(y){var E=y-h,j=y-d,rt=t-E;return A?wo(rt,o-j):rt}function Z(y){var E=y-h,j=y-d;return h===void 0||E>=t||E<0||A&&j>=o}function M(){var y=Qt();if(Z(y))return tt(y);l=setTimeout(M,ut(y))}function tt(y){return l=void 0,V&&n?U(y):(n=s=void 0,u)}function ct(){l!==void 0&&clearTimeout(l),d=0,n=h=s=l=void 0}function et(){return l===void 0?u:tt(Qt())}function B(){var y=Qt(),E=Z(y);if(n=arguments,s=this,h=y,E){if(l===void 0)return X(h);if(A)return l=setTimeout(M,t),U(h)}return l===void 0&&(l=setTimeout(M,t)),u}return B.cancel=ct,B.flush=et,B}function Bt(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Ao(e){return!!e&&typeof e=="object"}function To(e){return typeof e=="symbol"||Ao(e)&&_o.call(e)==ao}function Ye(e){if(typeof e=="number")return e;if(To(e))return He;if(Bt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Bt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(uo,"");var r=lo.test(e);return r||fo.test(e)?ho(e.slice(2),r?2:8):co.test(e)?He:+e}var Oo=bo;function So(e){return typeof e=="number"}function te(){return typeof window<"u"}function $o(e){return e instanceof HTMLImageElement}var Eo={accessibility:!1,lazyload:!1,placeholder:!1,responsive:!1},Co=function(e){return e.replace("bound ","").replace("Plugin","")},Mo=function(e,t){e===void 0&&(e=[]);var r=e.reduce(function(n,s){var o,u=s.name;return st(st({},n),(o={},o[Co(u)]=!0,o))},Eo);return r[t]};function xo(e){var t=e===void 0?{}:e,r=t.steps;return Ro.bind(null,r)}function Ro(e,t,r,n,s,o){if(!te())return!0;if($o(t))return new Promise(function(u){n.cleanupCallbacks.push(function(){window.removeEventListener("resize",d),u("canceled")});var l=qt(s,{responsive:!0});r.addAction(new $().setActionTag("responsive"));var h=!Mo(o,"placeholder");h?We(e,t,r,l):Dr(e,t,r);var d;n.pluginEventSubscription.push(function(){window.addEventListener("resize",d=Oo(function(){We(e,t,r,l)},100))}),u({responsive:!0})})}function We(e,t,r,n){Dr(e,t,r),t.src=r.toURL(n)}function Dr(e,t,r){var n=t.parentElement.clientWidth;if(So(e)){var s=e;n=Math.ceil(n/s)*s}else Array.isArray(e)&&(n=e.reduce(function(o,u){return Math.abs(u-n)<Math.abs(o-n)?u:o}));r.transformation.actions.forEach(function(o,u){o instanceof $&&o.getActionTag()==="responsive"&&(r.transformation.actions[u]=Zs(n).setActionTag("responsive"))})}function Fo(e){var t={},r=t.rootMargin,n=r===void 0?"0px":r,s=t.threshold,o=s===void 0?.1:s;return Vo.bind(null,n,o)}function Vo(e,t,r,n,s,o){return e===void 0&&(e="0px"),t===void 0&&(t=.1),te()?new Promise(function(u){var l=function(){return u({lazyload:!0})},h=Po(r,l,e,t);s.cleanupCallbacks.push(function(){h(),u("canceled")})}):!1}function jo(){return window&&"IntersectionObserver"in window}function Po(e,t,r,n){try{if(!jo())return t(),function(){};var s=new IntersectionObserver(function(o){o.forEach(function(u){u.isIntersecting&&(s.unobserve(u.target),t())})},{rootMargin:r,threshold:n});return s.observe(e),function(){e&&s.observe(e)}}catch{t()}}function Lo(e,t,r){var n=G(t);if(e)for(var s=0;s<e.length;s++){var o=e[s](null,n);if(!o)break}return n.toURL(r?{trackedAnalytics:r}:null)}function yt(e){e.cleanupCallbacks.forEach(function(t){t()})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nt=function(e,t){return Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Nt(e,t)};function qr(e,t){Nt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ot=function(){return ot=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ot.apply(this,arguments)};function Ur(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var Gt={sdkSemver:"1.14.3",techVersion:Y.version,sdkCode:"J"},Io=(function(e){qr(t,e);function t(r){var n=e.call(this,r)||this;return n.imageRef=Y.createRef(),n}return t.prototype.componentDidMount=function(){this.htmlLayerInstance=new Si(this.imageRef.current,this.props.cldImg,this.props.plugins,Gt)},t.prototype.componentDidUpdate=function(){yt(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,Gt)},t.prototype.componentWillUnmount=function(){yt(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},t.prototype.render=function(){var r=this.props;r.cldImg,r.plugins;var n=Ur(r,["cldImg","plugins"]);if(te())return Y.createElement("img",ot({suppressHydrationWarning:!0},n,{ref:this.imageRef}));var s=Lo(this.props.plugins,this.props.cldImg,Gt);return Y.createElement("img",ot({},n,{src:s}))},t})(Y.Component),ko=["controls","loop","muted","poster","preload","autoplay","playsinline"];(function(e){qr(t,e);function t(r){var n=e.call(this,r)||this;return n.videoRef=Qe.createRef(),n.attachRef=n.attachRef.bind(n),n}return t.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new so(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},t.prototype.componentDidUpdate=function(){yt(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},t.prototype.componentWillUnmount=function(){yt(this.htmlVideoLayerInstance.htmlPluginState)},t.prototype.getVideoAttributes=function(){var r=this,n={};return ko.forEach(function(s){s in r.props&&(n[s]=r.props[s])}),n},t.prototype.attachRef=function(r){this.videoRef.current=r;var n=this.props.innerRef;n&&(n instanceof Function?n(r):n.current=r)},t.prototype.render=function(){var r=this.props;r.cldVid,r.cldPoster,r.plugins,r.sources,r.innerRef,r.useFetchFormat;var n=Ur(r,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return Y.createElement("video",ot({},n,{ref:this.attachRef}))},t})(Qe.Component);function Qo(e){return!(typeof e!="object"||e instanceof Array)}class Go{filterOutNonSupportedKeys(t,r){const n=Object.create({});return Qo(t)?(Object.keys(t).forEach(s=>{r.indexOf(s)>=0?n[s]=t[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),n):Object.create({})}}const Ke=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class ee extends Go{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,Ke);Object.assign(this,{secure:!0},r)}extend(t){const r=this.filterOutNonSupportedKeys(t,Ke);return new ee(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}class C{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}}class Do extends Error{constructor(t="Unsupported"){super(t)}}function re(e){return new Do(e)}function qo(){return this._qualifierModel||{error:re(`unsupported qualifier ${this.constructor.name}`)}}class Uo{constructor(){this._qualifierModel={}}toJson(){return qo.apply(this)}}class T extends Uo{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof C?this.qualifierValue=r:(this.qualifierValue=new C,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class S extends T{constructor(t,r){let n;r?n=new C([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function Bo(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function No(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:re(`unsupported action ${this.constructor.name}`)}}class zo{constructor(){this._actionModel={}}toJson(){return No.apply(this)}}class $t extends zo{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),Bo(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new S(n)):this.qualifiers.set(r,new T(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new S(t)):t instanceof S&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}}function Jo(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class Ho extends $t{constructor(t){super(),this._actionModel={},this.addQualifier(new T("b",new C(Jo(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}}class Xe{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:re(`unsupported action ${this.constructor.name}`)}}}function Yo(e){const t=e;return"error"in t&&!!t.error}function Wo(){return new S("ignore_aspect_ratio")}function Ko(){return new S("lossy")}function Xo(){return new S("preserve_transparency")}function Zo(e){return new S("progressive",e)}function ta(){return new S("region_relative")}function ea(){return new S("relative")}class Br extends C{constructor(t){super(t),this.val=t}getValue(){return this.val}}function q(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const Nr={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},ra={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},na={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},ia={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},sa={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},oa={444:"CHROMA_444",420:"CHROMA_420"},aa={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};q(oa);q(aa);const ua=q(Nr),ca=q(ra);q(na);q(ia);q(sa);class la extends $t{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof Br?s=r.getValue():s=r,this._actionModel.actionType=ca[t],this._actionModel[n]=s,this.addQualifier(new T(t,r))}}class da extends S{constructor(t){super("progressive",t)}}class _t extends la{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(Ko()),this}progressive(t){return t instanceof da?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(Zo(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Xo()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}}class Et{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new Xe(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof Et?this.actions=this.actions.concat(t.actions):this.actions.push(new Xe(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new _t("q",t)),this}format(t){return this.addAction(new _t("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new Ho(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new $t;let n=t;return typeof t=="string"&&(n=new S(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(Yo(n))return n;t.push(n)}return{actions:t}}}class fa extends Et{}class ha extends Et{}function Ze(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}class pa extends C{}class ga extends $t{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=ua[t]||t,this.addQualifier(new T("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new T("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new T("w",t))}aspectRatio(t){if(t instanceof pa)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new T("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=Ze(t),this.addQualifier(new T("ar",Ze(t)));if(t instanceof S)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(ea())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(ta())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=Nr[r]||r,g=new this(d,l,h);return u&&g.aspectRatio(u==="ignore_aspect_ratio"?Wo():u),s&&g.relative(),o&&g.regionRelative(),g}}class ne extends T{constructor(t){super("g",new C(t))}}class zr extends ne{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class Jr extends ne{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class ma extends ne{constructor(t){super(t)}}function Hr(...e){const t=[...e];return new Jr(t)}function ie(){return new zr}class K extends C{constructor(t){super(),this.name=t}toString(){return this.name}}function ya(){return new K("ocr_text")}function _a(e){return e&&`${e}`.split(":")[0]==="auto"}function va(e){const t=se(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function se(e){return`${e}`.replace("g_","")}function wa(e){return{compass:se(e),gravityType:"direction"}}function ba(e){return se(e)==="ocr_text"}function Aa(){return{gravityType:"ocr"}}function Ta(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Oa(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function Yr(e){let t;const r=e==="auto"?new zr:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(Oa)}}function Sa(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=ie().autoFocus(...o);s.fallbackGravity=Yr(u)}return s}function $a(e){const r=e.split(":").map(n=>new K(n));return new Jr(r)}function Ea(e){return va(e)?wa(e):ba(e)?Aa():_a(e)||Ta(e)?Yr(e):Sa(typeof e=="string"?$a(e):e)}class oe extends C{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof K?t:new K(t);return new oe(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class Ca extends C{constructor(t){super(),this.val=t}toString(){return this.val}}function Ma(e){return e.gravityType==="direction"}function xa(e){return e.gravityType==="ocr"}function Ra(e){return e.gravityType==="auto"}function Fa(e){const{object:t,weight:r,avoid:n}=e,s=new oe(new K(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function Wr(e){const r=(e.autoFocus||[]).map(Fa);return ie().autoFocus(...r)}function Va(e){const t=(e.focusOnObjects||[]).map(n=>new K(n)),r=Hr(...t);if(e.fallbackGravity){const n=Wr(e.fallbackGravity);r.fallbackGravity(n)}return r}function ja(e){return Ma(e)?new ma(new Ca(e.compass)):xa(e)?Hr(ya()):Ra(e)?Wr(e):Va(e)}class Pa extends ga{gravity(t){this._actionModel.gravity=Ea(t);const r=typeof t=="string"?new T("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(ja(t.gravity)),r}}function La(){return"auto"}function Ia(){return new Br("auto")}class ka extends Pa{x(t){return this._actionModel.x=t,this.addQualifier(new T("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new T("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function Qa(e,t){return new ka("fill",e,t)}function Ga(e){return e.match(/^https?:\//)}function Da(e){return e.indexOf("/")<0}function qa(e){return e.match(/^v[0-9]+/)}function Ua(e,t){const r=t.secure,n=t.privateCdn,s=t.cname,o=t.secureDistribution;return!r&&!s?`http://res.cloudinary.com/${e}`:r&&!o&&n?`https://${e}-res.cloudinary.com`:r&&!o?`https://res.cloudinary.com/${e}`:r&&o&&n?`https://${o}`:r&&o?`https://${o}/${e}`:!r&&s?`http://${s}/${e}`:"ERROR"}function Ba(e){return e||"image"}function Na(e){return e||"upload"}function za(e,t,r){const n=r!==!1;return t?`v${t}`:qa(e)||Ga(e)||Da(e)?"":n?"v1":""}function ae(e,t,r){let n=t>>0,s=String(r);return e.length>n?String(e):(n=n-e.length,n>s.length&&(s+=Ja(s,n/s.length)),s.slice(0,n)+String(e))}function Ja(e,t){let r=t,n="";for(;r>0;)n+=e,r--;return n}const Ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vt={};let tr=0;Ha.split("").forEach(e=>{let t=tr.toString(2);t=ae(t,6,"0"),vt[t]=e,tr++});function Ya(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().join(".")}function Wa(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").map(t=>{const r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return ae(t,2,"0")}).join(".")}function er(e){let t="";const n=e.split(".").length*6,s=Ya(e),o=Wa(s);let l=parseInt(o.split(".").join("")).toString(2);if(l=ae(l,n,"0"),l.length%6!==0)throw"Version must be smaller than 43.21.26)";return l.match(/.{1,6}/g).forEach(h=>{t+=vt[h]}),t}function Ka(e){const t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0",osType:e.osType,osVersion:e.osVersion};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),e.feature&&(t.feature=e.feature),t}const Xa="1.22.0";function Za(e){const[t,r]=e.split("."),n=parseInt(t).toString(2),s=parseInt(r).toString(2),o=n.padStart(6,"0"),u=s.padStart(6,"0");return vt[o]+vt[u]}function tu(){const e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function eu(e){const t={techVersion:tu(),sdkCode:"T",sdkSemver:Xa.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function rr(e){const t=eu(e),r=Ka(t);try{const n=ru(r.techVersion),s=er(r.sdkSemver),o=er(n),u=Za(r.osVersion),l=r.feature,h=r.sdkCode,{product:d,osType:g}=r;return`D${d}${h}${s}${o}${g}${u}${l}`}catch{return"E"}}function ru(e){const t=e.split(".");return`${t[0]}.${t[1]}`}const nr={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class nu{constructor(t,r={},n){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(n)}setURLConfig(t){return this.urlConfig=new ee(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){const t=Ba(this.assetType),r=Na(this.deliveryType),n=!!this.suffix,s=`${t}/${r}`,o=nr[`${t}/${r}`],u=this.urlConfig.useRootPath,l=this.urlConfig.shorten;if(u){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(l&&s==="image/upload")return"iu";if(n){if(o)return o;throw new Error(`URL Suffix only supported for ${Object.keys(nr).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();const n=Ua(this.cloudName,this.urlConfig),s=t?t.toString():"",o=za(this.publicID,this.version,this.urlConfig.forceVersion),u=this.publicID;if(typeof t=="string")return[n,this.getResourceType(),this.getSignature(),s,o,u.replace(/,/g,"%2C"),this.suffix].filter(h=>h).join("/");{const l=[encodeURI(n),this.getResourceType(),this.getSignature(),encodeURI(s),o,encodeURI(u).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(g=>g).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),h=this.urlConfig.analytics!==!1&&!u.includes("?");let d="";if(typeof this.urlConfig.queryParams=="object")try{const g=new URLSearchParams(this.urlConfig.queryParams);h&&g.set("_a",rr(r)),d=g.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else d=this.urlConfig.queryParams||"",h&&(d+=`${d.length>0?"&":""}_a=${rr(r)}`);return d?`${l}?${d}`:l}}}class Kr extends nu{constructor(t,r,n,s){super(t,r,n),this.transformation=s}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new _t("q",t)),this}format(t){return this.addAction(new _t("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t?.trackedAnalytics)}}let iu=class extends Kr{constructor(t,r,n){super(t,r,n,new fa)}};class su extends Kr{constructor(t,r,n){super(t,r,n,new ha),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}class ou{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new iu(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new su(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}const au=new ou({cloud:{cloudName:"your-cloud-name"}}),Vu=({publicId:e,alt:t,width:r,height:n,className:s})=>{if(!e){const u={width:r?`${r}px`:"100%",height:n?`${n}px`:"100%",backgroundColor:"#f0f0f0",display:"inline-block"};return Ge.jsx("span",{style:u,className:s})}const o=au.image(e);return o.quality(La()).format(Ia()),r&&n&&o.resize(Qa(r,n).gravity(ie())),Ge.jsx(Io,{cldImg:o,alt:t,className:s,plugins:[xo({steps:[800,1e3,1400]}),Fo()]})};export{Vu as C};
