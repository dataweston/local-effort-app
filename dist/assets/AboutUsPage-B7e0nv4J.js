import{r as c,c as P,R as e,W as S}from"./index-1DUUIV-0.js";import{C as f}from"./cloudinaryImage-Cuncvh0o.js";import{p as N}from"./cloudinaryContent-9WNOh6YK.js";const j=()=>{var b,h,E,p,y,g;const[d,m]=c.useState(null),[x,v]=c.useState(!0);if(c.useEffect(()=>{const r=`{
      "page": *[_type == "page" && slug.current == "about-us"][0]{ title, introduction },
  "persons": *[_type == "person"]{ name, role, bio, image{asset->{_ref}}, headshot{ asset{ public_id }, alt } }
    }`;let s=!0;return(async()=>{try{const o=await P.fetch(r);if(!s)return;m(o)}catch(o){console.error("Failed to load About page data:",o),m(null)}finally{s&&v(!1)}})(),()=>{s=!1}},[]),x)return e.createElement("div",null,"Loading...");if(!d)return e.createElement("div",null,"Could not load page data.");const{page:l,persons:n=[]}=d,t=n.find(r=>r.name&&r.name.includes("Weston"))||{},a=n.find(r=>r.name&&r.name.includes("Catherine"))||{},i=((h=(b=t==null?void 0:t.headshot)==null?void 0:b.asset)==null?void 0:h.public_id)||N.weston,u=((p=(E=a==null?void 0:a.headshot)==null?void 0:E.asset)==null?void 0:p.public_id)||N.catherine;return e.createElement(e.Fragment,null,e.createElement(S,null,e.createElement("title",null,(l==null?void 0:l.title)||"About Us"," | Local Effort"),e.createElement("meta",{name:"description",content:(l==null?void 0:l.introduction)||"Meet the chefs behind Local Effort."})),e.createElement("div",{className:"space-y-16"},!l&&e.createElement("div",{className:"card text-body bg-yellow-100 border-yellow-400"},e.createElement("strong",null,"Content Missing:"),' Please ensure a "Page" document with the exact slug "about-us" has been created and published in your Sanity Studio.'),e.createElement("h2",{className:"text-hero uppercase border-b border-gray-900 pb-4"},l==null?void 0:l.title),e.createElement("div",{className:"prose-lite max-w-3xl"},e.createElement("p",null,l==null?void 0:l.introduction)),e.createElement("div",{className:"grid md:grid-cols-2 gap-8"},n.length===0&&e.createElement("div",{className:"card text-body md:col-span-2 bg-yellow-100 border-yellow-400"},e.createElement("strong",null,"Content Missing:"),' Please ensure "Person" documents for the team have been created and published in your Sanity Studio.'),t&&i&&e.createElement("div",{className:"card"},e.createElement("h3",{className:"text-heading"},t.name),e.createElement("div",{className:"my-4"},e.createElement(f,{publicId:i,alt:((y=t==null?void 0:t.headshot)==null?void 0:y.alt)||(t==null?void 0:t.name)||"Team member headshot",width:600,height:400,className:"rounded-md w-full h-auto object-cover",fallbackSrc:"/gallery/IMG_3145.jpg"})),(t==null?void 0:t.role)&&e.createElement("p",{className:"text-body text-gray-600 mb-4"},t.role),(t==null?void 0:t.bio)&&e.createElement("p",{className:"text-body"},t.bio)),a&&u&&e.createElement("div",{className:"card"},e.createElement("h3",{className:"text-heading"},a.name),e.createElement("div",{className:"my-4"},e.createElement(f,{publicId:u,alt:((g=a==null?void 0:a.headshot)==null?void 0:g.alt)||(a==null?void 0:a.name)||"Team member headshot",width:600,height:400,className:"rounded-md w-full h-auto object-cover",fallbackSrc:"/gallery/catherine.jpg"})),(a==null?void 0:a.role)&&e.createElement("p",{className:"text-body text-gray-600 mb-4"},a.role),(a==null?void 0:a.bio)&&e.createElement("p",{className:"text-body"},a.bio)))))};export{j as default};
