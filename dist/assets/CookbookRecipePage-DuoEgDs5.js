import{d as x,r as s,R as e}from"./index-CUxUiH5k.js";const u={};function _(){const{id:r}=x(),[a,p]=s.useState(null),[f,c]=s.useState(!0),[l,m]=s.useState(""),o=s.useMemo(()=>{const t=import.meta&&u?u:{};return t.VITE_COOKBOOK_API_URL||t.VITE_API_URL||t.NEXT_PUBLIC_API_URL||"http://localhost:8000"},[]);return s.useEffect(()=>{let t=!1;async function n(){c(!0),m("");try{const i=await fetch(`${o}/api/recipes/${encodeURIComponent(r)}`,{headers:{Accept:"application/json"}});if(!i.ok)throw new Error(`API ${i.status}`);const d=await i.json();t||p(d)}catch{t||m("Recipe API unavailable or not found.")}finally{t||c(!1)}}return r&&n(),()=>{t=!0}},[o,r]),f?e.createElement("div",{className:"mx-auto max-w-3xl px-4 py-10"},"Loadingâ€¦"):l?e.createElement("div",{className:"mx-auto max-w-3xl px-4 py-10 text-red-700"},l):a?e.createElement("div",{className:"mx-auto max-w-3xl px-4 py-10"},e.createElement("h1",{className:"text-3xl font-semibold"},a.title||r),Array.isArray(a.ingredients)&&a.ingredients.length>0?e.createElement("section",{className:"mt-6"},e.createElement("h2",{className:"text-xl font-medium"},"Ingredients"),e.createElement("ul",{className:"mt-2 list-disc pl-6"},a.ingredients.map((t,n)=>e.createElement("li",{key:n},t)))):null,Array.isArray(a.instructions)&&a.instructions.length>0?e.createElement("section",{className:"mt-6"},e.createElement("h2",{className:"text-xl font-medium"},"Instructions"),e.createElement("div",{className:"mt-2 space-y-3"},a.instructions.map((t,n)=>e.createElement("p",{key:n},t)))):null,a.iiif_manifest?e.createElement("section",{className:"mt-8"},e.createElement("h2",{className:"text-xl font-medium"},"Images"),e.createElement("iframe",{title:"IIIF Viewer",src:`https://uv-v4.netlify.app/#?manifest=${encodeURIComponent(a.iiif_manifest)}`,style:{width:"100%",height:600,border:0}})):null):e.createElement("div",{className:"mx-auto max-w-3xl px-4 py-10"},"Not found.")}export{_ as default};
