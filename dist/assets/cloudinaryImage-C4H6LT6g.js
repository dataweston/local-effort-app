import{R as F,r as st}from"./index-BfKCvQLP.js";var U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jt={exports:{}};(function(e,t){var r=200,n="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",u="[object Array]",l="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Function]",T="[object GeneratorFunction]",x="[object Map]",L="[object Number]",q="[object Object]",X="[object Promise]",j="[object RegExp]",$="[object Set]",B="[object String]",Z="[object Symbol]",tt="[object WeakMap]",G="[object ArrayBuffer]",m="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",P="[object Int8Array]",Q="[object Int16Array]",N="[object Int32Array]",ut="[object Uint8Array]",ct="[object Uint8ClampedArray]",ye="[object Uint16Array]",ve="[object Uint32Array]",Cn=/[\\^$.*+?()[\]{}|]/g,En=/\w*$/,Mn=/^\[object .+?Constructor\]$/,xn=/^(?:0|[1-9]\d*)$/,_={};_[o]=_[u]=_[G]=_[m]=_[l]=_[h]=_[v]=_[w]=_[P]=_[Q]=_[N]=_[x]=_[L]=_[q]=_[j]=_[$]=_[B]=_[Z]=_[ut]=_[ct]=_[ye]=_[ve]=!0,_[d]=_[p]=_[tt]=!1;var Fn=typeof U=="object"&&U&&U.Object===Object&&U,Rn=typeof self=="object"&&self&&self.Object===Object&&self,V=Fn||Rn||Function("return this")(),we=t&&!t.nodeType&&t,be=we&&!0&&e&&!e.nodeType&&e,Ln=be&&be.exports===we;function jn(i,a){return i.set(a[0],a[1]),i}function Pn(i,a){return i.add(a),i}function Vn(i,a){for(var c=-1,f=i?i.length:0;++c<f&&a(i[c],c,i)!==!1;);return i}function kn(i,a){for(var c=-1,f=a.length,b=i.length;++c<f;)i[b+c]=a[c];return i}function Ae(i,a,c,f){for(var b=-1,O=i?i.length:0;++b<O;)c=a(c,i[b],b,i);return c}function In(i,a){for(var c=-1,f=Array(i);++c<i;)f[c]=a(c);return f}function Bn(i,a){return i==null?void 0:i[a]}function Te(i){var a=!1;if(i!=null&&typeof i.toString!="function")try{a=!!(i+"")}catch{}return a}function $e(i){var a=-1,c=Array(i.size);return i.forEach(function(f,b){c[++a]=[b,f]}),c}function jt(i,a){return function(c){return i(a(c))}}function Oe(i){var a=-1,c=Array(i.size);return i.forEach(function(f){c[++a]=f}),c}var Gn=Array.prototype,Qn=Function.prototype,_t=Object.prototype,Pt=V["__core-js_shared__"],Se=function(){var i=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Ce=Qn.toString,D=_t.hasOwnProperty,yt=_t.toString,Dn=RegExp("^"+Ce.call(D).replace(Cn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=Ln?V.Buffer:void 0,Me=V.Symbol,xe=V.Uint8Array,Un=jt(Object.getPrototypeOf,Object),qn=Object.create,Nn=_t.propertyIsEnumerable,zn=Gn.splice,Fe=Object.getOwnPropertySymbols,Jn=Ee?Ee.isBuffer:void 0,Hn=jt(Object.keys,Object),Vt=nt(V,"DataView"),lt=nt(V,"Map"),kt=nt(V,"Promise"),It=nt(V,"Set"),Bt=nt(V,"WeakMap"),dt=nt(Object,"create"),Yn=H(Vt),Wn=H(lt),Kn=H(kt),Xn=H(It),Zn=H(Bt),Re=Me?Me.prototype:void 0,Le=Re?Re.valueOf:void 0;function z(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function ti(){this.__data__=dt?dt(null):{}}function ei(i){return this.has(i)&&delete this.__data__[i]}function ri(i){var a=this.__data__;if(dt){var c=a[i];return c===n?void 0:c}return D.call(a,i)?a[i]:void 0}function ni(i){var a=this.__data__;return dt?a[i]!==void 0:D.call(a,i)}function ii(i,a){var c=this.__data__;return c[i]=dt&&a===void 0?n:a,this}z.prototype.clear=ti,z.prototype.delete=ei,z.prototype.get=ri,z.prototype.has=ni,z.prototype.set=ii;function k(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function si(){this.__data__=[]}function oi(i){var a=this.__data__,c=vt(a,i);if(c<0)return!1;var f=a.length-1;return c==f?a.pop():zn.call(a,c,1),!0}function ai(i){var a=this.__data__,c=vt(a,i);return c<0?void 0:a[c][1]}function ui(i){return vt(this.__data__,i)>-1}function ci(i,a){var c=this.__data__,f=vt(c,i);return f<0?c.push([i,a]):c[f][1]=a,this}k.prototype.clear=si,k.prototype.delete=oi,k.prototype.get=ai,k.prototype.has=ui,k.prototype.set=ci;function et(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function li(){this.__data__={hash:new z,map:new(lt||k),string:new z}}function di(i){return wt(this,i).delete(i)}function fi(i){return wt(this,i).get(i)}function hi(i){return wt(this,i).has(i)}function pi(i,a){return wt(this,i).set(i,a),this}et.prototype.clear=li,et.prototype.delete=di,et.prototype.get=fi,et.prototype.has=hi,et.prototype.set=pi;function rt(i){this.__data__=new k(i)}function gi(){this.__data__=new k}function mi(i){return this.__data__.delete(i)}function _i(i){return this.__data__.get(i)}function yi(i){return this.__data__.has(i)}function vi(i,a){var c=this.__data__;if(c instanceof k){var f=c.__data__;if(!lt||f.length<r-1)return f.push([i,a]),this;c=this.__data__=new et(f)}return c.set(i,a),this}rt.prototype.clear=gi,rt.prototype.delete=mi,rt.prototype.get=_i,rt.prototype.has=yi,rt.prototype.set=vi;function wi(i,a){var c=Dt(i)||qi(i)?In(i.length,String):[],f=c.length,b=!!f;for(var O in i)D.call(i,O)&&!(b&&(O=="length"||Gi(O,f)))&&c.push(O);return c}function je(i,a,c){var f=i[a];(!(D.call(i,a)&&Ie(f,c))||c===void 0&&!(a in i))&&(i[a]=c)}function vt(i,a){for(var c=i.length;c--;)if(Ie(i[c][0],a))return c;return-1}function bi(i,a){return i&&Pe(a,Ut(a),i)}function Gt(i,a,c,f,b,O,I){var S;if(f&&(S=O?f(i,b,O,I):f(i)),S!==void 0)return S;if(!bt(i))return i;var Qe=Dt(i);if(Qe){if(S=ki(i),!a)return ji(i,S)}else{var it=J(i),De=it==p||it==T;if(zi(i))return Ci(i,a);if(it==q||it==o||De&&!O){if(Te(i))return O?i:{};if(S=Ii(De?{}:i),!a)return Pi(i,bi(S,i))}else{if(!_[it])return O?i:{};S=Bi(i,it,Gt,a)}}I||(I=new rt);var Ue=I.get(i);if(Ue)return Ue;if(I.set(i,S),!Qe)var qe=c?Vi(i):Ut(i);return Vn(qe||i,function(qt,At){qe&&(At=qt,qt=i[At]),je(S,At,Gt(qt,a,c,f,At,i,I))}),S}function Ai(i){return bt(i)?qn(i):{}}function Ti(i,a,c){var f=a(i);return Dt(i)?f:kn(f,c(i))}function $i(i){return yt.call(i)}function Oi(i){if(!bt(i)||Di(i))return!1;var a=Ge(i)||Te(i)?Dn:Mn;return a.test(H(i))}function Si(i){if(!ke(i))return Hn(i);var a=[];for(var c in Object(i))D.call(i,c)&&c!="constructor"&&a.push(c);return a}function Ci(i,a){if(a)return i.slice();var c=new i.constructor(i.length);return i.copy(c),c}function Qt(i){var a=new i.constructor(i.byteLength);return new xe(a).set(new xe(i)),a}function Ei(i,a){var c=a?Qt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function Mi(i,a,c){var f=a?c($e(i),!0):$e(i);return Ae(f,jn,new i.constructor)}function xi(i){var a=new i.constructor(i.source,En.exec(i));return a.lastIndex=i.lastIndex,a}function Fi(i,a,c){var f=a?c(Oe(i),!0):Oe(i);return Ae(f,Pn,new i.constructor)}function Ri(i){return Le?Object(Le.call(i)):{}}function Li(i,a){var c=a?Qt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function ji(i,a){var c=-1,f=i.length;for(a||(a=Array(f));++c<f;)a[c]=i[c];return a}function Pe(i,a,c,f){c||(c={});for(var b=-1,O=a.length;++b<O;){var I=a[b],S=void 0;je(c,I,S===void 0?i[I]:S)}return c}function Pi(i,a){return Pe(i,Ve(i),a)}function Vi(i){return Ti(i,Ut,Ve)}function wt(i,a){var c=i.__data__;return Qi(a)?c[typeof a=="string"?"string":"hash"]:c.map}function nt(i,a){var c=Bn(i,a);return Oi(c)?c:void 0}var Ve=Fe?jt(Fe,Object):Yi,J=$i;(Vt&&J(new Vt(new ArrayBuffer(1)))!=m||lt&&J(new lt)!=x||kt&&J(kt.resolve())!=X||It&&J(new It)!=$||Bt&&J(new Bt)!=tt)&&(J=function(i){var a=yt.call(i),c=a==q?i.constructor:void 0,f=c?H(c):void 0;if(f)switch(f){case Yn:return m;case Wn:return x;case Kn:return X;case Xn:return $;case Zn:return tt}return a});function ki(i){var a=i.length,c=i.constructor(a);return a&&typeof i[0]=="string"&&D.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function Ii(i){return typeof i.constructor=="function"&&!ke(i)?Ai(Un(i)):{}}function Bi(i,a,c,f){var b=i.constructor;switch(a){case G:return Qt(i);case l:case h:return new b(+i);case m:return Ei(i,f);case v:case w:case P:case Q:case N:case ut:case ct:case ye:case ve:return Li(i,f);case x:return Mi(i,f,c);case L:case B:return new b(i);case j:return xi(i);case $:return Fi(i,f,c);case Z:return Ri(i)}}function Gi(i,a){return a=a??s,!!a&&(typeof i=="number"||xn.test(i))&&i>-1&&i%1==0&&i<a}function Qi(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function Di(i){return!!Se&&Se in i}function ke(i){var a=i&&i.constructor,c=typeof a=="function"&&a.prototype||_t;return i===c}function H(i){if(i!=null){try{return Ce.call(i)}catch{}try{return i+""}catch{}}return""}function Ui(i){return Gt(i,!0,!0)}function Ie(i,a){return i===a||i!==i&&a!==a}function qi(i){return Ni(i)&&D.call(i,"callee")&&(!Nn.call(i,"callee")||yt.call(i)==o)}var Dt=Array.isArray;function Be(i){return i!=null&&Ji(i.length)&&!Ge(i)}function Ni(i){return Hi(i)&&Be(i)}var zi=Jn||Wi;function Ge(i){var a=bt(i)?yt.call(i):"";return a==p||a==T}function Ji(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=s}function bt(i){var a=typeof i;return!!i&&(a=="object"||a=="function")}function Hi(i){return!!i&&typeof i=="object"}function Ut(i){return Be(i)?wi(i):Si(i)}function Yi(){return[]}function Wi(){return!1}e.exports=Ui})(Jt,Jt.exports);var Y=Jt.exports,ft=function(){return ft=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ft.apply(this,arguments)};function Ki(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function l(p){try{d(n.next(p))}catch(T){u(T)}}function h(p){try{d(n.throw(p))}catch(T){u(T)}}function d(p){p.done?o(p.value):s(p.value).then(l,h)}d((n=n.apply(e,[])).next())})}function Xi(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=l(0),u.throw=l(1),u.return=l(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(p){return h([d,p])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(p){d=[6,p],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Tt(e,t,r,n,s){return Ki(this,void 0,void 0,function(){var o,u;return Xi(this,function(l){switch(l.label){case 0:if(r===void 0)return[2];u=0,l.label=1;case 1:return u<r.length?[4,r[u](e,t,n,s,r)]:[3,4];case 2:if(o=l.sent(),o==="canceled")return[3,4];l.label=3;case 3:return u++,[3,1];case 4:return o!=="canceled"?[2,o]:[2]}})})}var Ht=function(e,t){return t===void 0&&(t={}),e?{trackedAnalytics:ft({sdkCode:e.sdkCode,sdkSemver:e.sdkSemver,techVersion:e.techVersion},t)}:null},Zi=function(){function e(t,r,n,s){var o=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var u=Y(r);Tt(t,u,n,this.htmlPluginState,s).then(function(l){if(o.isMounted){o.htmlPluginState.pluginEventSubscription.forEach(function(d){d()});var h=Ht(s,l);o.imgElement.setAttribute("src",u.toURL(h))}})}return e.prototype.update=function(t,r,n){var s=this,o=Y(t);Tt(this.imgElement,o,r,this.htmlPluginState).then(function(u){if(s.isMounted){var l=Ht(n,u);s.imgElement.setAttribute("src",o.toURL(l))}})},e.prototype.unmount=function(){this.isMounted=!1},e}();let y=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}},ts=class extends Error{constructor(t="Unsupported"){super(t)}};function Zt(e){return new ts(e)}function es(){return this._qualifierModel||{error:Zt(`unsupported qualifier ${this.constructor.name}`)}}let rs=class{constructor(){this._qualifierModel={}}toJson(){return es.apply(this)}},g=class extends rs{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof y?this.qualifierValue=r:(this.qualifierValue=new y,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},C=class extends g{constructor(t,r){let n;r?n=new y([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function ns(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function is(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:Zt(`unsupported action ${this.constructor.name}`)}}let ss=class{constructor(){this._actionModel={}}toJson(){return is.apply(this)}},M=class extends ss{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),ns(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new C(n)):this.qualifiers.set(r,new g(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new C(t)):t instanceof C&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};class te extends M{constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class Ct extends te{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new g("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new g("h",t)),this}static fromJson(t){const r=new Ct;return t.width&&r.width(t.width),t.height&&r.height(t.height),t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function os(){return new Ct}function fr(){return new te("faces")}function as(){return new te("ocr_text")}class us extends M{constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new g("e",`blur_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new g("e",`blur_region${t}`)),this.addQualifier(new g("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new g("e",`blur_faces${t}`))):this.addQualifier(new g("e",`blur${t}`))}static fromJson(t){const{strength:r,region:n}=t,s=new this(r);return r&&s.strength(r),n&&n.regionType==="faces"&&s.region(fr()),n&&n.regionType==="ocr_text"&&s.region(as()),n&&n.regionType==="custom"&&s.region(Ct.fromJson(n)),s}}function W(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const hr={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},cs={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},pr={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},gr={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},ls={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},mr={444:"CHROMA_444",420:"CHROMA_420"},ds={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},fs=W(mr);W(ds);const hs=W(hr),ps=W(cs),_r=W(pr);W(gr);W(ls);class yr extends M{constructor(t,r){super(),this._actionModel={},this._actionModel.actionType=_r[t]||t;const n=this.createEffectQualifier(t,r);this.addQualifier(n)}createEffectQualifier(t,r){let n;return r?n=new y([t,`${r}`]).setDelimiter(":"):n=new y(t),new g("e",n)}static fromJson(t){const{actionType:r,level:n,strength:s}=t,o=pr[r]||r;return new this(o,n||s)}}class gs extends yr{constructor(t,r){super(t,r),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=_r[t]||t,r&&this.setLevel(r)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const r=this.createEffectQualifier(this.effectType,t);return this.addQualifier(r),this}}function Et(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class ms extends M{constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new y(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new y(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new y(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new y(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new y(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new g("e",t))}static fromJson(t){const{actionType:r,paths:n,cornersLevel:s,despeckleLevel:o,detailLevel:u,numOfColors:l}=t,h=new this;return n&&h.paths(n),s&&h.cornersLevel(s),o&&h.despeckleLevel(o),u&&h.detailsLevel(u),l&&h.numOfColors(l),h}}class _s extends gs{level(t){return this._actionModel.level=t,this.setLevel(t)}}class ys extends M{constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new g("e",new y("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new g("e",new y(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new g("e",new y(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:r,type:n,stripesStrength:s}=t,o=new this;return n==="xray"&&o.xray(),n==="stripes"&&s&&o.stripesStrength(s),o}}class vs extends _s{color(t){return this._actionModel.color=t,this.addQualifier(new g("co",new y(Et(t))))}static fromJson(t){const{actionType:r,level:n,color:s}=t,o=new this(r,n);return s&&o.color(s),o}}class ws extends M{constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new g("e",`pixelate_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new g("e",`pixelate_region${t}`)),this.addQualifier(new g("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new g("e",`pixelate_faces${t}`))):this.addQualifier(new g("e",`pixelate${t}`))}static fromJson(t){const{region:r,squareSize:n}=t,s=new this(n);return n&&s.squareSize(n),r&&r.regionType==="faces"&&s.region(fr()),r&&r.regionType==="custom"&&s.region(os()),s}}const bs=e=>Ss(encodeURIComponent,$s,Os)(e),As=/[!'()*~_.-]/g,Ts={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},$s=e=>e.replace(As,t=>{var r;return(r=Ts[t])!==null&&r!==void 0?r:t}),Os=e=>e.replace(/%20/g," "),Ss=(...e)=>t=>e.reduce((r,n)=>n(r),t);function Cs(e){return new us(e)}function Es(){return new yr("grayscale")}function Ne(e){return new vs("colorize",e)}function Ms(){return new ms}function xs(){return new ys}function Fs(e){return new ws(e)}let Rs=class extends M{constructor(t){super(),this._actionModel={},this.addQualifier(new g("b",new y(Et(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}},ze=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:Zt(`unsupported action ${this.constructor.name}`)}}};function Ls(e){const t=e;return"error"in t&&!!t.error}function js(){return new C("ignore_aspect_ratio")}function Ps(){return new C("lossy")}function Vs(){return new C("preserve_transparency")}function ks(e){return new C("progressive",e)}function Is(){return new C("region_relative")}function Bs(){return new C("relative")}let ee=class extends y{constructor(t){super(t),this.val=t}getValue(){return this.val}},vr=class extends M{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof ee?s=r.getValue():s=r,this._actionModel.actionType=ps[t],this._actionModel[n]=s,this.addQualifier(new g(t,r))}},Gs=class extends C{constructor(t){super("progressive",t)}},Yt=class extends vr{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(Ps()),this}progressive(t){return t instanceof Gs?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(ks(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Vs()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}},Mt=class wr{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new ze(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof wr?this.actions=this.actions.concat(t.actions):this.actions.push(new ze(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new Yt("q",t)),this}format(t){return this.addAction(new Yt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new Rs(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new M;let n=t;return typeof t=="string"&&(n=new C(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(Ls(n))return n;t.push(n)}return{actions:t}}};function Je(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}let Qs=class extends y{},br=class extends M{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=hs[t]||t,this.addQualifier(new g("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new g("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new g("w",t))}aspectRatio(t){if(t instanceof Qs)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new g("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=Je(t),this.addQualifier(new g("ar",Je(t)));if(t instanceof C)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(Bs())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(Is())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=hr[r]||r,p=new this(d,l,h);return u&&p.aspectRatio(u==="ignore_aspect_ratio"?js():u),s&&p.relative(),o&&p.regionRelative(),p}},xt=class extends g{constructor(t){super("g",new y(t))}},Ar=class extends xt{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}},Tr=class extends xt{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}},$r=class extends xt{constructor(t){super(t)}};function Ds(e){return new $r(e)}function Or(...e){const t=[...e];return new Tr(t)}function Sr(){return new Ar}let ot=class extends y{constructor(t){super(),this.name=t}toString(){return this.name}};function Us(){return new ot("ocr_text")}function qs(e){return e&&`${e}`.split(":")[0]==="auto"}function Ns(e){const t=re(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function re(e){return`${e}`.replace("g_","")}function zs(e){return{compass:re(e),gravityType:"direction"}}function Js(e){return re(e)==="ocr_text"}function Hs(){return{gravityType:"ocr"}}function Ys(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Ws(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function Cr(e){let t;const r=e==="auto"?new Ar:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(Ws)}}function Ks(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=Sr().autoFocus(...o);s.fallbackGravity=Cr(u)}return s}function Xs(e){const r=e.split(":").map(n=>new ot(n));return new Tr(r)}function Zs(e){return Ns(e)?zs(e):Js(e)?Hs():qs(e)||Ys(e)?Cr(e):Ks(typeof e=="string"?Xs(e):e)}let to=class Er extends y{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof ot?t:new ot(t);return new Er(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}},Mr=class extends y{constructor(t){super(),this.val=t}toString(){return this.val}};function eo(e){return e.gravityType==="direction"}function ro(e){return e.gravityType==="ocr"}function no(e){return e.gravityType==="auto"}function io(e){const{object:t,weight:r,avoid:n}=e,s=new to(new ot(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function xr(e){const r=(e.autoFocus||[]).map(io);return Sr().autoFocus(...r)}function so(e){const t=(e.focusOnObjects||[]).map(n=>new ot(n)),r=Or(...t);if(e.fallbackGravity){const n=xr(e.fallbackGravity);r.fallbackGravity(n)}return r}function oo(e){return eo(e)?new $r(new Mr(e.compass)):ro(e)?Or(Us()):no(e)?xr(e):so(e)}let ne=class extends br{gravity(t){this._actionModel.gravity=Zs(t);const r=typeof t=="string"?new g("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(oo(t.gravity)),r}},pt=class extends g{constructor(t){super("b"),t&&this.addValue(t)}};const Fr=100,ao=0;let uo=class extends pt{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${Fr}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}};var Rr=uo;let ie=class extends pt{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>Et(r)),this}},Lr=class extends ie{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},jr=class extends ie{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}},Pr=class extends jr{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},Vr=class extends jr{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},kr=class extends ie{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}},Ir=class extends pt{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${bs(this._prompt)}`:""}`}};function Br(e){return`${e}`.replace("b_","")}function co(){return{backgroundType:"auto"}}function lo(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function se(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function fo(e){return Object.assign(Object.assign({},se(e)),{backgroundType:"border"})}function Gr(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=se(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function ho(e){return Object.assign(Object.assign({},Gr(e)),{backgroundType:"borderGradient"})}function po(e){return{backgroundType:"color",color:Br(e)}}function go(e){return Object.assign(Object.assign({},se(e)),{backgroundType:"predominant"})}function mo(e){return Object.assign(Object.assign({},Gr(e)),{backgroundType:"predominantGradient"})}function _o(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function yo(e){return Br(e)==="auto"?co():e instanceof Rr?lo(e):e instanceof Lr?fo(e):e instanceof Pr?ho(e):e instanceof kr?go(e):e instanceof Vr?mo(e):e instanceof Ir?_o(e):po(e)}function vo(){return new ee("svg")}function oe(){return new ee("auto")}function Qr(){return new Lr}function Dr(){return new pt("auto")}function Ur(){return new Pr}function qr(){return new Vr}function Nr(){return new kr}function zr(e){return new pt(Et(e))}function wo(){return new Rr}function Jr(){return new Ir}const Hr={auto:Dr,border:Qr,borderGradient:Ur,predominantGradient:qr,predominant:Nr,color:zr,blurred:wo,generativeFill:Jr};function bo(e){const{brightness:t,intensity:r}=e,n=Hr.blurred();return n.brightness(t??ao),n.intensity(r??Fr),n}function He(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function Ye(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function Ao(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function To(e){const{backgroundType:t}=e;switch(t){case"auto":return Dr();case"blurred":return bo(e);case"border":return Ye(Qr(),e);case"borderGradient":return He(Ur(),e);case"predominant":return Ye(Nr(),e);case"predominantGradient":return He(qr(),e);case"generativeFill":return Ao(Jr(),e);default:return zr(e.color)}}let $o=class extends ne{background(t){return this._actionModel.background=yo(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(To(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}};class Oo extends br{liquidRescaling(){return this.addQualifier(new xt("liquid"))}}class So extends ne{x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new g("z",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),t.zoom&&r.zoom(t.zoom),r}}let Co=class extends ne{x(t){return this._actionModel.x=t,this.addQualifier(new g("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new g("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}};function Eo(e,t){return new Oo("scale",e,t)}function Mo(e,t){return new So("crop",e,t)}function xo(e,t){return new Co("fill",e,t)}function Fo(e,t){return new $o("pad",e,t)}class Ro extends vr{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=mr[t];const r=new y([this._actionModel.level,t]);return r.setDelimiter(":"),this.addQualifier(new g("q",r))}quantization(t){this._actionModel.quantization=t;const r=new y([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new g("q",r))}static fromJson(t){const{level:r,chromaSubSampling:n,quantization:s}=t,o=gr[r]||r,u=new this(o);if(n){const l=fs[n.toUpperCase()];l&&u.chromaSubSampling(+l)}return s&&u.quantization(s),u}}function Ft(e){return new Yt("f",e)}function Rt(e){return new Ro(e)}function Lo(){return new Mr("north_east")}Ne(70).color("black"),Ne(40).color("white"),Es(),xs();new Mt().effect(Ms()).delivery(Rt("auto")).delivery(Ft(vo()));new Mt().effect(Fs()).delivery(Rt("auto")).delivery(Ft(oe()));new Mt().effect(Cs(2e3)).delivery(Rt("auto")).delivery(Ft(oe()));new Mt().resize(Fo("iw_div_2").aspectRatio(1).background(Hr.auto())).resize(Mo(1,1).gravity(Ds(Lo()))).resize(xo().height("ih").width("iw")).delivery(Rt("auto")).delivery(Ft(oe()));var We={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},Ke="?_a=",jo=function(){function e(t,r,n,s,o,u,l){var h=this;this.mimeType="video",this.mimeSubTypes=We,this.videoElement=t,this.originalVideo=r,this.videoOptions=l,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var d=Y(r);Tt(t,r,s,this.htmlPluginState).then(function(){h.htmlPluginState.pluginEventSubscription.forEach(function(p){p()}),h.setVideoAttributes(o,u),h.handleSourceToVideo(d,n)})}return e.prototype.handleSourceToVideo=function(t,r){var n=this;if(r)this.generateUserSources(t,r);else{var s=["webm","mp4","ogv"];s.forEach(function(o){n.appendSourceTag(Y(t),o)})}},e.prototype.generateUserSources=function(t,r){var n=this;r.map(function(s){var o=s.type,u=s.codecs,l=s.transcode;return n.appendSourceTag(Y(t).transcode(l),o,n.buildMimeType(o,u))})},e.prototype.appendSourceTag=function(t,r,n){var s,o=document.createElement("source"),u=(s=this.videoOptions)===null||s===void 0?void 0:s.useFetchFormat;u&&t.format(r);var l=t.toURL(),h=l.split(Ke),d=h[1]?"".concat(Ke).concat(h[1]):"",p=u?"":".".concat(r);o.src="".concat(h[0]).concat(p).concat(d),o.type=n||"video/".concat(We[r]||r),this.videoElement.appendChild(o)},e.prototype.buildMimeType=function(t,r){var n="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return r&&(n+="; codecs="+(Array.isArray(r)?r.join(", "):r)),n},e.prototype.setVideoAttributes=function(t,r){var n;if(t===void 0&&(t={}),r==="auto"){var s=Y(this.originalVideo);t.poster=s.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else r&&(t.poster=(n=r.toURL)===null||n===void 0?void 0:n.call(r));for(var o=0,u=Object.entries(t);o<u.length;o++){var l=u[o],h=l[0],d=l[1];d&&this.videoElement.setAttribute(h,h==="poster"?d:"")}},e.prototype.update=function(t,r,n,s,o){var u=this;if(t!==this.originalVideo){for(var l=this.videoElement.getElementsByTagName("SOURCE");l[0];)l[0].parentNode.removeChild(l[0]);Tt(this.videoElement,t,n,this.htmlPluginState).then(function(){u.setVideoAttributes(s,o),u.handleSourceToVideo(t,r),u.videoElement.load()})}},e}(),Po="Expected a function",Xe=NaN,Vo="[object Symbol]",ko=/^\s+|\s+$/g,Io=/^[-+]0x[0-9a-f]+$/i,Bo=/^0b[01]+$/i,Go=/^0o[0-7]+$/i,Qo=parseInt,Do=typeof U=="object"&&U&&U.Object===Object&&U,Uo=typeof self=="object"&&self&&self.Object===Object&&self,qo=Do||Uo||Function("return this")(),No=Object.prototype,zo=No.toString,Jo=Math.max,Ho=Math.min,Nt=function(){return qo.Date.now()};function Yo(e,t,r){var n,s,o,u,l,h,d=0,p=!1,T=!1,x=!0;if(typeof e!="function")throw new TypeError(Po);t=Ze(t)||0,Wt(r)&&(p=!!r.leading,T="maxWait"in r,o=T?Jo(Ze(r.maxWait)||0,t):o,x="trailing"in r?!!r.trailing:x);function L(m){var v=n,w=s;return n=s=void 0,d=m,u=e.apply(w,v),u}function q(m){return d=m,l=setTimeout($,t),p?L(m):u}function X(m){var v=m-h,w=m-d,P=t-v;return T?Ho(P,o-w):P}function j(m){var v=m-h,w=m-d;return h===void 0||v>=t||v<0||T&&w>=o}function $(){var m=Nt();if(j(m))return B(m);l=setTimeout($,X(m))}function B(m){return l=void 0,x&&n?L(m):(n=s=void 0,u)}function Z(){l!==void 0&&clearTimeout(l),d=0,n=h=s=l=void 0}function tt(){return l===void 0?u:B(Nt())}function G(){var m=Nt(),v=j(m);if(n=arguments,s=this,h=m,v){if(l===void 0)return q(h);if(T)return l=setTimeout($,t),L(h)}return l===void 0&&(l=setTimeout($,t)),u}return G.cancel=Z,G.flush=tt,G}function Wt(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Wo(e){return!!e&&typeof e=="object"}function Ko(e){return typeof e=="symbol"||Wo(e)&&zo.call(e)==Vo}function Ze(e){if(typeof e=="number")return e;if(Ko(e))return Xe;if(Wt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Wt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(ko,"");var r=Bo.test(e);return r||Go.test(e)?Qo(e.slice(2),r?2:8):Io.test(e)?Xe:+e}var Xo=Yo;function Zo(e){return typeof e=="number"}function ae(){return typeof window<"u"}function ta(e){return e instanceof HTMLImageElement}var ea={accessibility:!1,lazyload:!1,placeholder:!1,responsive:!1},ra=function(e){return e.replace("bound ","").replace("Plugin","")},na=function(e,t){e===void 0&&(e=[]);var r=e.reduce(function(n,s){var o,u=s.name;return ft(ft({},n),(o={},o[ra(u)]=!0,o))},ea);return r[t]};function ia(e){var t=e===void 0?{}:e,r=t.steps;return sa.bind(null,r)}function sa(e,t,r,n,s,o){if(!ae())return!0;if(ta(t))return new Promise(function(u){n.cleanupCallbacks.push(function(){window.removeEventListener("resize",d),u("canceled")});var l=Ht(s,{responsive:!0});r.addAction(new M().setActionTag("responsive"));var h=!na(o,"placeholder");h?tr(e,t,r,l):Yr(e,t,r);var d;n.pluginEventSubscription.push(function(){window.addEventListener("resize",d=Xo(function(){tr(e,t,r,l)},100))}),u({responsive:!0})})}function tr(e,t,r,n){Yr(e,t,r),t.src=r.toURL(n)}function Yr(e,t,r){var n=t.parentElement.clientWidth;if(Zo(e)){var s=e;n=Math.ceil(n/s)*s}else Array.isArray(e)&&(n=e.reduce(function(o,u){return Math.abs(u-n)<Math.abs(o-n)?u:o}));r.transformation.actions.forEach(function(o,u){o instanceof M&&o.getActionTag()==="responsive"&&(r.transformation.actions[u]=Eo(n).setActionTag("responsive"))})}function oa(e){var t={},r=t.rootMargin,n=r===void 0?"0px":r,s=t.threshold,o=s===void 0?.1:s;return aa.bind(null,n,o)}function aa(e,t,r,n,s,o){return e===void 0&&(e="0px"),t===void 0&&(t=.1),ae()?new Promise(function(u){var l=function(){return u({lazyload:!0})},h=ca(r,l,e,t);s.cleanupCallbacks.push(function(){h(),u("canceled")})}):!1}function ua(){return window&&"IntersectionObserver"in window}function ca(e,t,r,n){try{if(!ua())return t(),function(){};var s=new IntersectionObserver(function(o){o.forEach(function(u){u.isIntersecting&&(s.unobserve(u.target),t())})},{rootMargin:r,threshold:n});return s.observe(e),function(){e&&s.observe(e)}}catch{t()}}function la(e,t,r){var n=Y(t);if(e)for(var s=0;s<e.length;s++){var o=e[s](null,n);if(!o)break}return n.toURL(r?{trackedAnalytics:r}:null)}function $t(e){e.cleanupCallbacks.forEach(function(t){t()})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kt=function(e,t){return Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Kt(e,t)};function Wr(e,t){Kt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ht=function(){return ht=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ht.apply(this,arguments)};function Kr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var zt={sdkSemver:"1.14.3",techVersion:F.version,sdkCode:"J"},da=function(e){Wr(t,e);function t(r){var n=e.call(this,r)||this;return n.imageRef=F.createRef(),n}return t.prototype.componentDidMount=function(){this.htmlLayerInstance=new Zi(this.imageRef.current,this.props.cldImg,this.props.plugins,zt)},t.prototype.componentDidUpdate=function(){$t(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,zt)},t.prototype.componentWillUnmount=function(){$t(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},t.prototype.render=function(){var r=this.props;r.cldImg,r.plugins;var n=Kr(r,["cldImg","plugins"]);if(ae())return F.createElement("img",ht({suppressHydrationWarning:!0},n,{ref:this.imageRef}));var s=la(this.props.plugins,this.props.cldImg,zt);return F.createElement("img",ht({},n,{src:s}))},t}(F.Component),fa=["controls","loop","muted","poster","preload","autoplay","playsinline"];(function(e){Wr(t,e);function t(r){var n=e.call(this,r)||this;return n.videoRef=st.createRef(),n.attachRef=n.attachRef.bind(n),n}return t.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new jo(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},t.prototype.componentDidUpdate=function(){$t(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},t.prototype.componentWillUnmount=function(){$t(this.htmlVideoLayerInstance.htmlPluginState)},t.prototype.getVideoAttributes=function(){var r=this,n={};return fa.forEach(function(s){s in r.props&&(n[s]=r.props[s])}),n},t.prototype.attachRef=function(r){this.videoRef.current=r;var n=this.props.innerRef;n&&(n instanceof Function?n(r):n.current=r)},t.prototype.render=function(){var r=this.props;r.cldVid,r.cldPoster,r.plugins,r.sources,r.innerRef,r.useFetchFormat;var n=Kr(r,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return F.createElement("video",ht({},n,{ref:this.attachRef}))},t})(st.Component);function ha(e){return!(typeof e!="object"||e instanceof Array)}class pa{filterOutNonSupportedKeys(t,r){const n=Object.create({});return ha(t)?(Object.keys(t).forEach(s=>{r.indexOf(s)>=0?n[s]=t[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),n):Object.create({})}}const er=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class ue extends pa{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,er);Object.assign(this,{secure:!0},r)}extend(t){const r=this.filterOutNonSupportedKeys(t,er);return new ue(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}class R{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}}class ga extends Error{constructor(t="Unsupported"){super(t)}}function ce(e){return new ga(e)}function ma(){return this._qualifierModel||{error:ce(`unsupported qualifier ${this.constructor.name}`)}}class _a{constructor(){this._qualifierModel={}}toJson(){return ma.apply(this)}}class A extends _a{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof R?this.qualifierValue=r:(this.qualifierValue=new R,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class E extends A{constructor(t,r){let n;r?n=new R([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function ya(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function va(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:ce(`unsupported action ${this.constructor.name}`)}}class wa{constructor(){this._actionModel={}}toJson(){return va.apply(this)}}class gt extends wa{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),ya(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new E(n)):this.qualifiers.set(r,new A(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new E(t)):t instanceof E&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}}function le(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class ba extends gt{constructor(t){super(),this._actionModel={},this.addQualifier(new A("b",new R(le(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}}class rr{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:ce(`unsupported action ${this.constructor.name}`)}}}function Aa(e){const t=e;return"error"in t&&!!t.error}function Ta(){return new E("ignore_aspect_ratio")}function $a(){return new E("lossy")}function Oa(){return new E("preserve_transparency")}function Sa(e){return new E("progressive",e)}function Ca(){return new E("region_relative")}function Ea(){return new E("relative")}class Xr extends R{constructor(t){super(t),this.val=t}getValue(){return this.val}}function K(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const Zr={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},Ma={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},xa={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},Fa={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},Ra={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},La={444:"CHROMA_444",420:"CHROMA_420"},ja={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};K(La);K(ja);const Pa=K(Zr),Va=K(Ma);K(xa);K(Fa);K(Ra);class ka extends gt{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof Xr?s=r.getValue():s=r,this._actionModel.actionType=Va[t],this._actionModel[n]=s,this.addQualifier(new A(t,r))}}class Ia extends E{constructor(t){super("progressive",t)}}class Ot extends ka{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag($a()),this}progressive(t){return t instanceof Ia?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(Sa(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Oa()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}}class Lt{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new rr(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof Lt?this.actions=this.actions.concat(t.actions):this.actions.push(new rr(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new Ot("q",t)),this}format(t){return this.addAction(new Ot("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new ba(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new gt;let n=t;return typeof t=="string"&&(n=new E(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(Aa(n))return n;t.push(n)}return{actions:t}}}class Ba extends Lt{}class Ga extends Lt{}function Xt(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}class Qa extends R{}class tn extends gt{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=Pa[t]||t,this.addQualifier(new A("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new A("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new A("w",t))}aspectRatio(t){if(t instanceof Qa)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new A("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=Xt(t),this.addQualifier(new A("ar",Xt(t)));if(t instanceof E)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(Ea())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(Ca())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=Zr[r]||r,p=new this(d,l,h);return u&&p.aspectRatio(u==="ignore_aspect_ratio"?Ta():u),s&&p.relative(),o&&p.regionRelative(),p}}class de extends A{constructor(t){super("g",new R(t))}}class en extends de{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class rn extends de{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class Da extends de{constructor(t){super(t)}}function nn(...e){const t=[...e];return new rn(t)}function fe(){return new en}class at extends R{constructor(t){super(),this.name=t}toString(){return this.name}}function Ua(){return new at("ocr_text")}function qa(e){return e&&`${e}`.split(":")[0]==="auto"}function Na(e){const t=he(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function he(e){return`${e}`.replace("g_","")}function za(e){return{compass:he(e),gravityType:"direction"}}function Ja(e){return he(e)==="ocr_text"}function Ha(){return{gravityType:"ocr"}}function Ya(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Wa(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function sn(e){let t;const r=e==="auto"?new en:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(Wa)}}function Ka(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=fe().autoFocus(...o);s.fallbackGravity=sn(u)}return s}function Xa(e){const r=e.split(":").map(n=>new at(n));return new rn(r)}function Za(e){return Na(e)?za(e):Ja(e)?Ha():qa(e)||Ya(e)?sn(e):Ka(typeof e=="string"?Xa(e):e)}class pe extends R{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof at?t:new at(t);return new pe(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class tu extends R{constructor(t){super(),this.val=t}toString(){return this.val}}function eu(e){return e.gravityType==="direction"}function ru(e){return e.gravityType==="ocr"}function nu(e){return e.gravityType==="auto"}function iu(e){const{object:t,weight:r,avoid:n}=e,s=new pe(new at(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function on(e){const r=(e.autoFocus||[]).map(iu);return fe().autoFocus(...r)}function su(e){const t=(e.focusOnObjects||[]).map(n=>new at(n)),r=nn(...t);if(e.fallbackGravity){const n=on(e.fallbackGravity);r.fallbackGravity(n)}return r}function ou(e){return eu(e)?new Da(new tu(e.compass)):ru(e)?nn(Ua()):nu(e)?on(e):su(e)}class an extends tn{gravity(t){this._actionModel.gravity=Za(t);const r=typeof t=="string"?new A("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(ou(t.gravity)),r}}class mt extends A{constructor(t){super("b"),t&&this.addValue(t)}}const un=100,au=0;class cn extends mt{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${un}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}}class ge extends mt{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>le(r)),this}}class ln extends ge{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class dn extends ge{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class fn extends dn{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class hn extends dn{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class pn extends ge{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}const uu=e=>hu(encodeURIComponent,du,fu)(e),cu=/[!'()*~_.-]/g,lu={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},du=e=>e.replace(cu,t=>{var r;return(r=lu[t])!==null&&r!==void 0?r:t}),fu=e=>e.replace(/%20/g," "),hu=(...e)=>t=>e.reduce((r,n)=>n(r),t);class gn extends mt{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${uu(this._prompt)}`:""}`}}function mn(e){return`${e}`.replace("b_","")}function pu(){return{backgroundType:"auto"}}function gu(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function me(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function mu(e){return Object.assign(Object.assign({},me(e)),{backgroundType:"border"})}function _n(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=me(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function _u(e){return Object.assign(Object.assign({},_n(e)),{backgroundType:"borderGradient"})}function yu(e){return{backgroundType:"color",color:mn(e)}}function vu(e){return Object.assign(Object.assign({},me(e)),{backgroundType:"predominant"})}function wu(e){return Object.assign(Object.assign({},_n(e)),{backgroundType:"predominantGradient"})}function bu(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function Au(e){return mn(e)==="auto"?pu():e instanceof cn?gu(e):e instanceof ln?mu(e):e instanceof fn?_u(e):e instanceof pn?vu(e):e instanceof hn?wu(e):e instanceof gn?bu(e):yu(e)}function Tu(){return"auto"}function nr(){return new Xr("auto")}function yn(){return new ln}function vn(){return new mt("auto")}function wn(){return new fn}function bn(){return new hn}function An(){return new pn}function Tn(e){return new mt(le(e))}function $u(){return new cn}function $n(){return new gn}const Ou={auto:vn,border:yn,borderGradient:wn,predominantGradient:bn,predominant:An,color:Tn,blurred:$u,generativeFill:$n};function Su(e){const{brightness:t,intensity:r}=e,n=Ou.blurred();return n.brightness(t??au),n.intensity(r??un),n}function ir(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function sr(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function Cu(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function Eu(e){const{backgroundType:t}=e;switch(t){case"auto":return vn();case"blurred":return Su(e);case"border":return sr(yn(),e);case"borderGradient":return ir(wn(),e);case"predominant":return sr(An(),e);case"predominantGradient":return ir(bn(),e);case"generativeFill":return Cu($n(),e);default:return Tn(e.color)}}class Mu extends an{background(t){return this._actionModel.background=Au(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new A("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new A("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(Eu(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}}class xu extends an{x(t){return this._actionModel.x=t,this.addQualifier(new A("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new A("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function or(e,t){return new xu("fill",e,t)}function Fu(e,t){return new tn("fit",e,t)}function Ru(e,t){return new Mu("pad",e,t)}class Lu extends gt{constructor(t){super(),this._actionModel={actionType:"dpr"};const r=Xt(t);this._actionModel.dpr=r,this.addQualifier(new A("dpr",r))}static fromJson(t){const{dpr:r}=t;return new this(r)}}function ju(e){return new Lu(e)}function Pu(e){return e.match(/^https?:\//)}function Vu(e){return e.indexOf("/")<0}function ku(e){return e.match(/^v[0-9]+/)}function Iu(e,t){const r=t.secure,n=t.privateCdn,s=t.cname,o=t.secureDistribution;return!r&&!s?`http://res.cloudinary.com/${e}`:r&&!o&&n?`https://${e}-res.cloudinary.com`:r&&!o?`https://res.cloudinary.com/${e}`:r&&o&&n?`https://${o}`:r&&o?`https://${o}/${e}`:!r&&s?`http://${s}/${e}`:"ERROR"}function Bu(e){return e||"image"}function Gu(e){return e||"upload"}function Qu(e,t,r){const n=r!==!1;return t?`v${t}`:ku(e)||Pu(e)||Vu(e)?"":n?"v1":""}function _e(e,t,r){let n=t>>0,s=String(r);return e.length>n?String(e):(n=n-e.length,n>s.length&&(s+=Du(s,n/s.length)),s.slice(0,n)+String(e))}function Du(e,t){let r=t,n="";for(;r>0;)n+=e,r--;return n}const Uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",St={};let ar=0;Uu.split("").forEach(e=>{let t=ar.toString(2);t=_e(t,6,"0"),St[t]=e,ar++});function qu(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().join(".")}function Nu(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").map(t=>{const r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return _e(t,2,"0")}).join(".")}function ur(e){let t="";const n=e.split(".").length*6,s=qu(e),o=Nu(s);let l=parseInt(o.split(".").join("")).toString(2);if(l=_e(l,n,"0"),l.length%6!==0)throw"Version must be smaller than 43.21.26)";return l.match(/.{1,6}/g).forEach(h=>{t+=St[h]}),t}function zu(e){const t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0",osType:e.osType,osVersion:e.osVersion};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),e.feature&&(t.feature=e.feature),t}const Ju="1.22.0";function Hu(e){const[t,r]=e.split("."),n=parseInt(t).toString(2),s=parseInt(r).toString(2),o=n.padStart(6,"0"),u=s.padStart(6,"0");return St[o]+St[u]}function Yu(){const e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function Wu(e){const t={techVersion:Yu(),sdkCode:"T",sdkSemver:Ju.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function cr(e){const t=Wu(e),r=zu(t);try{const n=Ku(r.techVersion),s=ur(r.sdkSemver),o=ur(n),u=Hu(r.osVersion),l=r.feature,h=r.sdkCode,{product:d,osType:p}=r;return`D${d}${h}${s}${o}${p}${u}${l}`}catch{return"E"}}function Ku(e){const t=e.split(".");return`${t[0]}.${t[1]}`}const lr={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Xu{constructor(t,r={},n){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(n)}setURLConfig(t){return this.urlConfig=new ue(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){const t=Bu(this.assetType),r=Gu(this.deliveryType),n=!!this.suffix,s=`${t}/${r}`,o=lr[`${t}/${r}`],u=this.urlConfig.useRootPath,l=this.urlConfig.shorten;if(u){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(l&&s==="image/upload")return"iu";if(n){if(o)return o;throw new Error(`URL Suffix only supported for ${Object.keys(lr).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();const n=Iu(this.cloudName,this.urlConfig),s=t?t.toString():"",o=Qu(this.publicID,this.version,this.urlConfig.forceVersion),u=this.publicID;if(typeof t=="string")return[n,this.getResourceType(),this.getSignature(),s,o,u.replace(/,/g,"%2C"),this.suffix].filter(h=>h).join("/");{const l=[encodeURI(n),this.getResourceType(),this.getSignature(),encodeURI(s),o,encodeURI(u).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(p=>p).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),h=this.urlConfig.analytics!==!1&&!u.includes("?");let d="";if(typeof this.urlConfig.queryParams=="object")try{const p=new URLSearchParams(this.urlConfig.queryParams);h&&p.set("_a",cr(r)),d=p.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else d=this.urlConfig.queryParams||"",h&&(d+=`${d.length>0?"&":""}_a=${cr(r)}`);return d?`${l}?${d}`:l}}}class On extends Xu{constructor(t,r,n,s){super(t,r,n),this.transformation=s}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new Ot("q",t)),this}format(t){return this.addAction(new Ot("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t==null?void 0:t.trackedAnalytics)}}let Zu=class extends On{constructor(t,r,n){super(t,r,n,new Ba)}};class tc extends On{constructor(t,r,n){super(t,r,n,new Ga),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}class ec{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new Zu(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new tc(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}const Sn="dokyhfvyd",dr=new ec({cloud:{cloudName:Sn}}),kc=({publicId:e,alt:t,width:r,height:n,className:s,disableLazy:o=!1,fallbackSrc:u,resizeMode:l="fill",placeholderMode:h="blur",sizes:d,responsiveSteps:p=[480,768,1024,1400],eager:T=!1})=>{const[x,L]=st.useState(!1),[q,X]=st.useState(!1),j=st.useRef(null);if(!e){const v={width:r?`${r}px`:"100%",height:n?`${n}px`:"100%",backgroundColor:"#f0f0f0",display:"inline-block"};return F.createElement("span",{style:v,className:s})}const $=dr.image(e),B=80,Z=Math.max(20,Math.round((n||80)*(B/(r||80)))),G=dr.image(e).resize(or(B,Z)).quality(20).format(nr()).toURL();if($.quality(Tu()).format(nr()).delivery(ju("auto")),r&&n&&(l==="fit"?$.resize(Fu(r,n)):l==="pad"?$.resize(Ru(r,n)):$.resize(or(r,n).gravity(fe()))),st.useEffect(()=>{let v=!0,w=null,P=null,Q=null,N=null;const ut=setTimeout(()=>{v&&L(!0)},2500),ct=()=>{if(w=j.current&&j.current.querySelector("img"),!w){P=setTimeout(ct,200);return}Q=()=>{v&&(clearTimeout(ut),L(!0))},N=()=>{v&&(X(!0),typeof window<"u"&&console.warn("[CloudinaryImage] failed to load",{cloudName:Sn,publicId:e}))},w.addEventListener("load",Q),w.addEventListener("error",N),w.complete&&Q()};return ct(),()=>{v=!1,clearTimeout(ut),P&&clearTimeout(P),w&&Q&&w.removeEventListener("load",Q),w&&N&&w.removeEventListener("error",N)}},[e]),q&&u)return F.createElement("img",{src:u,alt:t,width:r,height:n,className:s,style:{objectFit:"cover"}});const m=h==="blur"?{backgroundImage:`url(${G})`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundColor:"#f3f4f6"};return F.createElement("div",{ref:j,className:`${s} relative overflow-hidden`,style:m},F.createElement(da,{cldImg:$,alt:t,className:`transition-opacity duration-500 ${x?"opacity-100":"opacity-0"}`,sizes:d,loading:T?"eager":"lazy",plugins:(()=>{const v=[ia({steps:p})];return!T&&!o?[...v,oa()]:v})()}))};export{kc as C};
