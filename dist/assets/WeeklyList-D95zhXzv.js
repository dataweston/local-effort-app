import{r as s,c as m,R as t,W as d,L as u}from"./index-CUxUiH5k.js";const p=()=>{const[r,o]=s.useState([]),[a,c]=s.useState("");return s.useEffect(()=>{let e=!0;return(async()=>{try{const n=await m.fetch('*[_type == "blogPost"] | order(publishedAt desc)[0...50]{ title, "slug": slug.current, excerpt, publishedAt, mainImage }');e&&o(n||[])}catch(l){e&&c((l==null?void 0:l.message)||"Failed to load posts")}})(),()=>{e=!1}},[]),t.createElement("div",{className:"mx-auto max-w-3xl px-4 md:px-6 lg:px-8 py-10"},t.createElement(d,null,t.createElement("title",null,"Weekly Meal Prep Journal | Local Effort")),t.createElement("h1",{className:"text-4xl font-bold mb-6"},"Weekly Meal Prep Journal"),a&&t.createElement("div",{className:"text-red-700 bg-red-50 border border-red-200 p-3 rounded mb-4"},a),t.createElement("ul",{className:"space-y-4"},r.map(e=>t.createElement("li",{key:e.slug,className:"border rounded-lg p-4 hover:bg-gray-50 shadow-sm"},t.createElement(u,{to:`/weekly/${e.slug}`,className:"text-xl font-semibold hover:underline"},e.title),t.createElement("div",{className:"text-sm text-gray-500 mt-1"},e.publishedAt?new Date(e.publishedAt).toLocaleDateString():""),e.excerpt&&t.createElement("p",{className:"text-gray-700 mt-2"},e.excerpt))),!r.length&&!a&&t.createElement("li",null,"No posts yet.")))};export{p as default};
