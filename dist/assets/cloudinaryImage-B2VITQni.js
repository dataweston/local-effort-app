import{R as L,r as Qe}from"./index-B3HY2L9O.js";var I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dt={exports:{}};(function(e,t){var r=200,n="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",u="[object Array]",l="[object Boolean]",h="[object Date]",d="[object Error]",g="[object Function]",A="[object GeneratorFunction]",V="[object Map]",B="[object Number]",X="[object Object]",ut="[object Promise]",Z="[object RegExp]",M="[object Set]",tt="[object String]",ct="[object Symbol]",et="[object WeakMap]",N="[object ArrayBuffer]",y="[object DataView]",E="[object Float32Array]",j="[object Float64Array]",rt="[object Int8Array]",ue="[object Int16Array]",ce="[object Int32Array]",le="[object Uint8Array]",de="[object Uint8ClampedArray]",fe="[object Uint16Array]",he="[object Uint32Array]",Kr=/[\\^$.*+?()[\]{}|]/g,Xr=/\w*$/,Zr=/^\[object .+?Constructor\]$/,tn=/^(?:0|[1-9]\d*)$/,m={};m[o]=m[u]=m[N]=m[y]=m[l]=m[h]=m[E]=m[j]=m[rt]=m[ue]=m[ce]=m[V]=m[B]=m[X]=m[Z]=m[M]=m[tt]=m[ct]=m[le]=m[de]=m[fe]=m[he]=!0,m[d]=m[g]=m[et]=!1;var en=typeof I=="object"&&I&&I.Object===Object&&I,rn=typeof self=="object"&&self&&self.Object===Object&&self,x=en||rn||Function("return this")(),pe=t&&!t.nodeType&&t,ge=pe&&!0&&e&&!e.nodeType&&e,nn=ge&&ge.exports===pe;function sn(i,a){return i.set(a[0],a[1]),i}function on(i,a){return i.add(a),i}function an(i,a){for(var c=-1,f=i?i.length:0;++c<f&&a(i[c],c,i)!==!1;);return i}function un(i,a){for(var c=-1,f=a.length,v=i.length;++c<f;)i[v+c]=a[c];return i}function me(i,a,c,f){for(var v=-1,w=i?i.length:0;++v<w;)c=a(c,i[v],v,i);return c}function cn(i,a){for(var c=-1,f=Array(i);++c<i;)f[c]=a(c);return f}function ln(i,a){return i?.[a]}function ye(i){var a=!1;if(i!=null&&typeof i.toString!="function")try{a=!!(i+"")}catch{}return a}function _e(i){var a=-1,c=Array(i.size);return i.forEach(function(f,v){c[++a]=[v,f]}),c}function Ct(i,a){return function(c){return i(a(c))}}function ve(i){var a=-1,c=Array(i.size);return i.forEach(function(f){c[++a]=f}),c}var dn=Array.prototype,fn=Function.prototype,lt=Object.prototype,Mt=x["__core-js_shared__"],we=(function(){var i=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})(),be=fn.toString,P=lt.hasOwnProperty,dt=lt.toString,hn=RegExp("^"+be.call(P).replace(Kr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=nn?x.Buffer:void 0,Te=x.Symbol,Oe=x.Uint8Array,pn=Ct(Object.getPrototypeOf,Object),gn=Object.create,mn=lt.propertyIsEnumerable,yn=dn.splice,Se=Object.getOwnPropertySymbols,_n=Ae?Ae.isBuffer:void 0,vn=Ct(Object.keys,Object),xt=H(x,"DataView"),nt=H(x,"Map"),Rt=H(x,"Promise"),Ft=H(x,"Set"),Vt=H(x,"WeakMap"),it=H(Object,"create"),wn=G(xt),bn=G(nt),An=G(Rt),Tn=G(Ft),On=G(Vt),$e=Te?Te.prototype:void 0,Ee=$e?$e.valueOf:void 0;function k(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function Sn(){this.__data__=it?it(null):{}}function $n(i){return this.has(i)&&delete this.__data__[i]}function En(i){var a=this.__data__;if(it){var c=a[i];return c===n?void 0:c}return P.call(a,i)?a[i]:void 0}function Cn(i){var a=this.__data__;return it?a[i]!==void 0:P.call(a,i)}function Mn(i,a){var c=this.__data__;return c[i]=it&&a===void 0?n:a,this}k.prototype.clear=Sn,k.prototype.delete=$n,k.prototype.get=En,k.prototype.has=Cn,k.prototype.set=Mn;function R(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function xn(){this.__data__=[]}function Rn(i){var a=this.__data__,c=ft(a,i);if(c<0)return!1;var f=a.length-1;return c==f?a.pop():yn.call(a,c,1),!0}function Fn(i){var a=this.__data__,c=ft(a,i);return c<0?void 0:a[c][1]}function Vn(i){return ft(this.__data__,i)>-1}function jn(i,a){var c=this.__data__,f=ft(c,i);return f<0?c.push([i,a]):c[f][1]=a,this}R.prototype.clear=xn,R.prototype.delete=Rn,R.prototype.get=Fn,R.prototype.has=Vn,R.prototype.set=jn;function z(i){var a=-1,c=i?i.length:0;for(this.clear();++a<c;){var f=i[a];this.set(f[0],f[1])}}function Pn(){this.__data__={hash:new k,map:new(nt||R),string:new k}}function Ln(i){return ht(this,i).delete(i)}function In(i){return ht(this,i).get(i)}function kn(i){return ht(this,i).has(i)}function Qn(i,a){return ht(this,i).set(i,a),this}z.prototype.clear=Pn,z.prototype.delete=Ln,z.prototype.get=In,z.prototype.has=kn,z.prototype.set=Qn;function J(i){this.__data__=new R(i)}function Gn(){this.__data__=new R}function Dn(i){return this.__data__.delete(i)}function qn(i){return this.__data__.get(i)}function Un(i){return this.__data__.has(i)}function Bn(i,a){var c=this.__data__;if(c instanceof R){var f=c.__data__;if(!nt||f.length<r-1)return f.push([i,a]),this;c=this.__data__=new z(f)}return c.set(i,a),this}J.prototype.clear=Gn,J.prototype.delete=Dn,J.prototype.get=qn,J.prototype.has=Un,J.prototype.set=Bn;function Nn(i,a){var c=Lt(i)||gi(i)?cn(i.length,String):[],f=c.length,v=!!f;for(var w in i)P.call(i,w)&&!(v&&(w=="length"||di(w,f)))&&c.push(w);return c}function Ce(i,a,c){var f=i[a];(!(P.call(i,a)&&Fe(f,c))||c===void 0&&!(a in i))&&(i[a]=c)}function ft(i,a){for(var c=i.length;c--;)if(Fe(i[c][0],a))return c;return-1}function zn(i,a){return i&&Me(a,It(a),i)}function jt(i,a,c,f,v,w,F){var b;if(f&&(b=w?f(i,v,w,F):f(i)),b!==void 0)return b;if(!pt(i))return i;var Pe=Lt(i);if(Pe){if(b=ui(i),!a)return si(i,b)}else{var Y=Q(i),Le=Y==g||Y==A;if(yi(i))return Xn(i,a);if(Y==X||Y==o||Le&&!w){if(ye(i))return w?i:{};if(b=ci(Le?{}:i),!a)return oi(i,zn(b,i))}else{if(!m[Y])return w?i:{};b=li(i,Y,jt,a)}}F||(F=new J);var Ie=F.get(i);if(Ie)return Ie;if(F.set(i,b),!Pe)var ke=c?ai(i):It(i);return an(ke||i,function(kt,gt){ke&&(gt=kt,kt=i[gt]),Ce(b,gt,jt(kt,a,c,f,gt,i,F))}),b}function Jn(i){return pt(i)?gn(i):{}}function Hn(i,a,c){var f=a(i);return Lt(i)?f:un(f,c(i))}function Yn(i){return dt.call(i)}function Wn(i){if(!pt(i)||hi(i))return!1;var a=je(i)||ye(i)?hn:Zr;return a.test(G(i))}function Kn(i){if(!Re(i))return vn(i);var a=[];for(var c in Object(i))P.call(i,c)&&c!="constructor"&&a.push(c);return a}function Xn(i,a){if(a)return i.slice();var c=new i.constructor(i.length);return i.copy(c),c}function Pt(i){var a=new i.constructor(i.byteLength);return new Oe(a).set(new Oe(i)),a}function Zn(i,a){var c=a?Pt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function ti(i,a,c){var f=a?c(_e(i),!0):_e(i);return me(f,sn,new i.constructor)}function ei(i){var a=new i.constructor(i.source,Xr.exec(i));return a.lastIndex=i.lastIndex,a}function ri(i,a,c){var f=a?c(ve(i),!0):ve(i);return me(f,on,new i.constructor)}function ni(i){return Ee?Object(Ee.call(i)):{}}function ii(i,a){var c=a?Pt(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function si(i,a){var c=-1,f=i.length;for(a||(a=Array(f));++c<f;)a[c]=i[c];return a}function Me(i,a,c,f){c||(c={});for(var v=-1,w=a.length;++v<w;){var F=a[v],b=void 0;Ce(c,F,b===void 0?i[F]:b)}return c}function oi(i,a){return Me(i,xe(i),a)}function ai(i){return Hn(i,It,xe)}function ht(i,a){var c=i.__data__;return fi(a)?c[typeof a=="string"?"string":"hash"]:c.map}function H(i,a){var c=ln(i,a);return Wn(c)?c:void 0}var xe=Se?Ct(Se,Object):wi,Q=Yn;(xt&&Q(new xt(new ArrayBuffer(1)))!=y||nt&&Q(new nt)!=V||Rt&&Q(Rt.resolve())!=ut||Ft&&Q(new Ft)!=M||Vt&&Q(new Vt)!=et)&&(Q=function(i){var a=dt.call(i),c=a==X?i.constructor:void 0,f=c?G(c):void 0;if(f)switch(f){case wn:return y;case bn:return V;case An:return ut;case Tn:return M;case On:return et}return a});function ui(i){var a=i.length,c=i.constructor(a);return a&&typeof i[0]=="string"&&P.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function ci(i){return typeof i.constructor=="function"&&!Re(i)?Jn(pn(i)):{}}function li(i,a,c,f){var v=i.constructor;switch(a){case N:return Pt(i);case l:case h:return new v(+i);case y:return Zn(i,f);case E:case j:case rt:case ue:case ce:case le:case de:case fe:case he:return ii(i,f);case V:return ti(i,f,c);case B:case tt:return new v(i);case Z:return ei(i);case M:return ri(i,f,c);case ct:return ni(i)}}function di(i,a){return a=a??s,!!a&&(typeof i=="number"||tn.test(i))&&i>-1&&i%1==0&&i<a}function fi(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function hi(i){return!!we&&we in i}function Re(i){var a=i&&i.constructor,c=typeof a=="function"&&a.prototype||lt;return i===c}function G(i){if(i!=null){try{return be.call(i)}catch{}try{return i+""}catch{}}return""}function pi(i){return jt(i,!0,!0)}function Fe(i,a){return i===a||i!==i&&a!==a}function gi(i){return mi(i)&&P.call(i,"callee")&&(!mn.call(i,"callee")||dt.call(i)==o)}var Lt=Array.isArray;function Ve(i){return i!=null&&_i(i.length)&&!je(i)}function mi(i){return vi(i)&&Ve(i)}var yi=_n||bi;function je(i){var a=pt(i)?dt.call(i):"";return a==g||a==A}function _i(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=s}function pt(i){var a=typeof i;return!!i&&(a=="object"||a=="function")}function vi(i){return!!i&&typeof i=="object"}function It(i){return Ve(i)?Nn(i):Kn(i)}function wi(){return[]}function bi(){return!1}e.exports=pi})(Dt,Dt.exports);var D=Dt.exports,st=function(){return st=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},st.apply(this,arguments)};function Ai(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function l(g){try{d(n.next(g))}catch(A){u(A)}}function h(g){try{d(n.throw(g))}catch(A){u(A)}}function d(g){g.done?o(g.value):s(g.value).then(l,h)}d((n=n.apply(e,[])).next())})}function Ti(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=l(0),u.throw=l(1),u.return=l(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(g){return h([d,g])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(g){d=[6,g],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function mt(e,t,r,n,s){return Ai(this,void 0,void 0,function(){var o,u;return Ti(this,function(l){switch(l.label){case 0:if(r===void 0)return[2];u=0,l.label=1;case 1:return u<r.length?[4,r[u](e,t,n,s,r)]:[3,4];case 2:if(o=l.sent(),o==="canceled")return[3,4];l.label=3;case 3:return u++,[3,1];case 4:return o!=="canceled"?[2,o]:[2]}})})}var qt=function(e,t){return t===void 0&&(t={}),e?{trackedAnalytics:st({sdkCode:e.sdkCode,sdkSemver:e.sdkSemver,techVersion:e.techVersion},t)}:null},Oi=(function(){function e(t,r,n,s){var o=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var u=D(r);mt(t,u,n,this.htmlPluginState,s).then(function(l){if(o.isMounted){o.htmlPluginState.pluginEventSubscription.forEach(function(d){d()});var h=qt(s,l);o.imgElement.setAttribute("src",u.toURL(h))}})}return e.prototype.update=function(t,r,n){var s=this,o=D(t);mt(this.imgElement,o,r,this.htmlPluginState).then(function(u){if(s.isMounted){var l=qt(n,u);s.imgElement.setAttribute("src",o.toURL(l))}})},e.prototype.unmount=function(){this.isMounted=!1},e})();let _=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}},Si=class extends Error{constructor(t="Unsupported"){super(t)}};function zt(e){return new Si(e)}function $i(){return this._qualifierModel||{error:zt(`unsupported qualifier ${this.constructor.name}`)}}let Ei=class{constructor(){this._qualifierModel={}}toJson(){return $i.apply(this)}},p=class extends Ei{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof _?this.qualifierValue=r:(this.qualifierValue=new _,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},O=class extends p{constructor(t,r){let n;r?n=new _([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function Ci(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function Mi(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:zt(`unsupported action ${this.constructor.name}`)}}let xi=class{constructor(){this._actionModel={}}toJson(){return Mi.apply(this)}},$=class extends xi{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),Ci(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new O(n)):this.qualifiers.set(r,new p(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new O(t)):t instanceof O&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};class Jt extends ${constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class wt extends Jt{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new p("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new p("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new p("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new p("h",t)),this}static fromJson(t){const r=new wt;return t.width&&r.width(t.width),t.height&&r.height(t.height),t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function Ri(){return new wt}function nr(){return new Jt("faces")}function Fi(){return new Jt("ocr_text")}class Vi extends ${constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new p("e",`blur_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new p("e",`blur_region${t}`)),this.addQualifier(new p("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new p("e",`blur_faces${t}`))):this.addQualifier(new p("e",`blur${t}`))}static fromJson(t){const{strength:r,region:n}=t,s=new this(r);return r&&s.strength(r),n&&n.regionType==="faces"&&s.region(nr()),n&&n.regionType==="ocr_text"&&s.region(Fi()),n&&n.regionType==="custom"&&s.region(wt.fromJson(n)),s}}function q(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const ir={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},ji={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},sr={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},or={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},Pi={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},ar={444:"CHROMA_444",420:"CHROMA_420"},Li={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},Ii=q(ar);q(Li);const ki=q(ir),Qi=q(ji),ur=q(sr);q(or);q(Pi);class cr extends ${constructor(t,r){super(),this._actionModel={},this._actionModel.actionType=ur[t]||t;const n=this.createEffectQualifier(t,r);this.addQualifier(n)}createEffectQualifier(t,r){let n;return r?n=new _([t,`${r}`]).setDelimiter(":"):n=new _(t),new p("e",n)}static fromJson(t){const{actionType:r,level:n,strength:s}=t,o=sr[r]||r;return new this(o,n||s)}}class Gi extends cr{constructor(t,r){super(t,r),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=ur[t]||t,r&&this.setLevel(r)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const r=this.createEffectQualifier(this.effectType,t);return this.addQualifier(r),this}}function bt(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class Di extends ${constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new _(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new _(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new _(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new _(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new _(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new p("e",t))}static fromJson(t){const{actionType:r,paths:n,cornersLevel:s,despeckleLevel:o,detailLevel:u,numOfColors:l}=t,h=new this;return n&&h.paths(n),s&&h.cornersLevel(s),o&&h.despeckleLevel(o),u&&h.detailsLevel(u),l&&h.numOfColors(l),h}}class qi extends Gi{level(t){return this._actionModel.level=t,this.setLevel(t)}}class Ui extends ${constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new p("e",new _("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new p("e",new _(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new p("e",new _(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:r,type:n,stripesStrength:s}=t,o=new this;return n==="xray"&&o.xray(),n==="stripes"&&s&&o.stripesStrength(s),o}}class Bi extends qi{color(t){return this._actionModel.color=t,this.addQualifier(new p("co",new _(bt(t))))}static fromJson(t){const{actionType:r,level:n,color:s}=t,o=new this(r,n);return s&&o.color(s),o}}class Ni extends ${constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new p("e",`pixelate_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new p("e",`pixelate_region${t}`)),this.addQualifier(new p("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new p("e",`pixelate_faces${t}`))):this.addQualifier(new p("e",`pixelate${t}`))}static fromJson(t){const{region:r,squareSize:n}=t,s=new this(n);return n&&s.squareSize(n),r&&r.regionType==="faces"&&s.region(nr()),r&&r.regionType==="custom"&&s.region(Ri()),s}}const zi=e=>Ki(encodeURIComponent,Yi,Wi)(e),Ji=/[!'()*~_.-]/g,Hi={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},Yi=e=>e.replace(Ji,t=>{var r;return(r=Hi[t])!==null&&r!==void 0?r:t}),Wi=e=>e.replace(/%20/g," "),Ki=(...e)=>t=>e.reduce((r,n)=>n(r),t);function Xi(e){return new Vi(e)}function Zi(){return new cr("grayscale")}function Ge(e){return new Bi("colorize",e)}function ts(){return new Di}function es(){return new Ui}function rs(e){return new Ni(e)}let ns=class extends ${constructor(t){super(),this._actionModel={},this.addQualifier(new p("b",new _(bt(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}},De=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:zt(`unsupported action ${this.constructor.name}`)}}};function is(e){const t=e;return"error"in t&&!!t.error}function ss(){return new O("ignore_aspect_ratio")}function os(){return new O("lossy")}function as(){return new O("preserve_transparency")}function us(e){return new O("progressive",e)}function cs(){return new O("region_relative")}function ls(){return new O("relative")}let Ht=class extends _{constructor(t){super(t),this.val=t}getValue(){return this.val}},lr=class extends ${constructor(t,r,n){super(),this._actionModel={};let s;r instanceof Ht?s=r.getValue():s=r,this._actionModel.actionType=Qi[t],this._actionModel[n]=s,this.addQualifier(new p(t,r))}},ds=class extends O{constructor(t){super("progressive",t)}},Ut=class extends lr{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(os()),this}progressive(t){return t instanceof ds?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(us(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(as()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}},At=class dr{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new De(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof dr?this.actions=this.actions.concat(t.actions):this.actions.push(new De(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new Ut("q",t)),this}format(t){return this.addAction(new Ut("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new ns(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new $;let n=t;return typeof t=="string"&&(n=new O(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(is(n))return n;t.push(n)}return{actions:t}}};function qe(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}let fs=class extends _{},fr=class extends ${constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=ki[t]||t,this.addQualifier(new p("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new p("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new p("w",t))}aspectRatio(t){if(t instanceof fs)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new p("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=qe(t),this.addQualifier(new p("ar",qe(t)));if(t instanceof O)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(ls())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(cs())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=ir[r]||r,g=new this(d,l,h);return u&&g.aspectRatio(u==="ignore_aspect_ratio"?ss():u),s&&g.relative(),o&&g.regionRelative(),g}},Tt=class extends p{constructor(t){super("g",new _(t))}},hr=class extends Tt{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}},pr=class extends Tt{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}},gr=class extends Tt{constructor(t){super(t)}};function hs(e){return new gr(e)}function mr(...e){const t=[...e];return new pr(t)}function yr(){return new hr}let W=class extends _{constructor(t){super(),this.name=t}toString(){return this.name}};function ps(){return new W("ocr_text")}function gs(e){return e&&`${e}`.split(":")[0]==="auto"}function ms(e){const t=Yt(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function Yt(e){return`${e}`.replace("g_","")}function ys(e){return{compass:Yt(e),gravityType:"direction"}}function _s(e){return Yt(e)==="ocr_text"}function vs(){return{gravityType:"ocr"}}function ws(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function bs(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function _r(e){let t;const r=e==="auto"?new hr:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(bs)}}function As(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=yr().autoFocus(...o);s.fallbackGravity=_r(u)}return s}function Ts(e){const r=e.split(":").map(n=>new W(n));return new pr(r)}function Os(e){return ms(e)?ys(e):_s(e)?vs():gs(e)||ws(e)?_r(e):As(typeof e=="string"?Ts(e):e)}let Ss=class vr extends _{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof W?t:new W(t);return new vr(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}},wr=class extends _{constructor(t){super(),this.val=t}toString(){return this.val}};function $s(e){return e.gravityType==="direction"}function Es(e){return e.gravityType==="ocr"}function Cs(e){return e.gravityType==="auto"}function Ms(e){const{object:t,weight:r,avoid:n}=e,s=new Ss(new W(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function br(e){const r=(e.autoFocus||[]).map(Ms);return yr().autoFocus(...r)}function xs(e){const t=(e.focusOnObjects||[]).map(n=>new W(n)),r=mr(...t);if(e.fallbackGravity){const n=br(e.fallbackGravity);r.fallbackGravity(n)}return r}function Rs(e){return $s(e)?new gr(new wr(e.compass)):Es(e)?mr(ps()):Cs(e)?br(e):xs(e)}let Wt=class extends fr{gravity(t){this._actionModel.gravity=Os(t);const r=typeof t=="string"?new p("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(Rs(t.gravity)),r}};class at extends p{constructor(t){super("b"),t&&this.addValue(t)}}const Ar=100,Fs=0;class Vs extends at{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${Ar}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}}var Tr=Vs;class Kt extends at{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>bt(r)),this}}class Or extends Kt{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Sr extends Kt{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class $r extends Sr{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Er extends Sr{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Cr extends Kt{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Mr extends at{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${zi(this._prompt)}`:""}`}}function xr(e){return`${e}`.replace("b_","")}function js(){return{backgroundType:"auto"}}function Ps(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function Xt(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function Ls(e){return Object.assign(Object.assign({},Xt(e)),{backgroundType:"border"})}function Rr(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=Xt(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function Is(e){return Object.assign(Object.assign({},Rr(e)),{backgroundType:"borderGradient"})}function ks(e){return{backgroundType:"color",color:xr(e)}}function Qs(e){return Object.assign(Object.assign({},Xt(e)),{backgroundType:"predominant"})}function Gs(e){return Object.assign(Object.assign({},Rr(e)),{backgroundType:"predominantGradient"})}function Ds(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function qs(e){return xr(e)==="auto"?js():e instanceof Tr?Ps(e):e instanceof Or?Ls(e):e instanceof $r?Is(e):e instanceof Cr?Qs(e):e instanceof Er?Gs(e):e instanceof Mr?Ds(e):ks(e)}function Us(){return new Ht("svg")}function Zt(){return new Ht("auto")}function Fr(){return new Or}function Vr(){return new at("auto")}function jr(){return new $r}function Pr(){return new Er}function Lr(){return new Cr}function Ir(e){return new at(bt(e))}function Bs(){return new Tr}function kr(){return new Mr}const Qr={auto:Vr,border:Fr,borderGradient:jr,predominantGradient:Pr,predominant:Lr,color:Ir,blurred:Bs,generativeFill:kr};function Ns(e){const{brightness:t,intensity:r}=e,n=Qr.blurred();return n.brightness(t??Fs),n.intensity(r??Ar),n}function Ue(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function Be(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function zs(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function Js(e){const{backgroundType:t}=e;switch(t){case"auto":return Vr();case"blurred":return Ns(e);case"border":return Be(Fr(),e);case"borderGradient":return Ue(jr(),e);case"predominant":return Be(Lr(),e);case"predominantGradient":return Ue(Pr(),e);case"generativeFill":return zs(kr(),e);default:return Ir(e.color)}}class Hs extends Wt{background(t){return this._actionModel.background=qs(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new p("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new p("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(Js(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}}class Ys extends fr{liquidRescaling(){return this.addQualifier(new Tt("liquid"))}}class Ws extends Wt{x(t){return this._actionModel.x=t,this.addQualifier(new p("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new p("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new p("z",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),t.zoom&&r.zoom(t.zoom),r}}let Ks=class extends Wt{x(t){return this._actionModel.x=t,this.addQualifier(new p("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new p("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}};function Xs(e,t){return new Ys("scale",e,t)}function Zs(e,t){return new Ws("crop",e,t)}function to(e,t){return new Ks("fill",e,t)}function eo(e,t){return new Hs("pad",e,t)}class ro extends lr{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=ar[t];const r=new _([this._actionModel.level,t]);return r.setDelimiter(":"),this.addQualifier(new p("q",r))}quantization(t){this._actionModel.quantization=t;const r=new _([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new p("q",r))}static fromJson(t){const{level:r,chromaSubSampling:n,quantization:s}=t,o=or[r]||r,u=new this(o);if(n){const l=Ii[n.toUpperCase()];l&&u.chromaSubSampling(+l)}return s&&u.quantization(s),u}}function Ot(e){return new Ut("f",e)}function St(e){return new ro(e)}function no(){return new wr("north_east")}Ge(70).color("black"),Ge(40).color("white"),Zi(),es();new At().effect(ts()).delivery(St("auto")).delivery(Ot(Us()));new At().effect(rs()).delivery(St("auto")).delivery(Ot(Zt()));new At().effect(Xi(2e3)).delivery(St("auto")).delivery(Ot(Zt()));new At().resize(eo("iw_div_2").aspectRatio(1).background(Qr.auto())).resize(Zs(1,1).gravity(hs(no()))).resize(to().height("ih").width("iw")).delivery(St("auto")).delivery(Ot(Zt()));var Ne={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},ze="?_a=",io=(function(){function e(t,r,n,s,o,u,l){var h=this;this.mimeType="video",this.mimeSubTypes=Ne,this.videoElement=t,this.originalVideo=r,this.videoOptions=l,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var d=D(r);mt(t,r,s,this.htmlPluginState).then(function(){h.htmlPluginState.pluginEventSubscription.forEach(function(g){g()}),h.setVideoAttributes(o,u),h.handleSourceToVideo(d,n)})}return e.prototype.handleSourceToVideo=function(t,r){var n=this;if(r)this.generateUserSources(t,r);else{var s=["webm","mp4","ogv"];s.forEach(function(o){n.appendSourceTag(D(t),o)})}},e.prototype.generateUserSources=function(t,r){var n=this;r.map(function(s){var o=s.type,u=s.codecs,l=s.transcode;return n.appendSourceTag(D(t).transcode(l),o,n.buildMimeType(o,u))})},e.prototype.appendSourceTag=function(t,r,n){var s,o=document.createElement("source"),u=(s=this.videoOptions)===null||s===void 0?void 0:s.useFetchFormat;u&&t.format(r);var l=t.toURL(),h=l.split(ze),d=h[1]?"".concat(ze).concat(h[1]):"",g=u?"":".".concat(r);o.src="".concat(h[0]).concat(g).concat(d),o.type=n||"video/".concat(Ne[r]||r),this.videoElement.appendChild(o)},e.prototype.buildMimeType=function(t,r){var n="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return r&&(n+="; codecs="+(Array.isArray(r)?r.join(", "):r)),n},e.prototype.setVideoAttributes=function(t,r){var n;if(t===void 0&&(t={}),r==="auto"){var s=D(this.originalVideo);t.poster=s.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else r&&(t.poster=(n=r.toURL)===null||n===void 0?void 0:n.call(r));for(var o=0,u=Object.entries(t);o<u.length;o++){var l=u[o],h=l[0],d=l[1];d&&this.videoElement.setAttribute(h,h==="poster"?d:"")}},e.prototype.update=function(t,r,n,s,o){var u=this;if(t!==this.originalVideo){for(var l=this.videoElement.getElementsByTagName("SOURCE");l[0];)l[0].parentNode.removeChild(l[0]);mt(this.videoElement,t,n,this.htmlPluginState).then(function(){u.setVideoAttributes(s,o),u.handleSourceToVideo(t,r),u.videoElement.load()})}},e})(),so="Expected a function",Je=NaN,oo="[object Symbol]",ao=/^\s+|\s+$/g,uo=/^[-+]0x[0-9a-f]+$/i,co=/^0b[01]+$/i,lo=/^0o[0-7]+$/i,fo=parseInt,ho=typeof I=="object"&&I&&I.Object===Object&&I,po=typeof self=="object"&&self&&self.Object===Object&&self,go=ho||po||Function("return this")(),mo=Object.prototype,yo=mo.toString,_o=Math.max,vo=Math.min,Qt=function(){return go.Date.now()};function wo(e,t,r){var n,s,o,u,l,h,d=0,g=!1,A=!1,V=!0;if(typeof e!="function")throw new TypeError(so);t=He(t)||0,Bt(r)&&(g=!!r.leading,A="maxWait"in r,o=A?_o(He(r.maxWait)||0,t):o,V="trailing"in r?!!r.trailing:V);function B(y){var E=n,j=s;return n=s=void 0,d=y,u=e.apply(j,E),u}function X(y){return d=y,l=setTimeout(M,t),g?B(y):u}function ut(y){var E=y-h,j=y-d,rt=t-E;return A?vo(rt,o-j):rt}function Z(y){var E=y-h,j=y-d;return h===void 0||E>=t||E<0||A&&j>=o}function M(){var y=Qt();if(Z(y))return tt(y);l=setTimeout(M,ut(y))}function tt(y){return l=void 0,V&&n?B(y):(n=s=void 0,u)}function ct(){l!==void 0&&clearTimeout(l),d=0,n=h=s=l=void 0}function et(){return l===void 0?u:tt(Qt())}function N(){var y=Qt(),E=Z(y);if(n=arguments,s=this,h=y,E){if(l===void 0)return X(h);if(A)return l=setTimeout(M,t),B(h)}return l===void 0&&(l=setTimeout(M,t)),u}return N.cancel=ct,N.flush=et,N}function Bt(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function bo(e){return!!e&&typeof e=="object"}function Ao(e){return typeof e=="symbol"||bo(e)&&yo.call(e)==oo}function He(e){if(typeof e=="number")return e;if(Ao(e))return Je;if(Bt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Bt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(ao,"");var r=co.test(e);return r||lo.test(e)?fo(e.slice(2),r?2:8):uo.test(e)?Je:+e}var To=wo;function Oo(e){return typeof e=="number"}function te(){return typeof window<"u"}function So(e){return e instanceof HTMLImageElement}var $o={accessibility:!1,lazyload:!1,placeholder:!1,responsive:!1},Eo=function(e){return e.replace("bound ","").replace("Plugin","")},Co=function(e,t){e===void 0&&(e=[]);var r=e.reduce(function(n,s){var o,u=s.name;return st(st({},n),(o={},o[Eo(u)]=!0,o))},$o);return r[t]};function Mo(e){var t=e===void 0?{}:e,r=t.steps;return xo.bind(null,r)}function xo(e,t,r,n,s,o){if(!te())return!0;if(So(t))return new Promise(function(u){n.cleanupCallbacks.push(function(){window.removeEventListener("resize",d),u("canceled")});var l=qt(s,{responsive:!0});r.addAction(new $().setActionTag("responsive"));var h=!Co(o,"placeholder");h?Ye(e,t,r,l):Gr(e,t,r);var d;n.pluginEventSubscription.push(function(){window.addEventListener("resize",d=To(function(){Ye(e,t,r,l)},100))}),u({responsive:!0})})}function Ye(e,t,r,n){Gr(e,t,r),t.src=r.toURL(n)}function Gr(e,t,r){var n=t.parentElement.clientWidth;if(Oo(e)){var s=e;n=Math.ceil(n/s)*s}else Array.isArray(e)&&(n=e.reduce(function(o,u){return Math.abs(u-n)<Math.abs(o-n)?u:o}));r.transformation.actions.forEach(function(o,u){o instanceof $&&o.getActionTag()==="responsive"&&(r.transformation.actions[u]=Xs(n).setActionTag("responsive"))})}function Ro(e){var t={},r=t.rootMargin,n=r===void 0?"0px":r,s=t.threshold,o=s===void 0?.1:s;return Fo.bind(null,n,o)}function Fo(e,t,r,n,s,o){return e===void 0&&(e="0px"),t===void 0&&(t=.1),te()?new Promise(function(u){var l=function(){return u({lazyload:!0})},h=jo(r,l,e,t);s.cleanupCallbacks.push(function(){h(),u("canceled")})}):!1}function Vo(){return window&&"IntersectionObserver"in window}function jo(e,t,r,n){try{if(!Vo())return t(),function(){};var s=new IntersectionObserver(function(o){o.forEach(function(u){u.isIntersecting&&(s.unobserve(u.target),t())})},{rootMargin:r,threshold:n});return s.observe(e),function(){e&&s.observe(e)}}catch{t()}}function Po(e,t,r){var n=D(t);if(e)for(var s=0;s<e.length;s++){var o=e[s](null,n);if(!o)break}return n.toURL(r?{trackedAnalytics:r}:null)}function yt(e){e.cleanupCallbacks.forEach(function(t){t()})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nt=function(e,t){return Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Nt(e,t)};function Dr(e,t){Nt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ot=function(){return ot=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ot.apply(this,arguments)};function qr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var Gt={sdkSemver:"1.14.3",techVersion:L.version,sdkCode:"J"},Lo=(function(e){Dr(t,e);function t(r){var n=e.call(this,r)||this;return n.imageRef=L.createRef(),n}return t.prototype.componentDidMount=function(){this.htmlLayerInstance=new Oi(this.imageRef.current,this.props.cldImg,this.props.plugins,Gt)},t.prototype.componentDidUpdate=function(){yt(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,Gt)},t.prototype.componentWillUnmount=function(){yt(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},t.prototype.render=function(){var r=this.props;r.cldImg,r.plugins;var n=qr(r,["cldImg","plugins"]);if(te())return L.createElement("img",ot({suppressHydrationWarning:!0},n,{ref:this.imageRef}));var s=Po(this.props.plugins,this.props.cldImg,Gt);return L.createElement("img",ot({},n,{src:s}))},t})(L.Component),Io=["controls","loop","muted","poster","preload","autoplay","playsinline"];(function(e){Dr(t,e);function t(r){var n=e.call(this,r)||this;return n.videoRef=Qe.createRef(),n.attachRef=n.attachRef.bind(n),n}return t.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new io(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},t.prototype.componentDidUpdate=function(){yt(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},t.prototype.componentWillUnmount=function(){yt(this.htmlVideoLayerInstance.htmlPluginState)},t.prototype.getVideoAttributes=function(){var r=this,n={};return Io.forEach(function(s){s in r.props&&(n[s]=r.props[s])}),n},t.prototype.attachRef=function(r){this.videoRef.current=r;var n=this.props.innerRef;n&&(n instanceof Function?n(r):n.current=r)},t.prototype.render=function(){var r=this.props;r.cldVid,r.cldPoster,r.plugins,r.sources,r.innerRef,r.useFetchFormat;var n=qr(r,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return L.createElement("video",ot({},n,{ref:this.attachRef}))},t})(Qe.Component);function ko(e){return!(typeof e!="object"||e instanceof Array)}class Qo{filterOutNonSupportedKeys(t,r){const n=Object.create({});return ko(t)?(Object.keys(t).forEach(s=>{r.indexOf(s)>=0?n[s]=t[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),n):Object.create({})}}const We=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class ee extends Qo{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,We);Object.assign(this,{secure:!0},r)}extend(t){const r=this.filterOutNonSupportedKeys(t,We);return new ee(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}class C{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}}class Go extends Error{constructor(t="Unsupported"){super(t)}}function re(e){return new Go(e)}function Do(){return this._qualifierModel||{error:re(`unsupported qualifier ${this.constructor.name}`)}}class qo{constructor(){this._qualifierModel={}}toJson(){return Do.apply(this)}}class T extends qo{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof C?this.qualifierValue=r:(this.qualifierValue=new C,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class S extends T{constructor(t,r){let n;r?n=new C([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function Uo(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function Bo(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:re(`unsupported action ${this.constructor.name}`)}}class No{constructor(){this._actionModel={}}toJson(){return Bo.apply(this)}}class $t extends No{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),Uo(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new S(n)):this.qualifiers.set(r,new T(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new S(t)):t instanceof S&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}}function zo(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class Jo extends $t{constructor(t){super(),this._actionModel={},this.addQualifier(new T("b",new C(zo(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}}class Ke{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:re(`unsupported action ${this.constructor.name}`)}}}function Ho(e){const t=e;return"error"in t&&!!t.error}function Yo(){return new S("ignore_aspect_ratio")}function Wo(){return new S("lossy")}function Ko(){return new S("preserve_transparency")}function Xo(e){return new S("progressive",e)}function Zo(){return new S("region_relative")}function ta(){return new S("relative")}class Ur extends C{constructor(t){super(t),this.val=t}getValue(){return this.val}}function U(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const Br={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},ea={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},ra={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},na={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},ia={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},sa={444:"CHROMA_444",420:"CHROMA_420"},oa={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};U(sa);U(oa);const aa=U(Br),ua=U(ea);U(ra);U(na);U(ia);class ca extends $t{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof Ur?s=r.getValue():s=r,this._actionModel.actionType=ua[t],this._actionModel[n]=s,this.addQualifier(new T(t,r))}}class la extends S{constructor(t){super("progressive",t)}}class _t extends ca{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(Wo()),this}progressive(t){return t instanceof la?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(Xo(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Ko()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let u;return r?u=new this("f",r):u=new this("f"),s&&(s.mode?u.progressive(s.mode):u.progressive()),n&&u.lossy(),o&&u.preserveTransparency(),u}}class Et{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new Ke(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof Et?this.actions=this.actions.concat(t.actions):this.actions.push(new Ke(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new _t("q",t)),this}format(t){return this.addAction(new _t("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new Jo(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new $t;let n=t;return typeof t=="string"&&(n=new S(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(Ho(n))return n;t.push(n)}return{actions:t}}}class da extends Et{}class fa extends Et{}function Xe(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}class ha extends C{}class pa extends $t{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=aa[t]||t,this.addQualifier(new T("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new T("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new T("w",t))}aspectRatio(t){if(t instanceof ha)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new T("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=Xe(t),this.addQualifier(new T("ar",Xe(t)));if(t instanceof S)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(ta())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(Zo())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:u,width:l,height:h}=n,d=Br[r]||r,g=new this(d,l,h);return u&&g.aspectRatio(u==="ignore_aspect_ratio"?Yo():u),s&&g.relative(),o&&g.regionRelative(),g}}class ne extends T{constructor(t){super("g",new C(t))}}class Nr extends ne{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class zr extends ne{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class ga extends ne{constructor(t){super(t)}}function Jr(...e){const t=[...e];return new zr(t)}function ie(){return new Nr}class K extends C{constructor(t){super(),this.name=t}toString(){return this.name}}function ma(){return new K("ocr_text")}function ya(e){return e&&`${e}`.split(":")[0]==="auto"}function _a(e){const t=se(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function se(e){return`${e}`.replace("g_","")}function va(e){return{compass:se(e),gravityType:"direction"}}function wa(e){return se(e)==="ocr_text"}function ba(){return{gravityType:"ocr"}}function Aa(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Ta(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function Hr(e){let t;const r=e==="auto"?new Nr:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(Ta)}}function Oa(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),u=ie().autoFocus(...o);s.fallbackGravity=Hr(u)}return s}function Sa(e){const r=e.split(":").map(n=>new K(n));return new zr(r)}function $a(e){return _a(e)?va(e):wa(e)?ba():ya(e)||Aa(e)?Hr(e):Oa(typeof e=="string"?Sa(e):e)}class oe extends C{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof K?t:new K(t);return new oe(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class Ea extends C{constructor(t){super(),this.val=t}toString(){return this.val}}function Ca(e){return e.gravityType==="direction"}function Ma(e){return e.gravityType==="ocr"}function xa(e){return e.gravityType==="auto"}function Ra(e){const{object:t,weight:r,avoid:n}=e,s=new oe(new K(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function Yr(e){const r=(e.autoFocus||[]).map(Ra);return ie().autoFocus(...r)}function Fa(e){const t=(e.focusOnObjects||[]).map(n=>new K(n)),r=Jr(...t);if(e.fallbackGravity){const n=Yr(e.fallbackGravity);r.fallbackGravity(n)}return r}function Va(e){return Ca(e)?new ga(new Ea(e.compass)):Ma(e)?Jr(ma()):xa(e)?Yr(e):Fa(e)}class ja extends pa{gravity(t){this._actionModel.gravity=$a(t);const r=typeof t=="string"?new T("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(Va(t.gravity)),r}}function Pa(){return"auto"}function La(){return new Ur("auto")}class Ia extends ja{x(t){return this._actionModel.x=t,this.addQualifier(new T("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new T("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function ka(e,t){return new Ia("fill",e,t)}function Qa(e){return e.match(/^https?:\//)}function Ga(e){return e.indexOf("/")<0}function Da(e){return e.match(/^v[0-9]+/)}function qa(e,t){const r=t.secure,n=t.privateCdn,s=t.cname,o=t.secureDistribution;return!r&&!s?`http://res.cloudinary.com/${e}`:r&&!o&&n?`https://${e}-res.cloudinary.com`:r&&!o?`https://res.cloudinary.com/${e}`:r&&o&&n?`https://${o}`:r&&o?`https://${o}/${e}`:!r&&s?`http://${s}/${e}`:"ERROR"}function Ua(e){return e||"image"}function Ba(e){return e||"upload"}function Na(e,t,r){const n=r!==!1;return t?`v${t}`:Da(e)||Qa(e)||Ga(e)?"":n?"v1":""}function ae(e,t,r){let n=t>>0,s=String(r);return e.length>n?String(e):(n=n-e.length,n>s.length&&(s+=za(s,n/s.length)),s.slice(0,n)+String(e))}function za(e,t){let r=t,n="";for(;r>0;)n+=e,r--;return n}const Ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vt={};let Ze=0;Ja.split("").forEach(e=>{let t=Ze.toString(2);t=ae(t,6,"0"),vt[t]=e,Ze++});function Ha(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().join(".")}function Ya(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").map(t=>{const r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return ae(t,2,"0")}).join(".")}function tr(e){let t="";const n=e.split(".").length*6,s=Ha(e),o=Ya(s);let l=parseInt(o.split(".").join("")).toString(2);if(l=ae(l,n,"0"),l.length%6!==0)throw"Version must be smaller than 43.21.26)";return l.match(/.{1,6}/g).forEach(h=>{t+=vt[h]}),t}function Wa(e){const t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0",osType:e.osType,osVersion:e.osVersion};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),e.feature&&(t.feature=e.feature),t}const Ka="1.22.0";function Xa(e){const[t,r]=e.split("."),n=parseInt(t).toString(2),s=parseInt(r).toString(2),o=n.padStart(6,"0"),u=s.padStart(6,"0");return vt[o]+vt[u]}function Za(){const e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function tu(e){const t={techVersion:Za(),sdkCode:"T",sdkSemver:Ka.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function er(e){const t=tu(e),r=Wa(t);try{const n=eu(r.techVersion),s=tr(r.sdkSemver),o=tr(n),u=Xa(r.osVersion),l=r.feature,h=r.sdkCode,{product:d,osType:g}=r;return`D${d}${h}${s}${o}${g}${u}${l}`}catch{return"E"}}function eu(e){const t=e.split(".");return`${t[0]}.${t[1]}`}const rr={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class ru{constructor(t,r={},n){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(n)}setURLConfig(t){return this.urlConfig=new ee(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){const t=Ua(this.assetType),r=Ba(this.deliveryType),n=!!this.suffix,s=`${t}/${r}`,o=rr[`${t}/${r}`],u=this.urlConfig.useRootPath,l=this.urlConfig.shorten;if(u){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(l&&s==="image/upload")return"iu";if(n){if(o)return o;throw new Error(`URL Suffix only supported for ${Object.keys(rr).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();const n=qa(this.cloudName,this.urlConfig),s=t?t.toString():"",o=Na(this.publicID,this.version,this.urlConfig.forceVersion),u=this.publicID;if(typeof t=="string")return[n,this.getResourceType(),this.getSignature(),s,o,u.replace(/,/g,"%2C"),this.suffix].filter(h=>h).join("/");{const l=[encodeURI(n),this.getResourceType(),this.getSignature(),encodeURI(s),o,encodeURI(u).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(g=>g).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),h=this.urlConfig.analytics!==!1&&!u.includes("?");let d="";if(typeof this.urlConfig.queryParams=="object")try{const g=new URLSearchParams(this.urlConfig.queryParams);h&&g.set("_a",er(r)),d=g.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else d=this.urlConfig.queryParams||"",h&&(d+=`${d.length>0?"&":""}_a=${er(r)}`);return d?`${l}?${d}`:l}}}class Wr extends ru{constructor(t,r,n,s){super(t,r,n),this.transformation=s}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new _t("q",t)),this}format(t){return this.addAction(new _t("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t?.trackedAnalytics)}}let nu=class extends Wr{constructor(t,r,n){super(t,r,n,new da)}};class iu extends Wr{constructor(t,r,n){super(t,r,n,new fa),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}class su{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new nu(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new iu(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}const ou=new su({cloud:{cloudName:"your-cloud-name"}}),Fu=({publicId:e,alt:t,width:r,height:n,className:s})=>{if(!e){const u={width:r?`${r}px`:"100%",height:n?`${n}px`:"100%",backgroundColor:"#f0f0f0",display:"inline-block"};return L.createElement("span",{style:u,className:s})}const o=ou.image(e);return o.quality(Pa()).format(La()),r&&n&&o.resize(ka(r,n).gravity(ie())),L.createElement(Lo,{cldImg:o,alt:t,className:s,plugins:[Mo({steps:[800,1e3,1400]}),Ro()]})};export{Fu as C};
