import{r as s,R as e,W as P}from"./index-gcsECw-u.js";import{C as p}from"./cloudinaryImage-Zl7k-4H-.js";import{p as g}from"./cloudinaryContent-9WNOh6YK.js";const C=()=>{var u,b,h,E,f,y;const[c,d]=s.useState(null),[N,x]=s.useState(!0);if(s.useEffect(()=>{let r=!0;return(async()=>{try{const n=await fetch("/api/about");if(!n.ok)throw new Error(`About fetch failed: ${n.status}`);const v=await n.json();if(!r)return;d(v)}catch(n){console.error("Failed to load About page data:",n),d(null)}finally{r&&x(!1)}})(),()=>{r=!1}},[]),N)return e.createElement("div",null,"Loading...");if(!c)return e.createElement("div",null,"Could not load page data.");const{page:l,persons:o=[]}=c,t=o.find(r=>r.name&&r.name.includes("Weston"))||{},a=o.find(r=>r.name&&r.name.includes("Catherine"))||{},m=((b=(u=t==null?void 0:t.headshot)==null?void 0:u.asset)==null?void 0:b.public_id)||g.weston,i=((E=(h=a==null?void 0:a.headshot)==null?void 0:h.asset)==null?void 0:E.public_id)||g.catherine;return e.createElement(e.Fragment,null,e.createElement(P,null,e.createElement("title",null,(l==null?void 0:l.title)||"About Us"," | Local Effort"),e.createElement("meta",{name:"description",content:(l==null?void 0:l.introduction)||"Meet the chefs behind Local Effort."})),e.createElement("div",{className:"space-y-16"},!l&&e.createElement("div",{className:"card text-body bg-yellow-100 border-yellow-400"},e.createElement("strong",null,"Content Missing:"),' Please ensure a "Page" document with the exact slug "about-us" has been created and published in your Sanity Studio.'),e.createElement("h2",{className:"text-hero uppercase border-b border-gray-900 pb-4"},l==null?void 0:l.title),e.createElement("div",{className:"prose-lite max-w-3xl"},e.createElement("p",null,l==null?void 0:l.introduction)),e.createElement("div",{className:"grid md:grid-cols-2 gap-8"},o.length===0&&e.createElement("div",{className:"card text-body md:col-span-2 bg-yellow-100 border-yellow-400"},e.createElement("strong",null,"Content Missing:"),' Please ensure "Person" documents for the team have been created and published in your Sanity Studio.'),t&&m&&e.createElement("div",{className:"card"},e.createElement("h3",{className:"text-heading"},t.name),e.createElement("div",{className:"my-4"},e.createElement(p,{publicId:m,alt:((f=t==null?void 0:t.headshot)==null?void 0:f.alt)||(t==null?void 0:t.name)||"Team member headshot",width:600,height:400,className:"rounded-md w-full h-auto object-cover",fallbackSrc:"/gallery/IMG-1013.JPG"})),(t==null?void 0:t.role)&&e.createElement("p",{className:"text-body text-gray-600 mb-4"},t.role),(t==null?void 0:t.bio)&&e.createElement("p",{className:"text-body"},t.bio)),a&&i&&e.createElement("div",{className:"card"},e.createElement("h3",{className:"text-heading"},a.name),e.createElement("div",{className:"my-4"},e.createElement(p,{publicId:i,alt:((y=a==null?void 0:a.headshot)==null?void 0:y.alt)||(a==null?void 0:a.name)||"Team member headshot",width:600,height:400,className:"rounded-md w-full h-auto object-cover",fallbackSrc:"/gallery/catherine.jpg"})),(a==null?void 0:a.role)&&e.createElement("p",{className:"text-body text-gray-600 mb-4"},a.role),(a==null?void 0:a.bio)&&e.createElement("p",{className:"text-body"},a.bio)))))};export{C as default};
