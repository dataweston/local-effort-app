import{r as o,R as e,W as g}from"./index-BNYhxoav.js";import{s as f}from"./sanityClient-yUTz_zYv.js";const N=()=>{const[d,i]=o.useState(null),[p,y]=o.useState(!0),[l,u]=o.useState(null);if(o.useEffect(()=>{const a=`{
      "page": *[_type == "page" && slug.current == "about-us"][0]{ title, introduction },
      "persons": *[_type == "person"]{ name, role, bio, image{asset->{_ref}} },
      "skills": *[_type == "specialSkill"]{ name, description }
    }`;let m=!0;return(async()=>{var b;try{const n=await f.fetch(a);if(!m)return;i(n),(b=n==null?void 0:n.skills)!=null&&b.length&&u(n.skills[0])}catch(n){console.error("Failed to load About page data:",n),i(null)}finally{m&&y(!1)}})(),()=>{m=!1}},[]),p)return e.createElement("div",null,"Loading...");if(!d)return e.createElement("div",null,"Could not load page data.");const{page:t,persons:c=[],skills:E=[]}=d,r=c.find(a=>a.name.includes("Weston")),s=c.find(a=>a.name.includes("Catherine"));return e.createElement(e.Fragment,null,e.createElement(g,null,e.createElement("title",null,(t==null?void 0:t.title)||"About Us"," | Local Effort"),e.createElement("meta",{name:"description",content:(t==null?void 0:t.introduction)||"Meet the chefs behind Local Effort."})),e.createElement("div",{className:"space-y-16"},!t&&e.createElement("div",{className:"card text-body bg-yellow-100 border-yellow-400"},e.createElement("strong",null,"Content Missing:"),' Please ensure a "Page" document with the exact slug "about-us" has been created and published in your Sanity Studio.'),e.createElement("h2",{className:"text-hero uppercase border-b border-gray-900 pb-4"},t==null?void 0:t.title),e.createElement("p",{className:"text-body text-lg max-w-3xl"},t==null?void 0:t.introduction),e.createElement("div",{className:"grid md:grid-cols-2 gap-8"},c.length===0&&e.createElement("div",{className:"card text-body md:col-span-2 bg-yellow-100 border-yellow-400"},e.createElement("strong",null,"Content Missing:"),' Please ensure "Person" documents for the team have been created and published in your Sanity Studio.'),r&&e.createElement("div",{className:"card"},e.createElement("h3",{className:"text-heading"},r.name),e.createElement("p",{className:"text-body text-gray-600 mb-4"},r.role),e.createElement("p",{className:"text-body"},r.bio)),s&&e.createElement("div",{className:"card"},e.createElement("h3",{className:"text-heading"},s.name),e.createElement("p",{className:"text-body text-gray-600 mb-4"},s.role),e.createElement("p",{className:"text-body"},s.bio))),e.createElement("div",{className:"card"},e.createElement("h3",{className:"text-heading mb-4"},"Special Skills"),e.createElement("div",{className:"grid md:grid-cols-3 gap-8"},e.createElement("div",{className:"md:col-span-1 text-body flex flex-col space-y-2"},E.map(a=>e.createElement("button",{key:a.name,onMouseEnter:()=>u(a),className:`text-left p-2 border-l-2 rounded-sm ${(l==null?void 0:l.name)===a.name?"border-[var(--color-accent)] bg-gray-200":"border-transparent hover:bg-gray-200"}`},a.name))),l&&e.createElement("div",{className:"md:col-span-2 bg-gray-200 p-6 text-body min-h-[150px] rounded-md"},e.createElement("p",null,l.description))))))};export{N as default};
