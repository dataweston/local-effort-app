{"version":3,"file":"static/js/346.9cd411b9.chunk.js","mappings":"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","sources":["pages/CrowdfundingPage.js","sanityClient.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport sanityClient from '../sanityClient.js'; // Adjust the path if needed\r\n\r\n// Helper component for social sharing icons (remains the same)\r\nconst ShareIcon = ({ children }) => (\r\n    <div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors\">\r\n        {children}\r\n    </div>\r\n);\r\n\r\nconst CrowdfundingPage = () => {\r\n    const [campaignData, setCampaignData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        // The GROQ query to fetch the campaign data\r\n        const query = `*[_type == \"crowdfundingCampaign\"][0]{\r\n            title,\r\n            description,\r\n            goal,\r\n            raisedAmount,\r\n            backers,\r\n            endDate,\r\n            \"heroImageUrl\": heroImage.asset->url,\r\n            story,\r\n            rewardTiers[]->{\r\n                amount,\r\n                title,\r\n                description\r\n            }\r\n        }`;\r\n\r\n        sanityClient.fetch(query)\r\n            .then((data) => {\r\n                setCampaignData(data);\r\n                setLoading(false);\r\n            })\r\n            .catch(console.error);\r\n    }, []);\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>; // Or a more sophisticated loading spinner\r\n    }\r\n\r\n    if (!campaignData) {\r\n        return <div>No campaign found. Have you created and published it in Sanity Studio?</div>;\r\n    }\r\n    \r\n    // Calculate days left from the endDate\r\n    const daysLeft = Math.ceil((new Date(campaignData.endDate) - new Date()) / (1000 * 60 * 60 * 24));\r\n    const progressPercentage = Math.min((campaignData.raisedAmount / campaignData.goal) * 100, 100);\r\n\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>{campaignData.title || 'Fund Our Next Step'} | Local Effort</title>\r\n                <meta name=\"description\" content={campaignData.description || 'Help Local Effort expand!'} />\r\n            </Helmet>\r\n\r\n            <div className=\"space-y-12\">\r\n                {/* --- Page Header --- */}\r\n                <div>\r\n                    <h2 className=\"text-hero uppercase\">{campaignData.title}</h2>\r\n                    <p className=\"text-body max-w-3xl mt-2\">{campaignData.description}</p>\r\n                </div>\r\n\r\n                {/* --- Main Content Grid --- */}\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-5 lg:gap-16\">\r\n\r\n                    {/* --- Left Column (Story & Details) --- */}\r\n                    <div className=\"lg:col-span-3 space-y-8\">\r\n                        {campaignData.heroImageUrl && (\r\n                             <img src={campaignData.heroImageUrl} alt={campaignData.title} className=\"w-full object-cover rounded-lg aspect-video\" />\r\n                        )}\r\n                        <div className=\"prose max-w-none text-body text-gray-800\">\r\n                             <h3 className=\"text-heading uppercase border-b border-gray-300 pb-2 mb-4\">About This Project</h3>\r\n                             {/* Note: You'll need a library like @portabletext/react to render the 'story' block content properly */}\r\n                             <p><em>Content from Sanity for the story will go here.</em></p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* --- Right Column (Stats & Rewards) --- */}\r\n                    <div className=\"lg:col-span-2 space-y-8 mt-12 lg:mt-0\">\r\n                        {/* --- Progress Card --- */}\r\n                        <div className=\"card p-6 space-y-4\">\r\n                            <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                                <div className=\"bg-[var(--color-accent)] h-2.5 rounded-full\" style={{ width: `${progressPercentage}%` }}></div>\r\n                            </div>\r\n                            <div>\r\n                                <p className=\"text-4xl font-bold text-[var(--color-accent)]\">${campaignData.raisedAmount.toLocaleString()}</p>\r\n                                <p className=\"text-body text-gray-600\">pledged of ${campaignData.goal.toLocaleString()} goal</p>\r\n                            </div>\r\n                            <div className=\"flex justify-between text-body text-center border-y py-3\">\r\n                                <div>\r\n                                    <p className=\"text-3xl font-bold\">{campaignData.backers}</p>\r\n                                    <p className=\"text-gray-600\">backers</p>\r\n                                </div>\r\n                                 <div>\r\n                                    <p className=\"text-3xl font-bold\">{daysLeft > 0 ? daysLeft : 'Ended'}</p>\r\n                                    <p className=\"text-gray-600\">{daysLeft > 0 ? 'days to go' : ''}</p>\r\n                                </div>\r\n                            </div>\r\n                            <button className=\"btn btn-primary w-full text-lg py-3\">\r\n                                Back this project\r\n                            </button>\r\n                             <div className=\"flex justify-center items-center pt-2 space-x-3\">\r\n                               <p className=\"text-body text-sm text-gray-500\">Share:</p>\r\n                               <ShareIcon>FB</ShareIcon>\r\n                               <ShareIcon>TW</ShareIcon>\r\n                               <ShareIcon>LI</ShareIcon>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* --- Rewards Tiers --- */}\r\n                        <div className=\"space-y-4\">\r\n                            <h3 className=\"text-heading uppercase\">Support Us</h3>\r\n                            {campaignData.rewardTiers?.map((tier) => (\r\n                                <div key={tier.amount} className=\"card p-6\">\r\n                                    <p className=\"text-2xl font-bold\">Pledge ${tier.amount} or more</p>\r\n                                    <h4 className=\"text-xl font-bold text-[var(--color-accent)] mt-1\">{tier.title}</h4>\r\n                                    <p className=\"text-body text-gray-600 my-3\">{tier.description}</p>\r\n                                    <button \r\n                                        className=\"w-full bg-gray-800 text-white font-bold py-2 rounded-md hover:bg-gray-900 transition-colors\"\r\n                                    >\r\n                                        Select this reward\r\n                                    </button>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CrowdfundingPage;\r\n","// src/client.js\r\nimport {createClient} from '@sanity/client'\r\n\r\nexport default createClient({\r\n  projectId: 'd6l9d0ea', // Find this in your sanity.json or at manage.sanity.io\r\n  dataset: 'localeffort', // Or the name of your dataset\r\n  useCdn: false, // `false` if you want to ensure fresh data\r\n  apiVersion: '2023-05-03', // Use a consistent API version\r\n})"],"names":["ShareIcon","_ref","children","_jsx","className","CrowdfundingPage","_campaignData$rewardT","campaignData","setCampaignData","useState","loading","setLoading","useEffect","sanityClient","fetch","then","data","catch","console","error","daysLeft","Math","ceil","Date","endDate","progressPercentage","min","raisedAmount","goal","_jsxs","_Fragment","Helmet","title","name","content","description","heroImageUrl","src","alt","style","width","concat","toLocaleString","backers","rewardTiers","map","tier","amount","createClient","projectId","dataset","useCdn","apiVersion"],"sourceRoot":""}